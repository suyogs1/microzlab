const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/monaco-DJY3YVZ8.js","assets/monaco-CLTksHtb.css"])))=>i.map(i=>d[i]);
var $f=Object.defineProperty;var If=(e,t,n)=>t in e?$f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Co=(e,t,n)=>If(e,typeof t!="symbol"?t+"":t,n);import{r as m,a as Kc,R as er,U as K,g as Lf}from"./vendor-CugZ9KyK.js";import{_ as Of}from"./monaco-DJY3YVZ8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var qc={exports:{}},vr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=m,zf=Symbol.for("react.element"),Vf=Symbol.for("react.fragment"),Ff=Object.prototype.hasOwnProperty,Bf=Df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uf={key:!0,ref:!0,__self:!0,__source:!0};function Yc(e,t,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Ff.call(t,s)&&!Uf.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:zf,type:e,key:a,ref:o,props:r,_owner:Bf.current}}vr.Fragment=Vf;vr.jsx=Yc;vr.jsxs=Yc;qc.exports=vr;var i=qc.exports,Pi={},Eo=Kc;Pi.createRoot=Eo.createRoot,Pi.hydrateRoot=Eo.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tr(){return tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tr.apply(this,arguments)}var Rt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rt||(Rt={}));const ko="popstate";function Zf(e){e===void 0&&(e={});function t(s,r){let{pathname:a,search:o,hash:l}=s.location;return Ri("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Qc(r)}return Wf(t,n,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hf(){return Math.random().toString(36).substr(2,8)}function _o(e,t){return{usr:e.state,key:e.key,idx:t}}function Ri(e,t,n,s){return n===void 0&&(n=null),tr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yr(t):t,{state:n,key:t&&t.key||s||Hf()})}function Qc(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function yr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Wf(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l=Rt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(tr({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Rt.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:y})}function p(x,y){l=Rt.Push;let b=Ri(v.location,x,y);u=d()+1;let w=_o(b,u),j=v.createHref(b);try{o.pushState(w,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(j)}a&&c&&c({action:l,location:v.location,delta:1})}function f(x,y){l=Rt.Replace;let b=Ri(v.location,x,y);u=d();let w=_o(b,u),j=v.createHref(b);o.replaceState(w,"",j),a&&c&&c({action:l,location:v.location,delta:0})}function g(x){let y=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof x=="string"?x:Qc(x);return b=b.replace(/ $/,"%20"),Be(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let v={get action(){return l},get location(){return e(r,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(ko,h),c=x,()=>{r.removeEventListener(ko,h),c=null}},createHref(x){return t(r,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(x){return o.go(x)}};return v}var Po;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Po||(Po={}));function Gf(e,t,n){return n===void 0&&(n="/"),Jf(e,t,n)}function Jf(e,t,n,s){let r=typeof t=="string"?yr(t):t,a=nu(r.pathname||"/",n);if(a==null)return null;let o=eu(e);Kf(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=om(a);l=rm(o[c],u)}return l}function eu(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Be(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Sn([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Be(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eu(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:nm(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,o);else for(let c of tu(a.path))r(a,o,c)}),t}function tu(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=tu(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Kf(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sm(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const qf=/^:[\w-]+$/,Yf=3,Xf=2,Qf=1,em=10,tm=-2,Ro=e=>e==="*";function nm(e,t){let n=e.split("/"),s=n.length;return n.some(Ro)&&(s+=tm),t&&(s+=Xf),n.filter(r=>!Ro(r)).reduce((r,a)=>r+(qf.test(a)?Yf:a===""?Qf:em),s)}function sm(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function rm(e,t,n){let{routesMeta:s}=e,r={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=im({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Sn([a,h.pathname]),pathnameBase:lm(Sn([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Sn([a,h.pathnameBase]))}return o}function im(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=am(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let v=l[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function am(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function om(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const Sn=e=>e.join("/").replace(/\/\/+/g,"/"),lm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function cm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const su=["post","put","patch","delete"];new Set(su);const um=["get",...su];new Set(um);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nr.apply(this,arguments)}const dm=m.createContext(null),hm=m.createContext(null),ru=m.createContext(null),br=m.createContext(null),wr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),iu=m.createContext(null);function pa(){return m.useContext(br)!=null}function fm(){return pa()||Be(!1),m.useContext(br).location}function mm(e,t){return pm(e,t)}function pm(e,t,n,s){pa()||Be(!1);let{navigator:r}=m.useContext(ru),{matches:a}=m.useContext(wr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=fm(),d;if(t){var h;let x=typeof t=="string"?yr(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Be(!1),d=x}else d=u;let p=d.pathname||"/",f=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Gf(e,{pathname:f}),v=bm(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Sn([c,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Sn([c,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,s);return t&&v?m.createElement(br.Provider,{value:{location:nr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rt.Pop}},v):v}function gm(){let e=Sm(),t=cm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:r},n):null,null)}const xm=m.createElement(gm,null);class vm extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(wr.Provider,{value:this.props.routeContext},m.createElement(iu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ym(e){let{routeContext:t,match:n,children:s}=e,r=m.useContext(dm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(wr.Provider,{value:t},s)}function bm(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=n,g=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,g=!1,v=null,x=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||xm,c&&(u<0&&p===0?(Cm("route-fallback"),g=!0,x=null):u===p&&(g=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),b=()=>{let w;return f?w=v:g?w=x:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,m.createElement(ym,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(vm,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var au=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(au||{});function wm(e){let t=m.useContext(hm);return t||Be(!1),t}function jm(e){let t=m.useContext(wr);return t||Be(!1),t}function Nm(e){let t=jm(),n=t.matches[t.matches.length-1];return n.route.id||Be(!1),n.route.id}function Sm(){var e;let t=m.useContext(iu),n=wm(au.UseRouteError),s=Nm();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}const To={};function Cm(e,t,n){To[e]||(To[e]=!0)}function Em(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Ti(e){Be(!1)}function km(e){let{basename:t="/",children:n=null,location:s,navigationType:r=Rt.Pop,navigator:a,static:o=!1,future:l}=e;pa()&&Be(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:nr({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=yr(s));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:g="default"}=s,v=m.useMemo(()=>{let x=nu(d,c);return x==null?null:{location:{pathname:x,search:h,hash:p,state:f,key:g},navigationType:r}},[c,d,h,p,f,g,r]);return v==null?null:m.createElement(ru.Provider,{value:u},m.createElement(br.Provider,{children:n,value:v}))}function _m(e){let{children:t,location:n}=e;return mm(Ai(t),n)}new Promise(()=>{});function Ai(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(s,r)=>{if(!m.isValidElement(s))return;let a=[...t,r];if(s.type===m.Fragment){n.push.apply(n,Ai(s.props.children,a));return}s.type!==Ti&&Be(!1),!s.props.index||!s.props.children||Be(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Ai(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Pm="6";try{window.__reactRouterVersion=Pm}catch{}const Rm="startTransition",Ao=er[Rm];function Tm(e){let{basename:t,children:n,future:s,window:r}=e,a=m.useRef();a.current==null&&(a.current=Zf({window:r,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=m.useCallback(h=>{u&&Ao?Ao(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>Em(s),[s]),m.createElement(km,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}var Mo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mo||(Mo={}));var $o;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($o||($o={}));class Ws extends m.Component{constructor(n){super(n);Co(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){this.setState({error:n,errorInfo:s}),console.error("ErrorBoundary caught an error:",n,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-8 max-w-2xl w-full",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-gray-600",children:"The application encountered an unexpected error. This has been logged for debugging."})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[i.jsx("h2",{className:"font-semibold text-red-800 mb-2",children:"Error Details:"}),i.jsx("p",{className:"text-red-700 font-mono text-sm",children:this.state.error?.message||"Unknown error"}),this.state.errorInfo?.componentStack&&i.jsxs("details",{className:"mt-3",children:[i.jsx("summary",{className:"text-red-600 cursor-pointer hover:text-red-800",children:"Component Stack (click to expand)"}),i.jsx("pre",{className:"text-xs text-red-600 mt-2 overflow-x-auto",children:this.state.errorInfo.componentStack})]})]}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[i.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Try Again"}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Reload Page"})]}),i.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:i.jsx("p",{children:"If this problem persists, try refreshing the page or clearing your browser cache."})})]})}):this.props.children}}const ga=m.createContext({});function xa(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const va=typeof window<"u",ou=va?m.useLayoutEffect:m.useEffect,jr=m.createContext(null);function ya(e,t){e.indexOf(t)===-1&&e.push(t)}function ba(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const xt=(e,t,n)=>n>t?t:n<e?e:n;let wa=()=>{};const vt={},lu=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function cu(e){return typeof e=="object"&&e!==null}const uu=e=>/^0[^.\s]+$/u.test(e);function ja(e){let t;return()=>(t===void 0&&(t=e()),t)}const qe=e=>e,Am=(e,t)=>n=>t(e(n)),ws=(...e)=>e.reduce(Am),cs=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Na{constructor(){this.subscriptions=[]}add(t){return ya(this.subscriptions,t),()=>ba(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const at=e=>e*1e3,ot=e=>e/1e3;function du(e,t){return t?e*(1e3/t):0}const hu=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Mm=1e-7,$m=12;function Im(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=hu(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>Mm&&++l<$m);return o}function js(e,t,n,s){if(e===t&&n===s)return qe;const r=a=>Im(a,0,1,e,n);return a=>a===0||a===1?a:hu(r(a),t,s)}const fu=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mu=e=>t=>1-e(1-t),pu=js(.33,1.53,.69,.99),Sa=mu(pu),gu=fu(Sa),xu=e=>(e*=2)<1?.5*Sa(e):.5*(2-Math.pow(2,-10*(e-1))),Ca=e=>1-Math.sin(Math.acos(e)),vu=mu(Ca),yu=fu(Ca),Lm=js(.42,0,1,1),Om=js(0,0,.58,1),bu=js(.42,0,.58,1),Dm=e=>Array.isArray(e)&&typeof e[0]!="number",wu=e=>Array.isArray(e)&&typeof e[0]=="number",zm={linear:qe,easeIn:Lm,easeInOut:bu,easeOut:Om,circIn:Ca,circInOut:yu,circOut:vu,backIn:Sa,backInOut:gu,backOut:pu,anticipate:xu},Vm=e=>typeof e=="string",Io=e=>{if(wu(e)){wa(e.length===4);const[t,n,s,r]=e;return js(t,n,s,r)}else if(Vm(e))return zm[e];return e},Ts=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Fm(e,t){let n=new Set,s=new Set,r=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,h=!1,p=!1)=>{const g=p&&r?n:s;return h&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(l=d,r){a=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,u.process(d))}};return u}const Bm=40;function ju(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Ts.reduce((w,j)=>(w[j]=Fm(a),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:p,render:f,postRender:g}=o,v=()=>{const w=vt.useManualTiming?r.timestamp:performance.now();n=!1,vt.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(w-r.timestamp,Bm),1)),r.timestamp=w,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),p.process(r),f.process(r),g.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(v))},x=()=>{n=!0,s=!0,r.isProcessing||e(v)};return{schedule:Ts.reduce((w,j)=>{const C=o[j];return w[j]=(R,P=!1,M=!1)=>(n||x(),C.schedule(R,P,M)),w},{}),cancel:w=>{for(let j=0;j<Ts.length;j++)o[Ts[j]].cancel(w)},state:r,steps:o}}const{schedule:me,cancel:Lt,state:Me,steps:Yr}=ju(typeof requestAnimationFrame<"u"?requestAnimationFrame:qe,!0);let Gs;function Um(){Gs=void 0}const Fe={now:()=>(Gs===void 0&&Fe.set(Me.isProcessing||vt.useManualTiming?Me.timestamp:performance.now()),Gs),set:e=>{Gs=e,queueMicrotask(Um)}},Nu=e=>t=>typeof t=="string"&&t.startsWith(e),Ea=Nu("--"),Zm=Nu("var(--"),ka=e=>Zm(e)?Hm.test(e.split("/*")[0].trim()):!1,Hm=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$n={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},us={...$n,transform:e=>xt(0,1,e)},As={...$n,default:1},es=e=>Math.round(e*1e5)/1e5,_a=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wm(e){return e==null}const Gm=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pa=(e,t)=>n=>!!(typeof n=="string"&&Gm.test(n)&&n.startsWith(e)||t&&!Wm(n)&&Object.prototype.hasOwnProperty.call(n,t)),Su=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,a,o,l]=s.match(_a);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Jm=e=>xt(0,255,e),Xr={...$n,transform:e=>Math.round(Jm(e))},Yt={test:Pa("rgb","red"),parse:Su("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Xr.transform(e)+", "+Xr.transform(t)+", "+Xr.transform(n)+", "+es(us.transform(s))+")"};function Km(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Mi={test:Pa("#"),parse:Km,transform:Yt.transform},Ns=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ct=Ns("deg"),lt=Ns("%"),W=Ns("px"),qm=Ns("vh"),Ym=Ns("vw"),Lo={...lt,parse:e=>lt.parse(e)/100,transform:e=>lt.transform(e*100)},pn={test:Pa("hsl","hue"),parse:Su("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+lt.transform(es(t))+", "+lt.transform(es(n))+", "+es(us.transform(s))+")"},Ee={test:e=>Yt.test(e)||Mi.test(e)||pn.test(e),parse:e=>Yt.test(e)?Yt.parse(e):pn.test(e)?pn.parse(e):Mi.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yt.transform(e):pn.transform(e),getAnimatableNone:e=>{const t=Ee.parse(e);return t.alpha=0,Ee.transform(t)}},Xm=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qm(e){return isNaN(e)&&typeof e=="string"&&(e.match(_a)?.length||0)+(e.match(Xm)?.length||0)>0}const Cu="number",Eu="color",ep="var",tp="var(",Oo="${}",np=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ds(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(np,c=>(Ee.test(c)?(s.color.push(a),r.push(Eu),n.push(Ee.parse(c))):c.startsWith(tp)?(s.var.push(a),r.push(ep),n.push(c)):(s.number.push(a),r.push(Cu),n.push(parseFloat(c))),++a,Oo)).split(Oo);return{values:n,split:l,indexes:s,types:r}}function ku(e){return ds(e).values}function _u(e){const{split:t,types:n}=ds(e),s=t.length;return r=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],r[o]!==void 0){const l=n[o];l===Cu?a+=es(r[o]):l===Eu?a+=Ee.transform(r[o]):a+=r[o]}return a}}const sp=e=>typeof e=="number"?0:Ee.test(e)?Ee.getAnimatableNone(e):e;function rp(e){const t=ku(e);return _u(e)(t.map(sp))}const Ot={test:Qm,parse:ku,createTransformer:_u,getAnimatableNone:rp};function Qr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ip({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=Qr(c,l,e+1/3),a=Qr(c,l,e),o=Qr(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function sr(e,t){return n=>n>0?t:e}const xe=(e,t,n)=>e+(t-e)*n,ei=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},ap=[Mi,Yt,pn],op=e=>ap.find(t=>t.test(e));function Do(e){const t=op(e);if(!t)return!1;let n=t.parse(e);return t===pn&&(n=ip(n)),n}const zo=(e,t)=>{const n=Do(e),s=Do(t);if(!n||!s)return sr(e,t);const r={...n};return a=>(r.red=ei(n.red,s.red,a),r.green=ei(n.green,s.green,a),r.blue=ei(n.blue,s.blue,a),r.alpha=xe(n.alpha,s.alpha,a),Yt.transform(r))},$i=new Set(["none","hidden"]);function lp(e,t){return $i.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function cp(e,t){return n=>xe(e,t,n)}function Ra(e){return typeof e=="number"?cp:typeof e=="string"?ka(e)?sr:Ee.test(e)?zo:hp:Array.isArray(e)?Pu:typeof e=="object"?Ee.test(e)?zo:up:sr}function Pu(e,t){const n=[...e],s=n.length,r=e.map((a,o)=>Ra(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}}function up(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Ra(e[r])(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function dp(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],o=e.indexes[a][s[a]],l=e.values[o]??0;n[r]=l,s[a]++}return n}const hp=(e,t)=>{const n=Ot.createTransformer(t),s=ds(e),r=ds(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?$i.has(e)&&!r.values.length||$i.has(t)&&!s.values.length?lp(e,t):ws(Pu(dp(s,r),r.values),n):sr(e,t)};function Ru(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?xe(e,t,n):Ra(e)(e,t)}const fp=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>me.update(t,n),stop:()=>Lt(t),now:()=>Me.isProcessing?Me.timestamp:Fe.now()}},Tu=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)s+=Math.round(e(a/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},rr=2e4;function Ta(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<rr;)t+=n,s=e.next(t);return t>=rr?1/0:t}function mp(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(Ta(s),rr);return{type:"keyframes",ease:a=>s.next(r*a).value/t,duration:ot(r)}}const pp=5;function Au(e,t,n){const s=Math.max(t-pp,0);return du(n-e(s),t-s)}const ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ti=.001;function gp({duration:e=ye.duration,bounce:t=ye.bounce,velocity:n=ye.velocity,mass:s=ye.mass}){let r,a,o=1-t;o=xt(ye.minDamping,ye.maxDamping,o),e=xt(ye.minDuration,ye.maxDuration,ot(e)),o<1?(r=u=>{const d=u*o,h=d*e,p=d-n,f=Ii(u,o),g=Math.exp(-h);return ti-p/f*g},a=u=>{const h=u*o*e,p=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),v=Ii(Math.pow(u,2),o);return(-r(u)+ti>0?-1:1)*((p-f)*g)/v}):(r=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-ti+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=vp(r,a,l);if(e=at(e),isNaN(c))return{stiffness:ye.stiffness,damping:ye.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const xp=12;function vp(e,t,n){let s=n;for(let r=1;r<xp;r++)s=s-e(s)/t(s);return s}function Ii(e,t){return e*Math.sqrt(1-t*t)}const yp=["duration","bounce"],bp=["stiffness","damping","mass"];function Vo(e,t){return t.some(n=>e[n]!==void 0)}function wp(e){let t={velocity:ye.velocity,stiffness:ye.stiffness,damping:ye.damping,mass:ye.mass,isResolvedFromDuration:!1,...e};if(!Vo(e,bp)&&Vo(e,yp))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*xt(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ye.mass,stiffness:r,damping:a}}else{const n=gp(e);t={...t,...n,mass:ye.mass},t.isResolvedFromDuration=!0}return t}function ir(e=ye.visualDuration,t=ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:f}=wp({...n,velocity:-ot(n.velocity||0)}),g=p||0,v=u/(2*Math.sqrt(c*d)),x=o-a,y=ot(Math.sqrt(c/d)),b=Math.abs(x)<5;s||(s=b?ye.restSpeed.granular:ye.restSpeed.default),r||(r=b?ye.restDelta.granular:ye.restDelta.default);let w;if(v<1){const C=Ii(y,v);w=R=>{const P=Math.exp(-v*y*R);return o-P*((g+v*y*x)/C*Math.sin(C*R)+x*Math.cos(C*R))}}else if(v===1)w=C=>o-Math.exp(-y*C)*(x+(g+y*x)*C);else{const C=y*Math.sqrt(v*v-1);w=R=>{const P=Math.exp(-v*y*R),M=Math.min(C*R,300);return o-P*((g+v*y*x)*Math.sinh(M)+C*x*Math.cosh(M))/C}}const j={calculatedDuration:f&&h||null,next:C=>{const R=w(C);if(f)l.done=C>=h;else{let P=C===0?g:0;v<1&&(P=C===0?at(g):Au(w,C,R));const M=Math.abs(P)<=s,D=Math.abs(o-R)<=r;l.done=M&&D}return l.value=l.done?o:R,l},toString:()=>{const C=Math.min(Ta(j),rr),R=Tu(P=>j.next(C*P).value,C,30);return C+"ms "+R},toTransition:()=>{}};return j}ir.applyToOptions=e=>{const t=mp(e,100,ir);return e.ease=t.ease,e.duration=at(t.duration),e.type="keyframes",e};function Li({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},f=M=>l!==void 0&&M<l||c!==void 0&&M>c,g=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let v=n*t;const x=h+v,y=o===void 0?x:o(x);y!==x&&(v=y-h);const b=M=>-v*Math.exp(-M/s),w=M=>y+b(M),j=M=>{const D=b(M),L=w(M);p.done=Math.abs(D)<=u,p.value=p.done?y:L};let C,R;const P=M=>{f(p.value)&&(C=M,R=ir({keyframes:[p.value,g(p.value)],velocity:Au(w,M,p.value),damping:r,stiffness:a,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:M=>{let D=!1;return!R&&C===void 0&&(D=!0,j(M),P(M)),C!==void 0&&M>=C?R.next(M-C):(!D&&j(M),p)}}}function jp(e,t,n){const s=[],r=n||vt.mix||Ru,a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||qe:t;l=ws(c,l)}s.push(l)}return s}function Np(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(wa(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=jp(t,s,r),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const p=cs(e[h],e[h+1],d);return l[h](p)};return n?d=>u(xt(e[0],e[a-1],d)):u}function Sp(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=cs(0,t,s);e.push(xe(n,1,r))}}function Cp(e){const t=[0];return Sp(t,e.length-1),t}function Ep(e,t){return e.map(n=>n*t)}function kp(e,t){return e.map(()=>t||bu).splice(0,e.length-1)}function ts({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=Dm(s)?s.map(Io):Io(s),a={done:!1,value:t[0]},o=Ep(n&&n.length===t.length?n:Cp(t),e),l=Np(o,t,{ease:Array.isArray(r)?r:kp(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const _p=e=>e!==null;function Aa(e,{repeat:t,repeatType:n="loop"},s,r=1){const a=e.filter(_p),l=r<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const Pp={decay:Li,inertia:Li,tween:ts,keyframes:ts,spring:ir};function Mu(e){typeof e.type=="string"&&(e.type=Pp[e.type])}class Ma{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Rp=e=>e/100;class $a extends Ma{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Fe.now()&&this.tick(Fe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Mu(t);const{type:n=ts,repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||ts;c!==ts&&typeof l[0]!="number"&&(this.mixKeyframes=ws(Rp,Ru(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ta(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:f,type:g,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>r;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,j=s;if(h){const M=Math.min(this.currentTime,r)/l;let D=Math.floor(M),L=M%1;!L&&M>=1&&(L=1),L===1&&D--,D=Math.min(D,h+1),!!(D%2)&&(p==="reverse"?(L=1-L,f&&(L-=f/l)):p==="mirror"&&(j=o)),w=xt(0,1,L)*l}const C=b?{done:!1,value:d[0]}:j.next(w);a&&(C.value=a(C.value));let{done:R}=C;!b&&c!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return P&&g!==Li&&(C.value=Aa(d,this.options,x,this.speed)),v&&v(C.value),P&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return ot(this.calculatedDuration)}get time(){return ot(this.currentTime)}set time(t){t=at(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ot(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=fp,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Tp(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Xt=e=>e*180/Math.PI,Oi=e=>{const t=Xt(Math.atan2(e[1],e[0]));return Di(t)},Ap={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Oi,rotateZ:Oi,skewX:e=>Xt(Math.atan(e[1])),skewY:e=>Xt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Di=e=>(e=e%360,e<0&&(e+=360),e),Fo=Oi,Bo=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Uo=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Mp={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Bo,scaleY:Uo,scale:e=>(Bo(e)+Uo(e))/2,rotateX:e=>Di(Xt(Math.atan2(e[6],e[5]))),rotateY:e=>Di(Xt(Math.atan2(-e[2],e[0]))),rotateZ:Fo,rotate:Fo,skewX:e=>Xt(Math.atan(e[4])),skewY:e=>Xt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function zi(e){return e.includes("scale")?1:0}function Vi(e,t){if(!e||e==="none")return zi(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=Mp,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Ap,r=l}if(!r)return zi(t);const a=s[t],o=r[1].split(",").map(Ip);return typeof a=="function"?a(o):o[a]}const $p=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Vi(n,t)};function Ip(e){return parseFloat(e.trim())}const In=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ln=new Set(In),Zo=e=>e===$n||e===W,Lp=new Set(["x","y","z"]),Op=In.filter(e=>!Lp.has(e));function Dp(e){const t=[];return Op.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const en={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Vi(t,"x"),y:(e,{transform:t})=>Vi(t,"y")};en.translateX=en.x;en.translateY=en.y;const tn=new Set;let Fi=!1,Bi=!1,Ui=!1;function $u(){if(Bi){const e=Array.from(tn).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=Dp(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,o])=>{s.getValue(a)?.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Bi=!1,Fi=!1,tn.forEach(e=>e.complete(Ui)),tn.clear()}function Iu(){tn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bi=!0)})}function zp(){Ui=!0,Iu(),$u(),Ui=!1}class Ia{constructor(t,n,s,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(tn.add(this),Fi||(Fi=!0,me.read(Iu),me.resolveKeyframes($u))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const a=r?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),r&&a===void 0&&r.set(t[0])}Tp(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),tn.delete(this)}cancel(){this.state==="scheduled"&&(tn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Vp=e=>e.startsWith("--");function Fp(e,t,n){Vp(t)?e.style.setProperty(t,n):e.style[t]=n}const Bp=ja(()=>window.ScrollTimeline!==void 0),Up={};function Zp(e,t){const n=ja(e);return()=>Up[t]??n()}const Lu=Zp(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Un=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Ho={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Un([0,.65,.55,1]),circOut:Un([.55,0,1,.45]),backIn:Un([.31,.01,.66,-.59]),backOut:Un([.33,1.53,.69,.99])};function Ou(e,t){if(e)return typeof e=="function"?Lu()?Tu(e,t):"ease-out":wu(e)?Un(e):Array.isArray(e)?e.map(n=>Ou(n,t)||Ho.easeOut):Ho[e]}function Hp(e,t,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=Ou(l,r);Array.isArray(h)&&(d.easing=h);const p={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(d,p)}function Du(e){return typeof e=="function"&&"applyToOptions"in e}function Wp({type:e,...t}){return Du(e)&&Lu()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Gp extends Ma{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,wa(typeof t.type!="string");const u=Wp(t);this.animation=Hp(n,s,r,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=Aa(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Fp(n,s,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ot(Number(t))}get time(){return ot(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=at(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Bp()?(this.animation.timeline=t,qe):n(this)}}const zu={anticipate:xu,backInOut:gu,circInOut:yu};function Jp(e){return e in zu}function Kp(e){typeof e.ease=="string"&&Jp(e.ease)&&(e.ease=zu[e.ease])}const Wo=10;class qp extends Gp{constructor(t){Kp(t),Mu(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new $a({...o,autoplay:!1}),c=at(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Wo).value,l.sample(c).value,Wo),l.stop()}}const Go=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ot.test(e)||e==="0")&&!e.startsWith("url("));function Yp(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Xp(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Go(r,t),l=Go(a,t);return!o||!l?!1:Yp(e)||(n==="spring"||Du(n))&&s}function Zi(e){e.duration=0,e.type}const Qp=new Set(["opacity","clipPath","filter","transform"]),e0=ja(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t0(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return e0()&&n&&Qp.has(n)&&(n!=="transform"||!u)&&!c&&!s&&r!=="mirror"&&a!==0&&o!=="inertia"}const n0=40;class s0 extends Ma{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fe.now();const p={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...h},f=d?.KeyframeResolver||Ia;this.keyframeResolver=new f(l,(g,v,x)=>this.onKeyframesResolved(g,v,p,!x),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,r){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Fe.now(),Xp(t,a,o,l)||((vt.instantAnimations||!c)&&d?.(Aa(t,s,n)),t[0]=t[t.length-1],Zi(s),s.repeat=0);const p={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>n0?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},f=!u&&t0(p)?new qp({...p,element:p.motionValue.owner.current}):new $a(p);f.finished.then(()=>this.notifyFinished()).catch(qe),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zp()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const r0=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function i0(e){const t=r0.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function Vu(e,t,n=1){const[s,r]=i0(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return lu(o)?parseFloat(o):o}return ka(r)?Vu(r,t,n+1):r}function La(e,t){return e?.[t]??e?.default??e}const Fu=new Set(["width","height","top","left","right","bottom",...In]),a0={test:e=>e==="auto",parse:e=>e},Bu=e=>t=>t.test(e),Uu=[$n,W,lt,Ct,Ym,qm,a0],Jo=e=>Uu.find(Bu(e));function o0(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||uu(e):!0}const l0=new Set(["brightness","contrast","saturate","opacity"]);function c0(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(_a)||[];if(!s)return e;const r=n.replace(s,"");let a=l0.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const u0=/\b([a-z-]*)\(.*?\)/gu,Hi={...Ot,getAnimatableNone:e=>{const t=e.match(u0);return t?t.map(c0).join(" "):e}},Ko={...$n,transform:Math.round},d0={rotate:Ct,rotateX:Ct,rotateY:Ct,rotateZ:Ct,scale:As,scaleX:As,scaleY:As,scaleZ:As,skew:Ct,skewX:Ct,skewY:Ct,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:us,originX:Lo,originY:Lo,originZ:W},Oa={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,backgroundPositionX:W,backgroundPositionY:W,...d0,zIndex:Ko,fillOpacity:us,strokeOpacity:us,numOctaves:Ko},h0={...Oa,color:Ee,backgroundColor:Ee,outlineColor:Ee,fill:Ee,stroke:Ee,borderColor:Ee,borderTopColor:Ee,borderRightColor:Ee,borderBottomColor:Ee,borderLeftColor:Ee,filter:Hi,WebkitFilter:Hi},Zu=e=>h0[e];function Hu(e,t){let n=Zu(e);return n!==Hi&&(n=Ot),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const f0=new Set(["auto","none","0"]);function m0(e,t,n){let s=0,r;for(;s<e.length&&!r;){const a=e[s];typeof a=="string"&&!f0.has(a)&&ds(a).values.length&&(r=e[s]),s++}if(r&&n)for(const a of t)e[a]=Hu(n,r)}class p0 extends Ia{constructor(t,n,s,r,a){super(t,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),ka(u))){const d=Vu(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Fu.has(s)||t.length!==2)return;const[r,a]=t,o=Jo(r),l=Jo(a);if(o!==l)if(Zo(o)&&Zo(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else en[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||o0(t[r]))&&s.push(r);s.length&&m0(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=en[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=en[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function g0(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=n?.[e]??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const Wu=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Gu(e){return cu(e)&&"offsetHeight"in e}const qo=30,x0=e=>!isNaN(parseFloat(e));class v0{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const r=Fe.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Fe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x0(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Na);const s=this.events[t].add(n);return t==="change"?()=>{s(),me.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qo)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qo);return du(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pn(e,t){return new v0(e,t)}const{schedule:Da}=ju(queueMicrotask,!1),et={x:!1,y:!1};function Ju(){return et.x||et.y}function y0(e){return e==="x"||e==="y"?et[e]?null:(et[e]=!0,()=>{et[e]=!1}):et.x||et.y?null:(et.x=et.y=!0,()=>{et.x=et.y=!1})}function Ku(e,t){const n=g0(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function Yo(e){return!(e.pointerType==="touch"||Ju())}function b0(e,t,n={}){const[s,r,a]=Ku(e,n),o=l=>{if(!Yo(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{Yo(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const qu=(e,t)=>t?e===t?!0:qu(e,t.parentElement):!1,za=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,w0=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j0(e){return w0.has(e.tagName)||e.tabIndex!==-1}const Js=new WeakSet;function Xo(e){return t=>{t.key==="Enter"&&e(t)}}function ni(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const N0=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Xo(()=>{if(Js.has(n))return;ni(n,"down");const r=Xo(()=>{ni(n,"up")}),a=()=>ni(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Qo(e){return za(e)&&!Ju()}function S0(e,t,n={}){const[s,r,a]=Ku(e,n),o=l=>{const c=l.currentTarget;if(!Qo(l))return;Js.add(c);const u=t(c,l),d=(f,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),Js.has(c)&&Js.delete(c),Qo(f)&&typeof u=="function"&&u(f,{success:g})},h=f=>{d(f,c===window||c===document||n.useGlobalTarget||qu(c,f.target))},p=f=>{d(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",p,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),Gu(l)&&(l.addEventListener("focus",u=>N0(u,r)),!j0(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Yu(e){return cu(e)&&"ownerSVGElement"in e}function C0(e){return Yu(e)&&e.tagName==="svg"}const Oe=e=>!!(e&&e.getVelocity),E0=[...Uu,Ee,Ot],k0=e=>E0.find(Bu(e)),Va=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _0 extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=Gu(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function P0({children:e,isPresent:t,anchorX:n,root:s}){const r=m.useId(),a=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(Va);return m.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:p}=o.current;if(t||!a.current||!c||!u)return;const f=n==="left"?`left: ${h}`:`right: ${p}`;a.current.dataset.motionPopId=r;const g=document.createElement("style");l&&(g.nonce=l);const v=s??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[t]),i.jsx(_0,{isPresent:t,childRef:a,sizeRef:o,children:m.cloneElement(e,{ref:a})})}const R0=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const u=xa(T0),d=m.useId();let h=!0,p=m.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:r,onExitComplete:f=>{u.set(f,!0);for(const g of u.values())if(!g)return;s&&s()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[n,u,s]);return a&&h&&(p={...p}),m.useMemo(()=>{u.forEach((f,g)=>u.set(g,!1))},[n]),m.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),o==="popLayout"&&(e=i.jsx(P0,{isPresent:n,anchorX:l,root:c,children:e})),i.jsx(jr.Provider,{value:p,children:e})};function T0(){return new Map}function Xu(e=!0){const t=m.useContext(jr);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,a=m.useId();m.useEffect(()=>{if(e)return r(a)},[e]);const o=m.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const Ms=e=>e.key||"";function el(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const Dt=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=Xu(o),h=m.useMemo(()=>el(e),[e]),p=o&&!u?[]:h.map(Ms),f=m.useRef(!0),g=m.useRef(h),v=xa(()=>new Map),[x,y]=m.useState(h),[b,w]=m.useState(h);ou(()=>{f.current=!1,g.current=h;for(let R=0;R<b.length;R++){const P=Ms(b[R]);p.includes(P)?v.delete(P):v.get(P)!==!0&&v.set(P,!1)}},[b,p.length,p.join("-")]);const j=[];if(h!==x){let R=[...h];for(let P=0;P<b.length;P++){const M=b[P],D=Ms(M);p.includes(D)||(R.splice(P,0,M),j.push(M))}return a==="wait"&&j.length&&(R=j),w(el(R)),y(h),null}const{forceRender:C}=m.useContext(ga);return i.jsx(i.Fragment,{children:b.map(R=>{const P=Ms(R),M=o&&!u?!1:h===b||p.includes(P),D=()=>{if(v.has(P))v.set(P,!0);else return;let L=!0;v.forEach(G=>{G||(L=!1)}),L&&(C?.(),w(g.current),o&&d?.(),s&&s())};return i.jsx(R0,{isPresent:M,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:a,root:c,onExitComplete:M?void 0:D,anchorX:l,children:R},P)})})},Qu=m.createContext({strict:!1}),tl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rn={};for(const e in tl)Rn[e]={isEnabled:t=>tl[e].some(n=>!!t[n])};function A0(e){for(const t in e)Rn[t]={...Rn[t],...e[t]}}const M0=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ar(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||M0.has(e)}let ed=e=>!ar(e);function $0(e){typeof e=="function"&&(ed=t=>t.startsWith("on")?!ar(t):e(t))}try{$0(require("@emotion/is-prop-valid").default)}catch{}function I0(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(ed(r)||n===!0&&ar(r)||!t&&!ar(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const Nr=m.createContext({});function Sr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function hs(e){return typeof e=="string"||Array.isArray(e)}const Fa=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ba=["initial",...Fa];function Cr(e){return Sr(e.animate)||Ba.some(t=>hs(e[t]))}function td(e){return!!(Cr(e)||e.variants)}function L0(e,t){if(Cr(e)){const{initial:n,animate:s}=e;return{initial:n===!1||hs(n)?n:void 0,animate:hs(s)?s:void 0}}return e.inherit!==!1?t:{}}function O0(e){const{initial:t,animate:n}=L0(e,m.useContext(Nr));return m.useMemo(()=>({initial:t,animate:n}),[nl(t),nl(n)])}function nl(e){return Array.isArray(e)?e.join(" "):e}const fs={};function D0(e){for(const t in e)fs[t]=e[t],Ea(t)&&(fs[t].isCSSVariable=!0)}function nd(e,{layout:t,layoutId:n}){return Ln.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!fs[e]||e==="opacity")}const z0={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V0=In.length;function F0(e,t,n){let s="",r=!0;for(let a=0;a<V0;a++){const o=In[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Wu(l,Oa[o]);if(!c){r=!1;const d=z0[o]||o;s+=`${d}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function Ua(e,t,n){const{style:s,vars:r,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Ln.has(c)){o=!0;continue}else if(Ea(c)){r[c]=u;continue}else{const d=Wu(u,Oa[c]);c.startsWith("origin")?(l=!0,a[c]=d):s[c]=d}}if(t.transform||(o||n?s.transform=F0(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;s.transformOrigin=`${c} ${u} ${d}`}}const Za=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sd(e,t,n){for(const s in t)!Oe(t[s])&&!nd(s,n)&&(e[s]=t[s])}function B0({transformTemplate:e},t){return m.useMemo(()=>{const n=Za();return Ua(n,t,e),Object.assign({},n.vars,n.style)},[t])}function U0(e,t){const n=e.style||{},s={};return sd(s,n,e),Object.assign(s,B0(e,t)),s}function Z0(e,t){const n={},s=U0(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const H0={offset:"stroke-dashoffset",array:"stroke-dasharray"},W0={offset:"strokeDashoffset",array:"strokeDasharray"};function G0(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?H0:W0;e[a.offset]=W.transform(-s);const o=W.transform(t),l=W.transform(n);e[a.array]=`${o} ${l}`}function rd(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(Ua(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&G0(h,r,a,o,!1)}const id=()=>({...Za(),attrs:{}}),ad=e=>typeof e=="string"&&e.toLowerCase()==="svg";function J0(e,t,n,s){const r=m.useMemo(()=>{const a=id();return rd(a,t,ad(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};sd(a,e.style,e),r.style={...a,...r.style}}return r}const K0=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ha(e){return typeof e!="string"||e.includes("-")?!1:!!(K0.indexOf(e)>-1||/[A-Z]/u.test(e))}function q0(e,t,n,{latestValues:s},r,a=!1){const l=(Ha(e)?J0:Z0)(t,s,r,e),c=I0(t,typeof e=="string",a),u=e!==m.Fragment?{...c,...l,ref:n}:{},{children:d}=t,h=m.useMemo(()=>Oe(d)?d.get():d,[d]);return m.createElement(e,{...u,children:h})}function sl(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Wa(e,t,n,s){if(typeof t=="function"){const[r,a]=sl(s);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=sl(s);t=t(n!==void 0?n:e.custom,r,a)}return t}function Ks(e){return Oe(e)?e.get():e}function Y0({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:X0(n,s,r,e),renderState:t()}}function X0(e,t,n,s){const r={},a=s(e,{});for(const p in a)r[p]=Ks(a[p]);let{initial:o,animate:l}=e;const c=Cr(e),u=td(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Sr(h)){const p=Array.isArray(h)?h:[h];for(let f=0;f<p.length;f++){const g=Wa(e,p[f]);if(g){const{transitionEnd:v,transition:x,...y}=g;for(const b in y){let w=y[b];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(r[b]=w)}for(const b in v)r[b]=v[b]}}}return r}const od=e=>(t,n)=>{const s=m.useContext(Nr),r=m.useContext(jr),a=()=>Y0(e,t,s,r);return n?a():xa(a)};function Ga(e,t,n){const{style:s}=e,r={};for(const a in s)(Oe(s[a])||t.style&&Oe(t.style[a])||nd(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(r[a]=s[a]);return r}const Q0=od({scrapeMotionValuesFromProps:Ga,createRenderState:Za});function ld(e,t,n){const s=Ga(e,t,n);for(const r in e)if(Oe(e[r])||Oe(t[r])){const a=In.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}const eg=od({scrapeMotionValuesFromProps:ld,createRenderState:id}),tg=Symbol.for("motionComponentSymbol");function gn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ng(e,t,n){return m.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):gn(n)&&(n.current=s))},[t])}const Ja=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sg="framerAppearId",cd="data-"+Ja(sg),ud=m.createContext({});function rg(e,t,n,s,r){const{visualElement:a}=m.useContext(Nr),o=m.useContext(Qu),l=m.useContext(jr),c=m.useContext(Va).reducedMotion,u=m.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=m.useContext(ud);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&ig(u.current,n,r,h);const p=m.useRef(!1);m.useInsertionEffect(()=>{d&&p.current&&d.update(n,l)});const f=n[cd],g=m.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return ou(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),g.current=!1),d.enteringChildren=void 0)}),d}function ig(e,t,n,s){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dd(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&gn(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function dd(e){if(e)return e.options.allowProjection!==!1?e.projection:dd(e.parent)}function si(e,{forwardMotionProps:t=!1}={},n,s){n&&A0(n);const r=Ha(e)?eg:Q0;function a(l,c){let u;const d={...m.useContext(Va),...l,layoutId:ag(l)},{isStatic:h}=d,p=O0(l),f=r(l,h);if(!h&&va){og();const g=lg(d);u=g.MeasureLayout,p.visualElement=rg(e,f,d,s,g.ProjectionNode)}return i.jsxs(Nr.Provider,{value:p,children:[u&&p.visualElement?i.jsx(u,{visualElement:p.visualElement,...d}):null,q0(e,l,ng(f,p.visualElement,c),f,h,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=m.forwardRef(a);return o[tg]=e,o}function ag({layoutId:e}){const t=m.useContext(ga).id;return t&&e!==void 0?t+"-"+e:e}function og(e,t){m.useContext(Qu).strict}function lg(e){const{drag:t,layout:n}=Rn;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function cg(e,t){if(typeof Proxy>"u")return si;const n=new Map,s=(a,o)=>si(a,o,e,t),r=(a,o)=>s(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,si(o,void 0,e,t)),n.get(o))})}function hd({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function ug({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dg(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function ri(e){return e===void 0||e===1}function Wi({scale:e,scaleX:t,scaleY:n}){return!ri(e)||!ri(t)||!ri(n)}function Gt(e){return Wi(e)||fd(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fd(e){return rl(e.x)||rl(e.y)}function rl(e){return e&&e!=="0%"}function or(e,t,n){const s=e-n,r=t*s;return n+r}function il(e,t,n,s,r){return r!==void 0&&(e=or(e,r,s)),or(e,n,s)+t}function Gi(e,t=0,n=1,s,r){e.min=il(e.min,t,n,s,r),e.max=il(e.max,t,n,s,r)}function md(e,{x:t,y:n}){Gi(e.x,t.translate,t.scale,t.originPoint),Gi(e.y,n.translate,n.scale,n.originPoint)}const al=.999999999999,ol=1.0000000000001;function hg(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vn(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,md(e,o)),s&&Gt(a.latestValues)&&vn(e,a.latestValues))}t.x<ol&&t.x>al&&(t.x=1),t.y<ol&&t.y>al&&(t.y=1)}function xn(e,t){e.min=e.min+t,e.max=e.max+t}function ll(e,t,n,s,r=.5){const a=xe(e.min,e.max,r);Gi(e,t,n,a,s)}function vn(e,t){ll(e.x,t.x,t.scaleX,t.scale,t.originX),ll(e.y,t.y,t.scaleY,t.scale,t.originY)}function pd(e,t){return hd(dg(e.getBoundingClientRect(),t))}function fg(e,t,n){const s=pd(e,n),{scroll:r}=t;return r&&(xn(s.x,r.offset.x),xn(s.y,r.offset.y)),s}const cl=()=>({translate:0,scale:1,origin:0,originPoint:0}),yn=()=>({x:cl(),y:cl()}),ul=()=>({min:0,max:0}),Ne=()=>({x:ul(),y:ul()}),Ji={current:null},gd={current:!1};function mg(){if(gd.current=!0,!!va)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ji.current=e.matches;e.addEventListener("change",t),t()}else Ji.current=!1}const pg=new WeakMap;function gg(e,t,n){for(const s in t){const r=t[s],a=n[s];if(Oe(r))e.addValue(s,r);else if(Oe(a))e.addValue(s,Pn(r,{owner:e}));else if(a!==r)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(s);e.addValue(s,Pn(o!==void 0?o:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const dl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xg{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ia,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Fe.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,me.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Cr(n),this.isVariantNode=td(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const f=h[p];c[p]!==void 0&&Oe(f)&&f.set(c[p])}}mount(t){this.current=t,pg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),gd.current||mg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ji.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lt(this.notifyUpdate),Lt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ln.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&me.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Rn){const n=Rn[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<dl.length;s++){const r=dl[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=t[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=gg(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Pn(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(lu(s)||uu(s))?s=parseFloat(s):!k0(s)&&Ot.test(n)&&(s=Hu(t,n)),this.setBaseTarget(t,Oe(s)?s.get():s)),Oe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Wa(this.props,n,this.presenceContext?.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Oe(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Na),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Da.render(this.render)}}class xd extends xg{constructor(){super(...arguments),this.KeyframeResolver=p0}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Oe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function vd(e,{style:t,vars:n},s,r){const a=e.style;let o;for(o in t)a[o]=t[o];r?.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function vg(e){return window.getComputedStyle(e)}class yg extends xd{constructor(){super(...arguments),this.type="html",this.renderInstance=vd}readValueFromInstance(t,n){if(Ln.has(n))return this.projection?.isProjecting?zi(n):$p(t,n);{const s=vg(t),r=(Ea(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return pd(t,n)}build(t,n,s){Ua(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Ga(t,n,s)}}const yd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bg(e,t,n,s){vd(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(yd.has(r)?r:Ja(r),t.attrs[r])}class wg extends xd{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ne}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ln.has(n)){const s=Zu(n);return s&&s.default||0}return n=yd.has(n)?n:Ja(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return ld(t,n,s)}build(t,n,s){rd(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){bg(t,n,s,r)}mount(t){this.isSVGTag=ad(t.tagName),super.mount(t)}}const jg=(e,t)=>Ha(e)?new wg(t):new yg(t,{allowProjection:e!==m.Fragment});function Cn(e,t,n){const s=e.getProps();return Wa(s,t,n!==void 0?n:s.custom,e)}const Ki=e=>Array.isArray(e);function Ng(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Pn(n))}function Sg(e){return Ki(e)?e[e.length-1]||0:e}function Cg(e,t){const n=Cn(e,t);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const o in a){const l=Sg(a[o]);Ng(e,o,l)}}function Eg(e){return!!(Oe(e)&&e.add)}function qi(e,t){const n=e.getValue("willChange");if(Eg(n))return n.add(t);if(!n&&vt.WillChange){const s=new vt.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function bd(e){return e.props[cd]}const kg=e=>e!==null;function _g(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(kg),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[a]}const Pg={type:"spring",stiffness:500,damping:25,restSpeed:10},Rg=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tg={type:"keyframes",duration:.8},Ag={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mg=(e,{keyframes:t})=>t.length>2?Tg:Ln.has(e)?e.startsWith("scale")?Rg(t[1]):Pg:Ag;function $g({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Ka=(e,t,n,s={},r,a)=>o=>{const l=La(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-at(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};$g(l)||Object.assign(d,Mg(e,d)),d.duration&&(d.duration=at(d.duration)),d.repeatDelay&&(d.repeatDelay=at(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Zi(d),d.delay===0&&(h=!0)),(vt.instantAnimations||vt.skipAnimations)&&(h=!0,Zi(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&t.get()!==void 0){const p=_g(d.keyframes,l);if(p!==void 0){me.update(()=>{d.onUpdate(p),d.onComplete()});return}}return l.isSync?new $a(d):new s0(d)};function Ig({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function wd(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(a=s);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),p=l[d];if(p===void 0||u&&Ig(u,d))continue;const f={delay:n,...La(a||{},d)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===g&&!f.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const y=bd(e);if(y){const b=window.MotionHandoffAnimation(y,d,me);b!==null&&(f.startTime=b,v=!0)}}qi(e,d),h.start(Ka(d,h,p,e.shouldReduceMotion&&Fu.has(d)?{type:!1}:f,e,v));const x=h.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{me.update(()=>{o&&Cg(e,o)})}),c}function jd(e,t,n,s=0,r=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*s;return typeof n=="function"?n(a,o):r===1?a*s:l-a*s}function Yi(e,t,n={}){const s=Cn(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(wd(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return Lg(e,t,c,u,d,h,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function Lg(e,t,n=0,s=0,r=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Yi(c,t,{...o,delay:n+(typeof s=="function"?0:s)+jd(e.variantChildren,c,s,r,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Og(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>Yi(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=Yi(e,t,n);else{const r=typeof t=="function"?Cn(e,t,n.custom):t;s=Promise.all(wd(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Nd(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Dg=Ba.length;function Sd(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Sd(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Dg;n++){const s=Ba[n],r=e.props[s];(hs(r)||r===!1)&&(t[s]=r)}return t}const zg=[...Fa].reverse(),Vg=Fa.length;function Fg(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Og(e,n,s)))}function Bg(e){let t=Fg(e),n=hl(),s=!0;const r=c=>(u,d)=>{const h=Cn(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:p,transitionEnd:f,...g}=h;u={...u,...g,...f}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=Sd(e.parent)||{},h=[],p=new Set;let f={},g=1/0;for(let x=0;x<Vg;x++){const y=zg[x],b=n[y],w=u[y]!==void 0?u[y]:d[y],j=hs(w),C=y===c?b.isActive:null;C===!1&&(g=x);let R=w===d[y]&&w!==u[y]&&j;if(R&&s&&e.manuallyAnimateOnMount&&(R=!1),b.protectedKeys={...f},!b.isActive&&C===null||!w&&!b.prevProp||Sr(w)||typeof w=="boolean")continue;const P=Ug(b.prevProp,w);let M=P||y===c&&b.isActive&&!R&&j||x>g&&j,D=!1;const L=Array.isArray(w)?w:[w];let G=L.reduce(r(y),{});C===!1&&(G={});const{prevResolvedValues:q={}}=b,U={...q,...G},J=se=>{M=!0,p.has(se)&&(D=!0,p.delete(se)),b.needsAnimating[se]=!0;const re=e.getValue(se);re&&(re.liveStyle=!1)};for(const se in U){const re=G[se],fe=q[se];if(f.hasOwnProperty(se))continue;let ge=!1;Ki(re)&&Ki(fe)?ge=!Nd(re,fe):ge=re!==fe,ge?re!=null?J(se):p.add(se):re!==void 0&&p.has(se)?J(se):b.protectedKeys[se]=!0}b.prevProp=w,b.prevResolvedValues=G,b.isActive&&(f={...f,...G}),s&&e.blockInitialAnimation&&(M=!1);const X=R&&P;M&&(!X||D)&&h.push(...L.map(se=>{const re={type:y};if(typeof se=="string"&&s&&!X&&e.manuallyAnimateOnMount&&e.parent){const{parent:fe}=e,ge=Cn(fe,se);if(fe.enteringChildren&&ge){const{delayChildren:we}=ge.transition||{};re.delay=jd(fe.enteringChildren,e,we)}}return{animation:se,options:re}}))}if(p.size){const x={};if(typeof u.initial!="boolean"){const y=Cn(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(x.transition=y.transition)}p.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),x[y]=b??null}),h.push({animation:x})}let v=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(h):Promise.resolve()}function l(c,u){if(n[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(c,u)),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=hl(),s=!0}}}function Ug(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Nd(t,e):!1}function Ht(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hl(){return{animate:Ht(!0),whileInView:Ht(),whileHover:Ht(),whileTap:Ht(),whileDrag:Ht(),whileFocus:Ht(),exit:Ht()}}class Ft{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Zg extends Ft{constructor(t){super(t),t.animationState||(t.animationState=Bg(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Hg=0;class Wg extends Ft{constructor(){super(...arguments),this.id=Hg++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Gg={animation:{Feature:Zg},exit:{Feature:Wg}};function ms(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Ss(e){return{point:{x:e.pageX,y:e.pageY}}}const Jg=e=>t=>za(t)&&e(t,Ss(t));function ns(e,t,n,s){return ms(e,t,Jg(n),s)}const Cd=1e-4,Kg=1-Cd,qg=1+Cd,Ed=.01,Yg=0-Ed,Xg=0+Ed;function Ve(e){return e.max-e.min}function Qg(e,t,n){return Math.abs(e-t)<=n}function fl(e,t,n,s=.5){e.origin=s,e.originPoint=xe(t.min,t.max,e.origin),e.scale=Ve(n)/Ve(t),e.translate=xe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Kg&&e.scale<=qg||isNaN(e.scale))&&(e.scale=1),(e.translate>=Yg&&e.translate<=Xg||isNaN(e.translate))&&(e.translate=0)}function ss(e,t,n,s){fl(e.x,t.x,n.x,s?s.originX:void 0),fl(e.y,t.y,n.y,s?s.originY:void 0)}function ml(e,t,n){e.min=n.min+t.min,e.max=e.min+Ve(t)}function ex(e,t,n){ml(e.x,t.x,n.x),ml(e.y,t.y,n.y)}function pl(e,t,n){e.min=t.min-n.min,e.max=e.min+Ve(t)}function rs(e,t,n){pl(e.x,t.x,n.x),pl(e.y,t.y,n.y)}function Ke(e){return[e("x"),e("y")]}const kd=({current:e})=>e?e.ownerDocument.defaultView:null,gl=(e,t)=>Math.abs(e-t);function tx(e,t){const n=gl(e.x,t.x),s=gl(e.y,t.y);return Math.sqrt(n**2+s**2)}class _d{constructor(t,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=ai(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=tx(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:v}=p,{timestamp:x}=Me;this.history.push({...v,timestamp:x});const{onStart:y,onMove:b}=this.handlers;f||(y&&y(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ii(f,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ai(p.type==="pointercancel"?this.lastMoveEventInfo:ii(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(p,y),v&&v(p,y)},!za(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const l=Ss(t),c=ii(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Me;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,ai(c,this.history)),this.removeListeners=ws(ns(this.contextWindow,"pointermove",this.handlePointerMove),ns(this.contextWindow,"pointerup",this.handlePointerUp),ns(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lt(this.updatePoint)}}function ii(e,t){return t?{point:t(e.point)}:e}function xl(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ai({point:e},t){return{point:e,delta:xl(e,Pd(t)),offset:xl(e,nx(t)),velocity:sx(t,.1)}}function nx(e){return e[0]}function Pd(e){return e[e.length-1]}function sx(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=Pd(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>at(t)));)n--;if(!s)return{x:0,y:0};const a=ot(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rx(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?xe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?xe(n,e,s.max):Math.min(e,n)),e}function vl(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ix(e,{top:t,left:n,bottom:s,right:r}){return{x:vl(e.x,n,r),y:vl(e.y,t,s)}}function yl(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function ax(e,t){return{x:yl(e.x,t.x),y:yl(e.y,t.y)}}function ox(e,t){let n=.5;const s=Ve(e),r=Ve(t);return r>s?n=cs(t.min,t.max-s,e.min):s>r&&(n=cs(e.min,e.max-r,t.min)),xt(0,1,n)}function lx(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Xi=.35;function cx(e=Xi){return e===!1?e=0:e===!0&&(e=Xi),{x:bl(e,"left","right"),y:bl(e,"top","bottom")}}function bl(e,t,n){return{min:wl(e,t),max:wl(e,n)}}function wl(e,t){return typeof e=="number"?e:e[t]||0}const ux=new WeakMap;class dx{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ss(h).point)},o=(h,p)=>{const{drag:f,dragPropagation:g,onDragStart:v}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=y0(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ke(y=>{let b=this.getAxisMotionValue(y).get()||0;if(lt.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[y];j&&(b=Ve(j)*(parseFloat(b)/100))}}this.originPoint[y]=b}),v&&me.postRender(()=>v(h,p)),qi(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:v,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=p;if(g&&this.currentDirection===null){this.currentDirection=hx(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,y),this.updateAxis("y",p.point,y),this.visualElement.render(),x&&x(h,p)},c=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ke(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _d(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:kd(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&me.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!$s(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=rx(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&gn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=ix(s.layoutBox,t):this.constraints=!1,this.elastic=cx(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ke(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=lx(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gn(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=fg(s,r.root,this.visualElement.getTransformPagePoint());let o=ax(r.layout.layoutBox,a);if(n){const l=n(ug(o));this.hasMutatedConstraints=!!l,l&&(o=hd(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ke(d=>{if(!$s(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,f=r?40:1e7,g={type:"inertia",velocity:s?t[d]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return qi(this.visualElement,t),s.start(Ka(t,s,0,n,this.visualElement,!1))}stopAnimation(){Ke(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ke(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ke(n=>{const{drag:s}=this.getProps();if(!$s(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(t[n]-xe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!gn(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ke(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=ox({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ke(o=>{if(!$s(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(xe(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;ux.set(this.visualElement,this);const t=this.visualElement.current,n=ns(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();gn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),me.read(s);const o=ms(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ke(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Xi,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function $s(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function hx(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class fx extends Ft{constructor(t){super(t),this.removeGroupControls=qe,this.removeListeners=qe,this.controls=new dx(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const jl=e=>(t,n)=>{e&&me.postRender(()=>e(t,n))};class mx extends Ft{constructor(){super(...arguments),this.removePointerDownListener=qe}onPointerDown(t){this.session=new _d(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kd(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:jl(t),onStart:jl(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&me.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=ns(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nl(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(W.test(e))e=parseFloat(e);else return e;const n=Nl(e,t.target.x),s=Nl(e,t.target.y);return`${n}% ${s}%`}},px={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=Ot.parse(e);if(r.length>5)return s;const a=Ot.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=xe(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}};let oi=!1;class gx extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;D0(xx),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),oi&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),qs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,oi=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||me.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Da.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;oi=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Rd(e){const[t,n]=Xu(),s=m.useContext(ga);return i.jsx(gx,{...e,layoutGroup:s,switchLayoutGroup:m.useContext(ud),isPresent:t,safeToRemove:n})}const xx={borderRadius:{...Dn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dn,borderTopRightRadius:Dn,borderBottomLeftRadius:Dn,borderBottomRightRadius:Dn,boxShadow:px};function vx(e,t,n){const s=Oe(e)?e:Pn(e);return s.start(Ka("",s,t,n)),s.animation}const yx=(e,t)=>e.depth-t.depth;class bx{constructor(){this.children=[],this.isDirty=!1}add(t){ya(this.children,t),this.isDirty=!0}remove(t){ba(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yx),this.isDirty=!1,this.children.forEach(t)}}function wx(e,t){const n=Fe.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&(Lt(s),e(a-t))};return me.setup(s,!0),()=>Lt(s)}const Td=["TopLeft","TopRight","BottomLeft","BottomRight"],jx=Td.length,Sl=e=>typeof e=="string"?parseFloat(e):e,Cl=e=>typeof e=="number"||W.test(e);function Nx(e,t,n,s,r,a){r?(e.opacity=xe(0,n.opacity??1,Sx(s)),e.opacityExit=xe(t.opacity??1,0,Cx(s))):a&&(e.opacity=xe(t.opacity??1,n.opacity??1,s));for(let o=0;o<jx;o++){const l=`border${Td[o]}Radius`;let c=El(t,l),u=El(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Cl(c)===Cl(u)?(e[l]=Math.max(xe(Sl(c),Sl(u),s),0),(lt.test(u)||lt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=xe(t.rotate||0,n.rotate||0,s))}function El(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Sx=Ad(0,.5,vu),Cx=Ad(.5,.95,qe);function Ad(e,t,n){return s=>s<e?0:s>t?1:n(cs(e,t,s))}function kl(e,t){e.min=t.min,e.max=t.max}function Ge(e,t){kl(e.x,t.x),kl(e.y,t.y)}function _l(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Pl(e,t,n,s,r){return e-=t,e=or(e,1/n,s),r!==void 0&&(e=or(e,1/r,s)),e}function Ex(e,t=0,n=1,s=.5,r,a=e,o=e){if(lt.test(t)&&(t=parseFloat(t),t=xe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=xe(a.min,a.max,s);e===a&&(l-=t),e.min=Pl(e.min,t,n,l,r),e.max=Pl(e.max,t,n,l,r)}function Rl(e,t,[n,s,r],a,o){Ex(e,t[n],t[s],t[r],t.scale,a,o)}const kx=["x","scaleX","originX"],_x=["y","scaleY","originY"];function Tl(e,t,n,s){Rl(e.x,t,kx,n?n.x:void 0,s?s.x:void 0),Rl(e.y,t,_x,n?n.y:void 0,s?s.y:void 0)}function Al(e){return e.translate===0&&e.scale===1}function Md(e){return Al(e.x)&&Al(e.y)}function Ml(e,t){return e.min===t.min&&e.max===t.max}function Px(e,t){return Ml(e.x,t.x)&&Ml(e.y,t.y)}function $l(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $d(e,t){return $l(e.x,t.x)&&$l(e.y,t.y)}function Il(e){return Ve(e.x)/Ve(e.y)}function Ll(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Rx{constructor(){this.members=[]}add(t){ya(this.members,t),t.scheduleRender()}remove(t){if(ba(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tx(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((r||a||o)&&(s=`translate3d(${r}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:f,skewY:g}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),p&&(s+=`rotateY(${p}deg) `),f&&(s+=`skewX(${f}deg) `),g&&(s+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const li=["","X","Y","Z"],Ax=1e3;let Mx=0;function ci(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Id(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=bd(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",me,!(r||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Id(s)}function Ld({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t?.()){this.id=Mx++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lx),this.nodes.forEach(Vx),this.nodes.forEach(Fx),this.nodes.forEach(Ox)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new bx)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Na),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Yu(o)&&!C0(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;me.read(()=>{h=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,d&&d(),d=wx(p,250),qs.hasAnimatedSinceResize&&(qs.hasAnimatedSinceResize=!1,this.nodes.forEach(zl)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||Wx,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!$d(this.targetLayout,f),b=!h&&p;if(this.options.layoutRoot||this.resumeFrom||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...La(g,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,b)}else h||zl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bx),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Id(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ol);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Dl);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zx),this.nodes.forEach($x),this.nodes.forEach(Ix)):this.nodes.forEach(Dl),this.clearAllSnapshots();const l=Fe.now();Me.delta=xt(0,1e3/60,l-Me.timestamp),Me.timestamp=l,Me.isProcessing=!0,Yr.update.process(Me),Yr.preRender.process(Me),Yr.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Da.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dx),this.sharedNodes.forEach(Ux)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ve(this.snapshot.measuredBox.x)&&!Ve(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Md(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Gt(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Gx(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ne();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Jx))){const{scroll:u}=this.root;u&&(xn(l.x,u.offset.x),xn(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Ne();if(Ge(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Ge(l,o),xn(l.x,d.offset.x),xn(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Ne();Ge(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vn(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gt(d.latestValues)&&vn(c,d.latestValues)}return Gt(this.latestValues)&&vn(c,this.latestValues),c}removeTransform(o){const l=Ne();Ge(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Gt(u.latestValues))continue;Wi(u.latestValues)&&u.updateSnapshot();const d=Ne(),h=u.measurePageBox();Ge(d,h),Tl(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Gt(this.latestValues)&&Tl(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),rs(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ge(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ex(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ge(this.target,this.layout.layoutBox),md(this.target,this.targetDelta)):Ge(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),rs(this.relativeTargetOrigin,this.target,p.target),Ge(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wi(this.parent.latestValues)||fd(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ge(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;hg(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ne());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_l(this.prevProjectionDelta.x,this.projectionDelta.x),_l(this.prevProjectionDelta.y,this.projectionDelta.y)),ss(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!Ll(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ll(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yn(),this.projectionDelta=yn(),this.projectionDeltaWithTransform=yn()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=yn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ne(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,x=this.getStack(),y=!x||x.members.length<=1,b=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(Hx));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const C=j/1e3;Vl(h.x,o.x,C),Vl(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rs(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zx(this.relativeTarget,this.relativeTargetOrigin,p,C),w&&Px(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ne()),Ge(w,this.relativeTarget)),v&&(this.animationValues=d,Nx(d,u,this.latestValues,C,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Lt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{qs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pn(0)),this.currentAnimation=vx(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ax),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Od(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ne();const h=Ve(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=Ve(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Ge(l,c),vn(l,d),ss(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Rx),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&ci("z",o,u,this.animationValues);for(let d=0;d<li.length;d++)ci(`rotate${li[d]}`,o,u,this.animationValues),ci(`skew${li[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ks(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ks(l?.pointerEvents)||""),this.hasProjected&&!Gt(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Tx(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in fs){if(d[g]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:y}=fs[g],b=h==="none"?d[g]:v(d[g],u);if(x){const w=x.length;for(let j=0;j<w;j++)o[x[j]]=b}else y?this.options.visualElement.renderState.vars[g]=b:o[g]=b}this.options.layoutId&&(o.pointerEvents=u===this?Ks(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Ol),this.root.sharedNodes.clear()}}}function $x(e){e.updateLayout()}function Ix(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;r==="size"?Ke(d=>{const h=a?t.measuredBox[d]:t.layoutBox[d],p=Ve(h);h.min=n[d].min,h.max=h.min+p}):Od(r,t.layoutBox,n)&&Ke(d=>{const h=a?t.measuredBox[d]:t.layoutBox[d],p=Ve(n[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=yn();ss(o,n,t.layoutBox);const l=yn();a?ss(l,e.applyTransform(s,!0),t.measuredBox):ss(l,n,t.layoutBox);const c=!Md(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const f=Ne();rs(f,t.layoutBox,h.layoutBox);const g=Ne();rs(g,n,p.layoutBox),$d(f,g)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=f,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Lx(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ox(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Dx(e){e.clearSnapshot()}function Ol(e){e.clearMeasurements()}function Dl(e){e.isLayoutDirty=!1}function zx(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Vx(e){e.resolveTargetDelta()}function Fx(e){e.calcProjection()}function Bx(e){e.resetSkewAndRotation()}function Ux(e){e.removeLeadSnapshot()}function Vl(e,t,n){e.translate=xe(t.translate,0,n),e.scale=xe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Fl(e,t,n,s){e.min=xe(t.min,n.min,s),e.max=xe(t.max,n.max,s)}function Zx(e,t,n,s){Fl(e.x,t.x,n.x,s),Fl(e.y,t.y,n.y,s)}function Hx(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Wx={duration:.45,ease:[.4,0,.1,1]},Bl=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ul=Bl("applewebkit/")&&!Bl("chrome/")?Math.round:qe;function Zl(e){e.min=Ul(e.min),e.max=Ul(e.max)}function Gx(e){Zl(e.x),Zl(e.y)}function Od(e,t,n){return e==="position"||e==="preserve-aspect"&&!Qg(Il(t),Il(n),.2)}function Jx(e){return e!==e.root&&e.scroll?.wasRoot}const Kx=Ld({attachResizeListener:(e,t)=>ms(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ui={current:void 0},Dd=Ld({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ui.current){const e=new Kx({});e.mount(window),e.setOptions({layoutScroll:!0}),ui.current=e}return ui.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qx={pan:{Feature:mx},drag:{Feature:fx,ProjectionNode:Dd,MeasureLayout:Rd}};function Hl(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&me.postRender(()=>a(t,Ss(t)))}class Yx extends Ft{mount(){const{current:t}=this.node;t&&(this.unmount=b0(t,(n,s)=>(Hl(this.node,s,"Start"),r=>Hl(this.node,r,"End"))))}unmount(){}}class Xx extends Ft{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ws(ms(this.node.current,"focus",()=>this.onFocus()),ms(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wl(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&me.postRender(()=>a(t,Ss(t)))}class Qx extends Ft{mount(){const{current:t}=this.node;t&&(this.unmount=S0(t,(n,s)=>(Wl(this.node,s,"Start"),(r,{success:a})=>Wl(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qi=new WeakMap,di=new WeakMap,ev=e=>{const t=Qi.get(e.target);t&&t(e)},tv=e=>{e.forEach(ev)};function nv({root:e,...t}){const n=e||document;di.has(n)||di.set(n,{});const s=di.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(tv,{root:e,...t})),s[r]}function sv(e,t,n){const s=nv(t);return Qi.set(e,n),s.observe(e),()=>{Qi.delete(e),s.unobserve(e)}}const rv={some:0,all:1};class iv extends Ft{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:rv[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return sv(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(av(t,n))&&this.startObserver()}unmount(){}}function av({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ov={inView:{Feature:iv},tap:{Feature:Qx},focus:{Feature:Xx},hover:{Feature:Yx}},lv={layout:{ProjectionNode:Dd,MeasureLayout:Rd}},cv={...Gg,...ov,...qx,...lv},E=cg(cv,jg);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dv=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Gl=e=>{const t=dv(e);return t.charAt(0).toUpperCase()+t.slice(1)},zd=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),hv=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...fv,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:zd("lucide",r),...!a&&!hv(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(e,t)=>{const n=m.forwardRef(({className:s,...r},a)=>m.createElement(mv,{ref:a,iconNode:t,className:zd(`lucide-${uv(Gl(e))}`,`lucide-${e}`,s),...r}));return n.displayName=Gl(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qa=B("activity",pv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xv=B("arrow-left",gv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yv=B("arrow-right",vv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bn=B("award",bv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tt=B("book-open",wv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Nv=B("brain",jv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],lr=B("bug",Sv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ev=B("chart-column",Cv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_v=B("chevron-down",kv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Rv=B("chevron-up",Pv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zn=B("circle-alert",Tv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hn=B("circle-check-big",Av);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$v=B("circle",Mv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hn=B("clock",Iv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ps=B("code",Lv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Jl=B("command",Ov);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fn=B("copy",Dv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],zt=B("cpu",zv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fv=B("eye-off",Vv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wn=B("eye",Bv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Tn=B("file-text",Uv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],hi=B("flag",Zv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Wv=B("gauge",Hv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],ea=B("hard-drive",Gv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Kl=B("hash",Jv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qv=B("info",Kv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],cr=B("lightbulb",Yv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qv=B("map-pin",Xv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],ql=B("maximize-2",ey);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],ny=B("menu",ty);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],ry=B("minimize-2",sy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],ay=B("navigation",iy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 15h18",key:"5xshup"}]],ly=B("panel-bottom",oy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],uy=B("panel-right",cy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Vd=B("pause",dy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],fy=B("pin-off",hy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],py=B("pin",my);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],An=B("play",gy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vy=B("plus",xy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Fd=B("rotate-ccw",yy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bd=B("search",by);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],is=B("settings",wy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],Ny=B("skip-back",jy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Ud=B("skip-forward",Sy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M10.029 4.285A2 2 0 0 0 7 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"1ystz2"}],["path",{d:"M3 4v16",key:"1ph11n"}]],Zd=B("step-forward",Cy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ht=B("target",Ey);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Hd=B("terminal",ky);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ya=B("triangle-alert",_y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ry=B("trophy",Py);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xa=B("x",Ty);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Vt=B("zap",Ay),My="MicroZ Lab",$y="Master assembly programming with MicroZ.";function Wd(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Wd(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function yt(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Wd(e))&&(s&&(s+=" "),s+=t);return s}const Er=({tabs:e,activeTab:t,onTabChange:n,className:s})=>i.jsx("div",{className:yt("flex space-x-1 bg-edge/50 p-1 rounded-xl backdrop-blur-sm",s),children:e.map(r=>i.jsxs("button",{onClick:()=>n(r.id),"data-testid":`${r.id}-tab`,className:yt("relative px-4 py-2 text-sm font-medium transition-all duration-200 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-bg",t===r.id?"text-accent":"text-slate-400 hover:text-slate-200"),children:[t===r.id&&i.jsx(E.div,{layoutId:"activeTab",className:"absolute inset-0 bg-accent/20 border border-accent/50 rounded-lg shadow-neon-sm",transition:{type:"spring",bounce:.2,duration:.6}}),i.jsxs("span",{className:"relative flex items-center space-x-2",children:[r.icon,i.jsx("span",{children:r.label})]})]},r.id))}),oe=({variant:e="primary",size:t="md",children:n,isLoading:s=!1,className:r,disabled:a,...o})=>{const l="relative font-medium transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-bg disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-accent/20 text-accent border border-accent/50 hover:bg-accent/30 hover:shadow-neon-sm focus-visible:ring-accent backdrop-blur-sm",secondary:"bg-accent2/20 text-accent2 border border-accent2/50 hover:bg-accent2/30 hover:shadow-neon-sm focus-visible:ring-accent2 backdrop-blur-sm",danger:"bg-danger/20 text-danger border border-danger/50 hover:bg-danger/30 hover:shadow-neon-sm focus-visible:ring-danger backdrop-blur-sm",ghost:"text-slate-300 hover:text-accent hover:bg-accent/10 focus-visible:ring-accent",accent:"bg-accent/20 text-accent border border-accent/50 hover:bg-accent/30 hover:shadow-neon-sm focus-visible:ring-accent backdrop-blur-sm"},u={sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2 text-sm rounded-xl",lg:"px-6 py-3 text-base rounded-xl"};return i.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:yt(l,c[e],u[t],r),disabled:a||s,...o,children:s?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Loading..."})]}):n})},$e=({children:e,variant:t="default",size:n="sm",className:s})=>{const r={default:"bg-slate-700/50 text-slate-300 border-slate-600/50",accent:"bg-accent/20 text-accent border-accent/50",success:"bg-ok/20 text-ok border-ok/50",warning:"bg-warn/20 text-warn border-warn/50",danger:"bg-danger/20 text-danger border-danger/50",secondary:"bg-accent2/20 text-accent2 border-accent2/50",info:"bg-accent/20 text-accent border-accent/50",accent2:"bg-accent2/20 text-accent2 border-accent2/50"},a={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm"};return i.jsx(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:yt("inline-flex items-center font-medium rounded-full border backdrop-blur-sm",r[t],a[n],s),children:e})};var Iy=Object.defineProperty,Ly=(e,t,n)=>t in e?Iy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fi=(e,t,n)=>(Ly(e,typeof t!="symbol"?t+"":t,n),n);let Oy=class{constructor(){fi(this,"current",this.detect()),fi(this,"handoffState","pending"),fi(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ct=new Oy;function kr(e){var t,n;return ct.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function _r(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function wt(){let e=[],t={addEventListener(n,s,r,a){return n.addEventListener(s,r,a),t.add(()=>n.removeEventListener(s,r,a))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return t.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return _r(()=>{s.current&&n[0]()}),t.add(()=>{s.current=!1})},style(n,s,r){let a=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:r}),this.add(()=>{Object.assign(n.style,{[s]:a})})},group(n){let s=wt();return n(s),this.add(()=>s.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let s=e.indexOf(n);if(s>=0)for(let r of e.splice(s,1))r()}},dispose(){for(let n of e.splice(0))n()}};return t}function Qa(){let[e]=m.useState(wt);return m.useEffect(()=>()=>e.dispose(),[e]),e}let De=(e,t)=>{ct.isServer?m.useEffect(e,t):m.useLayoutEffect(e,t)};function cn(e){let t=m.useRef(e);return De(()=>{t.current=e},[e]),t}let ue=function(e){let t=cn(e);return K.useCallback((...n)=>t.current(...n),[t])},Dy=m.createContext(void 0);function zy(){return m.useContext(Dy)}function ta(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function bt(e,t,...n){if(e in t){let r=t[e];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,bt),s}var ur=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ur||{}),At=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(At||{});function Ye(){let e=Fy();return m.useCallback(t=>Vy({mergeRefs:e,...t}),[e])}function Vy({ourProps:e,theirProps:t,slot:n,defaultTag:s,features:r,visible:a=!0,name:o,mergeRefs:l}){l=l??By;let c=Gd(t,e);if(a)return Is(c,n,s,o,l);let u=r??0;if(u&2){let{static:d=!1,...h}=c;if(d)return Is(h,n,s,o,l)}if(u&1){let{unmount:d=!0,...h}=c;return bt(d?0:1,{0(){return null},1(){return Is({...h,hidden:!0,style:{display:"none"}},n,s,o,l)}})}return Is(c,n,s,o,l)}function Is(e,t={},n,s,r){let{as:a=n,children:o,refName:l="ref",...c}=mi(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let h={};if(t){let p=!1,f=[];for(let[g,v]of Object.entries(t))typeof v=="boolean"&&(p=!0),v===!0&&f.push(g.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(p){h["data-headlessui-state"]=f.join(" ");for(let g of f)h[`data-${g}`]=""}}if(a===m.Fragment&&(Object.keys(Jt(c)).length>0||Object.keys(Jt(h)).length>0))if(!m.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Jt(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Jt(c)).concat(Object.keys(Jt(h))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,f=p?.className,g=typeof f=="function"?(...y)=>ta(f(...y),c.className):ta(f,c.className),v=g?{className:g}:{},x=Gd(d.props,Jt(mi(c,["ref"])));for(let y in h)y in x&&delete h[y];return m.cloneElement(d,Object.assign({},x,h,u,{ref:r(Uy(d),u.ref)},v))}return m.createElement(a,Object.assign({},mi(c,["ref"]),a!==m.Fragment&&u,a!==m.Fragment&&h),d)}function Fy(){let e=m.useRef([]),t=m.useCallback(n=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return e.current=n,t}}function By(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Gd(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let s of e)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):t[r]=s[r];if(t.disabled||t["aria-disabled"])for(let s in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(n[s]=[r=>{var a;return(a=r?.preventDefault)==null?void 0:a.call(r)}]);for(let s in n)Object.assign(t,{[s](r,...a){let o=n[s];for(let l of o){if((r instanceof Event||r?.nativeEvent instanceof Event)&&r.defaultPrevented)return;l(r,...a)}}});return t}function Ue(e){var t;return Object.assign(m.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Jt(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function mi(e,t=[]){let n=Object.assign({},e);for(let s of t)s in n&&delete n[s];return n}function Uy(e){return K.version.split(".")[0]>="19"?e.props.ref:e.ref}let Zy="span";var dr=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(dr||{});function Hy(e,t){var n;let{features:s=1,...r}=e,a={ref:t,"aria-hidden":(s&2)===2?!0:(n=r["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Ye()({ourProps:a,theirProps:r,slot:{},defaultTag:Zy,name:"Hidden"})}let na=Ue(Hy);function Jd(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function $t(e){return Jd(e)&&"tagName"in e}function rn(e){return $t(e)&&"accessKey"in e}function Mt(e){return $t(e)&&"tabIndex"in e}function Wy(e){return $t(e)&&"style"in e}function Gy(e){return rn(e)&&e.nodeName==="IFRAME"}function Jy(e){return rn(e)&&e.nodeName==="INPUT"}let Kd=Symbol();function Ky(e,t=!0){return Object.assign(e,{[Kd]:t})}function ut(...e){let t=m.useRef(e);m.useEffect(()=>{t.current=e},[e]);let n=ue(s=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(s):r.current=s)});return e.every(s=>s==null||s?.[Kd])?void 0:n}let eo=m.createContext(null);eo.displayName="DescriptionContext";function qd(){let e=m.useContext(eo);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,qd),t}return e}function qy(){let[e,t]=m.useState([]);return[e.length>0?e.join(" "):void 0,m.useMemo(()=>function(n){let s=ue(a=>(t(o=>[...o,a]),()=>t(o=>{let l=o.slice(),c=l.indexOf(a);return c!==-1&&l.splice(c,1),l}))),r=m.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props,value:n.value}),[s,n.slot,n.name,n.props,n.value]);return K.createElement(eo.Provider,{value:r},n.children)},[t])]}let Yy="p";function Xy(e,t){let n=m.useId(),s=zy(),{id:r=`headlessui-description-${n}`,...a}=e,o=qd(),l=ut(t);De(()=>o.register(r),[r,o.register]);let c=s||!1,u=m.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),d={ref:l,...o.props,id:r};return Ye()({ourProps:d,theirProps:a,slot:u,defaultTag:Yy,name:o.name||"Description"})}let Qy=Ue(Xy),eb=Object.assign(Qy,{});var Yd=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Yd||{});let tb=m.createContext(()=>{});function nb({value:e,children:t}){return K.createElement(tb.Provider,{value:e},t)}let Xd=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var sb=Object.defineProperty,rb=(e,t,n)=>t in e?sb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ib=(e,t,n)=>(rb(e,t+"",n),n),Qd=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Je=(e,t,n)=>(Qd(e,t,"read from private field"),n?n.call(e):t.get(e)),pi=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Yl=(e,t,n,s)=>(Qd(e,t,"write to private field"),t.set(e,n),n),it,Wn,Gn;let ab=class{constructor(t){pi(this,it,{}),pi(this,Wn,new Xd(()=>new Set)),pi(this,Gn,new Set),ib(this,"disposables",wt()),Yl(this,it,t),ct.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Je(this,it)}subscribe(t,n){if(ct.isServer)return()=>{};let s={selector:t,callback:n,current:t(Je(this,it))};return Je(this,Gn).add(s),this.disposables.add(()=>{Je(this,Gn).delete(s)})}on(t,n){return ct.isServer?()=>{}:(Je(this,Wn).get(t).add(n),this.disposables.add(()=>{Je(this,Wn).get(t).delete(n)}))}send(t){let n=this.reduce(Je(this,it),t);if(n!==Je(this,it)){Yl(this,it,n);for(let s of Je(this,Gn)){let r=s.selector(Je(this,it));eh(s.current,r)||(s.current=r,s.callback(r))}for(let s of Je(this,Wn).get(t.type))s(Je(this,it),t)}}};it=new WeakMap,Wn=new WeakMap,Gn=new WeakMap;function eh(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:gi(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:gi(e.entries(),t.entries()):Xl(e)&&Xl(t)?gi(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function gi(e,t){do{let n=e.next(),s=t.next();if(n.done&&s.done)return!0;if(n.done||s.done||!Object.is(n.value,s.value))return!1}while(!0)}function Xl(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var ob=Object.defineProperty,lb=(e,t,n)=>t in e?ob(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ql=(e,t,n)=>(lb(e,typeof t!="symbol"?t+"":t,n),n),cb=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(cb||{});let ub={0(e,t){let n=t.id,s=e.stack,r=e.stack.indexOf(n);if(r!==-1){let a=e.stack.slice();return a.splice(r,1),a.push(n),s=a,{...e,stack:s}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,s=e.stack.indexOf(n);if(s===-1)return e;let r=e.stack.slice();return r.splice(s,1),{...e,stack:r}}},db=class th extends ab{constructor(){super(...arguments),Ql(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Ql(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new th({stack:[]})}reduce(t,n){return bt(n.type,ub,t,n)}};const nh=new Xd(()=>db.new());var sh={exports:{}},rh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=m;function hb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fb=typeof Object.is=="function"?Object.is:hb,mb=Cs.useSyncExternalStore,pb=Cs.useRef,gb=Cs.useEffect,xb=Cs.useMemo,vb=Cs.useDebugValue;rh.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var a=pb(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=xb(function(){function c(f){if(!u){if(u=!0,d=f,f=s(f),r!==void 0&&o.hasValue){var g=o.value;if(r(g,f))return h=g}return h=f}if(g=h,fb(d,f))return g;var v=s(f);return r!==void 0&&r(g,v)?(d=f,g):(d=f,h=v)}var u=!1,d,h,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,s,r]);var l=mb(e,a[0],a[1]);return gb(function(){o.hasValue=!0,o.value=l},[l]),vb(l),l};sh.exports=rh;var yb=sh.exports;function ih(e,t,n=eh){return yb.useSyncExternalStoreWithSelector(ue(s=>e.subscribe(bb,s)),ue(()=>e.state),ue(()=>e.state),ue(t),n)}function bb(e){return e}function Es(e,t){let n=m.useId(),s=nh.get(t),[r,a]=ih(s,m.useCallback(o=>[s.selectors.isTop(o,n),s.selectors.inStack(o,n)],[s,n]));return De(()=>{if(e)return s.actions.push(n),()=>s.actions.pop(n)},[s,e,n]),e?a?r:!0:!1}let sa=new Map,as=new Map;function ec(e){var t;let n=(t=as.get(e))!=null?t:0;return as.set(e,n+1),n!==0?()=>tc(e):(sa.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>tc(e))}function tc(e){var t;let n=(t=as.get(e))!=null?t:1;if(n===1?as.delete(e):as.set(e,n-1),n!==1)return;let s=sa.get(e);s&&(s["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",s["aria-hidden"]),e.inert=s.inert,sa.delete(e))}function wb(e,{allowed:t,disallowed:n}={}){let s=Es(e,"inert-others");De(()=>{var r,a;if(!s)return;let o=wt();for(let c of(r=n?.())!=null?r:[])c&&o.add(ec(c));let l=(a=t?.())!=null?a:[];for(let c of l){if(!c)continue;let u=kr(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let h of d.children)l.some(p=>h.contains(p))||o.add(ec(h));d=d.parentElement}}return o.dispose},[s,t,n])}function jb(e,t,n){let s=cn(r=>{let a=r.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});m.useEffect(()=>{if(!e)return;let r=t===null?null:rn(t)?t:t.current;if(!r)return;let a=wt();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>s.current(r));o.observe(r),a.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>s.current(r));o.observe(r),a.add(()=>o.disconnect())}return()=>a.dispose()},[t,s,e])}let hr=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Nb=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var mt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(mt||{}),ra=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ra||{}),Sb=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Sb||{});function Cb(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(hr)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Eb(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Nb)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ah=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ah||{});function kb(e,t=0){var n;return e===((n=kr(e))==null?void 0:n.body)?!1:bt(t,{0(){return e.matches(hr)},1(){let s=e;for(;s!==null;){if(s.matches(hr))return!0;s=s.parentElement}return!1}})}var _b=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(_b||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function gt(e){e?.focus({preventScroll:!0})}let Pb=["textarea","input"].join(",");function Rb(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,Pb))!=null?n:!1}function Tb(e,t=n=>n){return e.slice().sort((n,s)=>{let r=t(n),a=t(s);if(r===null||a===null)return 0;let o=r.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function os(e,t,{sorted:n=!0,relativeTo:s=null,skipElements:r=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?Tb(e):e:t&64?Eb(e):Cb(e);r.length>0&&o.length>1&&(o=o.filter(f=>!r.some(g=>g!=null&&"current"in g?g?.current===f:g===f))),s=s??a.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(s))-1;if(t&4)return Math.max(0,o.indexOf(s))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,h=o.length,p;do{if(d>=h||d+h<=0)return 0;let f=c+d;if(t&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}p=o[f],p?.focus(u),d+=l}while(p!==a.activeElement);return t&6&&Rb(p)&&p.select(),2}function oh(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ab(){return/Android/gi.test(window.navigator.userAgent)}function nc(){return oh()||Ab()}function Ls(e,t,n,s){let r=cn(n);m.useEffect(()=>{if(!e)return;function a(o){r.current(o)}return document.addEventListener(t,a,s),()=>document.removeEventListener(t,a,s)},[e,t,s])}function lh(e,t,n,s){let r=cn(n);m.useEffect(()=>{if(!e)return;function a(o){r.current(o)}return window.addEventListener(t,a,s),()=>window.removeEventListener(t,a,s)},[e,t,s])}const sc=30;function Mb(e,t,n){let s=cn(n),r=m.useCallback(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function h(p){return typeof p=="function"?h(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let h of d)if(h!==null&&(h.contains(u)||l.composed&&l.composedPath().includes(h)))return;return!kb(u,ah.Loose)&&u.tabIndex!==-1&&l.preventDefault(),s.current(l,u)},[s,t]),a=m.useRef(null);Ls(e,"pointerdown",l=>{var c,u;nc()||(a.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target)},!0),Ls(e,"pointerup",l=>{if(nc()||!a.current)return;let c=a.current;return a.current=null,r(l,()=>c)},!0);let o=m.useRef({x:0,y:0});Ls(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),Ls(e,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=sc||Math.abs(c.y-o.current.y)>=sc))return r(l,()=>Mt(l.target)?l.target:null)},!0),lh(e,"blur",l=>r(l,()=>Gy(window.document.activeElement)?window.document.activeElement:null),!0)}function Pr(...e){return m.useMemo(()=>kr(...e),[...e])}function ch(e,t,n,s){let r=cn(n);m.useEffect(()=>{e=e??window;function a(o){r.current(o)}return e.addEventListener(t,a,s),()=>e.removeEventListener(t,a,s)},[e,t,s])}function $b(e){return m.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Ib(e,t){let n=e(),s=new Set;return{getSnapshot(){return n},subscribe(r){return s.add(r),()=>s.delete(r)},dispatch(r,...a){let o=t[r].call(n,...a);o&&(n=o,s.forEach(l=>l()))}}}function Lb(){let e;return{before({doc:t}){var n;let s=t.documentElement,r=(n=t.defaultView)!=null?n:window;e=Math.max(0,r.innerWidth-s.clientWidth)},after({doc:t,d:n}){let s=t.documentElement,r=Math.max(0,s.clientWidth-s.offsetWidth),a=Math.max(0,e-r);n.style(s,"paddingRight",`${a}px`)}}}function Ob(){return oh()?{before({doc:e,d:t,meta:n}){function s(r){return n.containers.flatMap(a=>a()).some(a=>a.contains(r))}t.microTask(()=>{var r;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=wt();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let a=(r=window.scrollY)!=null?r:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(Mt(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);Mt(d)&&!s(d)&&(o=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(Mt(l.target)&&Wy(l.target))if(s(l.target)){let c=l.target;for(;c.parentElement&&s(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(Mt(l.target)){if(Jy(l.target))return;if(s(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;a!==c&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Db(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function zb(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Qt=Ib(()=>new Map,{PUSH(e,t){var n;let s=(n=this.get(e))!=null?n:{doc:e,count:0,d:wt(),meta:new Set};return s.count++,s.meta.add(t),this.set(e,s),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let s={doc:e,d:t,meta:zb(n)},r=[Ob(),Lb(),Db()];r.forEach(({before:a})=>a?.(s)),r.forEach(({after:a})=>a?.(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Qt.subscribe(()=>{let e=Qt.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let s=t.get(n.doc)==="hidden",r=n.count!==0;(r&&!s||!r&&s)&&Qt.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Qt.dispatch("TEARDOWN",n)}});function Vb(e,t,n=()=>({containers:[]})){let s=$b(Qt),r=t?s.get(t):void 0,a=r?r.count>0:!1;return De(()=>{if(!(!t||!e))return Qt.dispatch("PUSH",t,n),()=>Qt.dispatch("POP",t,n)},[e,t]),a}function Fb(e,t,n=()=>[document.body]){let s=Es(e,"scroll-lock");Vb(s,t,r=>{var a;return{containers:[...(a=r.containers)!=null?a:[],n]}})}function Bb(e=0){let[t,n]=m.useState(e),s=m.useCallback(c=>n(c),[t]),r=m.useCallback(c=>n(u=>u|c),[t]),a=m.useCallback(c=>(t&c)===c,[t]),o=m.useCallback(c=>n(u=>u&~c),[n]),l=m.useCallback(c=>n(u=>u^c),[n]);return{flags:t,setFlag:s,addFlag:r,hasFlag:a,removeFlag:o,toggleFlag:l}}var Ub={},rc,ic;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((rc=process==null?void 0:Ub)==null?void 0:rc.NODE_ENV)==="test"&&typeof((ic=Element?.prototype)==null?void 0:ic.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Zb=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Zb||{});function Hb(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Wb(e,t,n,s){let[r,a]=m.useState(n),{hasFlag:o,addFlag:l,removeFlag:c}=Bb(e&&r?3:0),u=m.useRef(!1),d=m.useRef(!1),h=Qa();return De(()=>{var p;if(e){if(n&&a(!0),!t){n&&l(3);return}return(p=s?.start)==null||p.call(s,n),Gb(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){d.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var f;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,c(7),n||a(!1),(f=s?.end)==null||f.call(s,n))}})}},[e,n,t,h]),e?[r,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Gb(e,{prepare:t,run:n,done:s,inFlight:r}){let a=wt();return Kb(e,{prepare:t,inFlight:r}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(Jb(e,s))})}),a.dispose}function Jb(e,t){var n,s;let r=wt();if(!e)return r.dispose;let a=!1;r.add(()=>{a=!0});let o=(s=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?s:[];return o.length===0?(t(),r.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{a||t()}),r.dispose)}function Kb(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let s=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=s}function to(e,t){let n=m.useRef([]),s=ue(e);m.useEffect(()=>{let r=[...n.current];for(let[a,o]of t.entries())if(n.current[a]!==o){let l=s(t,r);return n.current=t,l}},[s,...t])}let Rr=m.createContext(null);Rr.displayName="OpenClosedContext";var nt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(nt||{});function Tr(){return m.useContext(Rr)}function qb({value:e,children:t}){return K.createElement(Rr.Provider,{value:e},t)}function Yb({children:e}){return K.createElement(Rr.Provider,{value:null},e)}function Xb(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Et=[];Xb(()=>{function e(t){if(!Mt(t.target)||t.target===document.body||Et[0]===t.target)return;let n=t.target;n=n.closest(hr),Et.unshift(n??t.target),Et=Et.filter(s=>s!=null&&s.isConnected),Et.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function uh(e){let t=ue(e),n=m.useRef(!1);m.useEffect(()=>(n.current=!1,()=>{n.current=!0,_r(()=>{n.current&&t()})}),[t])}function Qb(){let e=typeof document>"u";return"useSyncExternalStore"in er?(t=>t.useSyncExternalStore)(er)(()=>()=>{},()=>!1,()=>!e):!1}function ks(){let e=Qb(),[t,n]=m.useState(ct.isHandoffComplete);return t&&ct.isHandoffComplete===!1&&n(!1),m.useEffect(()=>{t!==!0&&n(!0)},[t]),m.useEffect(()=>ct.handoff(),[]),e?!1:t}let dh=m.createContext(!1);function e1(){return m.useContext(dh)}function ac(e){return K.createElement(dh.Provider,{value:e.force},e.children)}function t1(e){let t=e1(),n=m.useContext(fh),[s,r]=m.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(ct.isServer)return null;let o=e?.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return m.useEffect(()=>{s!==null&&(e!=null&&e.body.contains(s)||e==null||e.body.appendChild(s))},[s,e]),m.useEffect(()=>{t||n!==null&&r(n.current)},[n,r,t]),s}let hh=m.Fragment,n1=Ue(function(e,t){let{ownerDocument:n=null,...s}=e,r=m.useRef(null),a=ut(Ky(f=>{r.current=f}),t),o=Pr(r),l=n??o,c=t1(l),[u]=m.useState(()=>{var f;return ct.isServer?null:(f=l?.createElement("div"))!=null?f:null}),d=m.useContext(ia),h=ks();De(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),De(()=>{if(u&&d)return d.register(u)},[d,u]),uh(()=>{var f;!c||!u||(Jd(u)&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&((f=c.parentElement)==null||f.removeChild(c)))});let p=Ye();return h?!c||!u?null:Kc.createPortal(p({ourProps:{ref:a},theirProps:s,slot:{},defaultTag:hh,name:"Portal"}),u):null});function s1(e,t){let n=ut(t),{enabled:s=!0,ownerDocument:r,...a}=e,o=Ye();return s?K.createElement(n1,{...a,ownerDocument:r,ref:n}):o({ourProps:{ref:n},theirProps:a,slot:{},defaultTag:hh,name:"Portal"})}let r1=m.Fragment,fh=m.createContext(null);function i1(e,t){let{target:n,...s}=e,r={ref:ut(t)},a=Ye();return K.createElement(fh.Provider,{value:n},a({ourProps:r,theirProps:s,defaultTag:r1,name:"Popover.Group"}))}let ia=m.createContext(null);function a1(){let e=m.useContext(ia),t=m.useRef([]),n=ue(a=>(t.current.push(a),e&&e.register(a),()=>s(a))),s=ue(a=>{let o=t.current.indexOf(a);o!==-1&&t.current.splice(o,1),e&&e.unregister(a)}),r=m.useMemo(()=>({register:n,unregister:s,portals:t}),[n,s,t]);return[t,m.useMemo(()=>function({children:a}){return K.createElement(ia.Provider,{value:r},a)},[r])]}let o1=Ue(s1),mh=Ue(i1),l1=Object.assign(o1,{Group:mh});function c1(e,t=typeof document<"u"?document.defaultView:null,n){let s=Es(e,"escape");ch(t,"keydown",r=>{s&&(r.defaultPrevented||r.key===Yd.Escape&&n(r))})}function u1(){var e;let[t]=m.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,s]=m.useState((e=t?.matches)!=null?e:!1);return De(()=>{if(!t)return;function r(a){s(a.matches)}return t.addEventListener("change",r),()=>t.removeEventListener("change",r)},[t]),n}function d1({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let s=Pr(n),r=ue(()=>{var a,o;let l=[];for(let c of e)c!==null&&($t(c)?l.push(c):"current"in c&&$t(c.current)&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(a=s?.querySelectorAll("html > *, body > *"))!=null?a:[])c!==document.body&&c!==document.head&&$t(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n?.getRootNode())==null?void 0:o.host))||l.some(u=>c.contains(u))||l.push(c));return l});return{resolveContainers:r,contains:ue(a=>r().some(o=>o.contains(a)))}}let ph=m.createContext(null);function oc({children:e,node:t}){let[n,s]=m.useState(null),r=gh(t??n);return K.createElement(ph.Provider,{value:r},e,r===null&&K.createElement(na,{features:dr.Hidden,ref:a=>{var o,l;if(a){for(let c of(l=(o=kr(a))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&$t(c)&&c!=null&&c.contains(a)){s(c);break}}}}))}function gh(e=null){var t;return(t=m.useContext(ph))!=null?t:e}function no(){let e=m.useRef(!1);return De(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Jn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Jn||{});function h1(){let e=m.useRef(0);return lh(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function xh(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)$t(n.current)&&t.add(n.current);return t}let f1="div";var Kt=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Kt||{});function m1(e,t){let n=m.useRef(null),s=ut(n,t),{initialFocus:r,initialFocusFallback:a,containers:o,features:l=15,...c}=e;ks()||(l=0);let u=Pr(n);v1(l,{ownerDocument:u});let d=y1(l,{ownerDocument:u,container:n,initialFocus:r,initialFocusFallback:a});b1(l,{ownerDocument:u,container:n,containers:o,previousActiveElement:d});let h=h1(),p=ue(b=>{if(!rn(n.current))return;let w=n.current;(j=>j())(()=>{bt(h.current,{[Jn.Forwards]:()=>{os(w,mt.First,{skipElements:[b.relatedTarget,a]})},[Jn.Backwards]:()=>{os(w,mt.Last,{skipElements:[b.relatedTarget,a]})}})})}),f=Es(!!(l&2),"focus-trap#tab-lock"),g=Qa(),v=m.useRef(!1),x={ref:s,onKeyDown(b){b.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(b){if(!(l&4))return;let w=xh(o);rn(n.current)&&w.add(n.current);let j=b.relatedTarget;Mt(j)&&j.dataset.headlessuiFocusGuard!=="true"&&(vh(w,j)||(v.current?os(n.current,bt(h.current,{[Jn.Forwards]:()=>mt.Next,[Jn.Backwards]:()=>mt.Previous})|mt.WrapAround,{relativeTo:b.target}):Mt(b.target)&&gt(b.target)))}},y=Ye();return K.createElement(K.Fragment,null,f&&K.createElement(na,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:dr.Focusable}),y({ourProps:x,theirProps:c,defaultTag:f1,name:"FocusTrap"}),f&&K.createElement(na,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:dr.Focusable}))}let p1=Ue(m1),g1=Object.assign(p1,{features:Kt});function x1(e=!0){let t=m.useRef(Et.slice());return to(([n],[s])=>{s===!0&&n===!1&&_r(()=>{t.current.splice(0)}),s===!1&&n===!0&&(t.current=Et.slice())},[e,Et,t]),ue(()=>{var n;return(n=t.current.find(s=>s!=null&&s.isConnected))!=null?n:null})}function v1(e,{ownerDocument:t}){let n=!!(e&8),s=x1(n);to(()=>{n||t?.activeElement===t?.body&&gt(s())},[n]),uh(()=>{n&&gt(s())})}function y1(e,{ownerDocument:t,container:n,initialFocus:s,initialFocusFallback:r}){let a=m.useRef(null),o=Es(!!(e&1),"focus-trap#initial-focus"),l=no();return to(()=>{if(e===0)return;if(!o){r!=null&&r.current&&gt(r.current);return}let c=n.current;c&&_r(()=>{if(!l.current)return;let u=t?.activeElement;if(s!=null&&s.current){if(s?.current===u){a.current=u;return}}else if(c.contains(u)){a.current=u;return}if(s!=null&&s.current)gt(s.current);else{if(e&16){if(os(c,mt.First|mt.AutoFocus)!==ra.Error)return}else if(os(c,mt.First)!==ra.Error)return;if(r!=null&&r.current&&(gt(r.current),t?.activeElement===r.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=t?.activeElement})},[r,o,e]),a}function b1(e,{ownerDocument:t,container:n,containers:s,previousActiveElement:r}){let a=no(),o=!!(e&4);ch(t?.defaultView,"focus",l=>{if(!o||!a.current)return;let c=xh(s);rn(n.current)&&c.add(n.current);let u=r.current;if(!u)return;let d=l.target;rn(d)?vh(c,d)?(r.current=d,gt(d)):(l.preventDefault(),l.stopPropagation(),gt(u)):gt(r.current)},!0)}function vh(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function yh(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:wh)!==m.Fragment||K.Children.count(e.children)===1}let Ar=m.createContext(null);Ar.displayName="TransitionContext";var w1=(e=>(e.Visible="visible",e.Hidden="hidden",e))(w1||{});function j1(){let e=m.useContext(Ar);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function N1(){let e=m.useContext(Mr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Mr=m.createContext(null);Mr.displayName="NestingContext";function $r(e){return"children"in e?$r(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function bh(e,t){let n=cn(e),s=m.useRef([]),r=no(),a=Qa(),o=ue((f,g=At.Hidden)=>{let v=s.current.findIndex(({el:x})=>x===f);v!==-1&&(bt(g,{[At.Unmount](){s.current.splice(v,1)},[At.Hidden](){s.current[v].state="hidden"}}),a.microTask(()=>{var x;!$r(s)&&r.current&&((x=n.current)==null||x.call(n))}))}),l=ue(f=>{let g=s.current.find(({el:v})=>v===f);return g?g.state!=="visible"&&(g.state="visible"):s.current.push({el:f,state:"visible"}),()=>o(f,At.Unmount)}),c=m.useRef([]),u=m.useRef(Promise.resolve()),d=m.useRef({enter:[],leave:[]}),h=ue((f,g,v)=>{c.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([x])=>x!==f)),t?.chains.current[g].push([f,new Promise(x=>{c.current.push(x)})]),t?.chains.current[g].push([f,new Promise(x=>{Promise.all(d.current[g].map(([y,b])=>b)).then(()=>x())})]),g==="enter"?u.current=u.current.then(()=>t?.wait.current).then(()=>v(g)):v(g)}),p=ue((f,g,v)=>{Promise.all(d.current[g].splice(0).map(([x,y])=>y)).then(()=>{var x;(x=c.current.shift())==null||x()}).then(()=>v(g))});return m.useMemo(()=>({children:s,register:l,unregister:o,onStart:h,onStop:p,wait:u,chains:d}),[l,o,s,h,p,d,u])}let wh=m.Fragment,jh=ur.RenderStrategy;function S1(e,t){var n,s;let{transition:r=!0,beforeEnter:a,afterEnter:o,beforeLeave:l,afterLeave:c,enter:u,enterFrom:d,enterTo:h,entered:p,leave:f,leaveFrom:g,leaveTo:v,...x}=e,[y,b]=m.useState(null),w=m.useRef(null),j=yh(e),C=ut(...j?[w,t,b]:t===null?[]:[t]),R=(n=x.unmount)==null||n?At.Unmount:At.Hidden,{show:P,appear:M,initial:D}=j1(),[L,G]=m.useState(P?"visible":"hidden"),q=N1(),{register:U,unregister:J}=q;De(()=>U(w),[U,w]),De(()=>{if(R===At.Hidden&&w.current){if(P&&L!=="visible"){G("visible");return}return bt(L,{hidden:()=>J(w),visible:()=>U(w)})}},[L,w,U,J,P,R]);let X=ks();De(()=>{if(j&&X&&L==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,L,X,j]);let he=D&&!M,se=M&&P&&D,re=m.useRef(!1),fe=bh(()=>{re.current||(G("hidden"),J(w))},q),ge=ue(N=>{re.current=!0;let S=N?"enter":"leave";fe.onStart(w,S,$=>{$==="enter"?a?.():$==="leave"&&l?.()})}),we=ue(N=>{let S=N?"enter":"leave";re.current=!1,fe.onStop(w,S,$=>{$==="enter"?o?.():$==="leave"&&c?.()}),S==="leave"&&!$r(fe)&&(G("hidden"),J(w))});m.useEffect(()=>{j&&r||(ge(P),we(P))},[P,j,r]);let Le=!(!r||!j||!X||he),[,T]=Wb(Le,y,P,{start:ge,end:we}),V=Jt({ref:C,className:((s=ta(x.className,se&&u,se&&d,T.enter&&u,T.enter&&T.closed&&d,T.enter&&!T.closed&&h,T.leave&&f,T.leave&&!T.closed&&g,T.leave&&T.closed&&v,!T.transition&&P&&p))==null?void 0:s.trim())||void 0,...Hb(T)}),H=0;L==="visible"&&(H|=nt.Open),L==="hidden"&&(H|=nt.Closed),P&&L==="hidden"&&(H|=nt.Opening),!P&&L==="visible"&&(H|=nt.Closing);let F=Ye();return K.createElement(Mr.Provider,{value:fe},K.createElement(qb,{value:H},F({ourProps:V,theirProps:x,defaultTag:wh,features:jh,visible:L==="visible",name:"Transition.Child"})))}function C1(e,t){let{show:n,appear:s=!1,unmount:r=!0,...a}=e,o=m.useRef(null),l=yh(e),c=ut(...l?[o,t]:t===null?[]:[t]);ks();let u=Tr();if(n===void 0&&u!==null&&(n=(u&nt.Open)===nt.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=m.useState(n?"visible":"hidden"),p=bh(()=>{n||h("hidden")}),[f,g]=m.useState(!0),v=m.useRef([n]);De(()=>{f!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let x=m.useMemo(()=>({show:n,appear:s,initial:f}),[n,s,f]);De(()=>{n?h("visible"):!$r(p)&&o.current!==null&&h("hidden")},[n,p]);let y={unmount:r},b=ue(()=>{var C;f&&g(!1),(C=e.beforeEnter)==null||C.call(e)}),w=ue(()=>{var C;f&&g(!1),(C=e.beforeLeave)==null||C.call(e)}),j=Ye();return K.createElement(Mr.Provider,{value:p},K.createElement(Ar.Provider,{value:x},j({ourProps:{...y,as:m.Fragment,children:K.createElement(Nh,{ref:c,...y,...a,beforeEnter:b,beforeLeave:w})},theirProps:{},defaultTag:m.Fragment,features:jh,visible:d==="visible",name:"Transition"})))}function E1(e,t){let n=m.useContext(Ar)!==null,s=Tr()!==null;return K.createElement(K.Fragment,null,!n&&s?K.createElement(aa,{ref:t,...e}):K.createElement(Nh,{ref:t,...e}))}let aa=Ue(C1),Nh=Ue(S1),so=Ue(E1),k1=Object.assign(aa,{Child:so,Root:aa});var _1=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(_1||{}),P1=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(P1||{});let R1={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ro=m.createContext(null);ro.displayName="DialogContext";function Ir(e){let t=m.useContext(ro);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ir),n}return t}function T1(e,t){return bt(t.type,R1,e,t)}let lc=Ue(function(e,t){let n=m.useId(),{id:s=`headlessui-dialog-${n}`,open:r,onClose:a,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...h}=e,p=m.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(p.current||(p.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=Tr();r===void 0&&f!==null&&(r=(f&nt.Open)===nt.Open);let g=m.useRef(null),v=ut(g,t),x=Pr(g),y=r?0:1,[b,w]=m.useReducer(T1,{titleId:null,descriptionId:null,panelRef:m.createRef()}),j=ue(()=>a(!1)),C=ue(T=>w({type:0,id:T})),R=ks()?y===0:!1,[P,M]=a1(),D={get current(){var T;return(T=b.panelRef.current)!=null?T:g.current}},L=gh(),{resolveContainers:G}=d1({mainTreeNode:L,portals:P,defaultContainers:[D]}),q=f!==null?(f&nt.Closing)===nt.Closing:!1;wb(u||q?!1:R,{allowed:ue(()=>{var T,V;return[(V=(T=g.current)==null?void 0:T.closest("[data-headlessui-portal]"))!=null?V:null]}),disallowed:ue(()=>{var T;return[(T=L?.closest("body > *:not(#headlessui-portal-root)"))!=null?T:null]})});let U=nh.get(null);De(()=>{if(R)return U.actions.push(s),()=>U.actions.pop(s)},[U,s,R]);let J=ih(U,m.useCallback(T=>U.selectors.isTop(T,s),[U,s]));Mb(J,G,T=>{T.preventDefault(),j()}),c1(J,x?.defaultView,T=>{T.preventDefault(),T.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),j()}),Fb(u||q?!1:R,x,G),jb(R,g,j);let[X,he]=qy(),se=m.useMemo(()=>[{dialogState:y,close:j,setTitleId:C,unmount:d},b],[y,b,j,C,d]),re=m.useMemo(()=>({open:y===0}),[y]),fe={ref:v,id:s,role:l,tabIndex:-1,"aria-modal":u?void 0:y===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":X,unmount:d},ge=!u1(),we=Kt.None;R&&!u&&(we|=Kt.RestoreFocus,we|=Kt.TabLock,c&&(we|=Kt.AutoFocus),ge&&(we|=Kt.InitialFocus));let Le=Ye();return K.createElement(Yb,null,K.createElement(ac,{force:!0},K.createElement(l1,null,K.createElement(ro.Provider,{value:se},K.createElement(mh,{target:g},K.createElement(ac,{force:!1},K.createElement(he,{slot:re},K.createElement(M,null,K.createElement(g1,{initialFocus:o,initialFocusFallback:g,containers:G,features:we},K.createElement(nb,{value:j},Le({ourProps:fe,theirProps:h,slot:re,defaultTag:A1,features:M1,visible:y===0,name:"Dialog"})))))))))))}),A1="div",M1=ur.RenderStrategy|ur.Static;function $1(e,t){let{transition:n=!1,open:s,...r}=e,a=Tr(),o=e.hasOwnProperty("open")||a!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(s!==void 0||n)&&!r.static?K.createElement(oc,null,K.createElement(k1,{show:s,transition:n,unmount:r.unmount},K.createElement(lc,{ref:t,...r}))):K.createElement(oc,null,K.createElement(lc,{ref:t,open:s,...r}))}let I1="div";function L1(e,t){let n=m.useId(),{id:s=`headlessui-dialog-panel-${n}`,transition:r=!1,...a}=e,[{dialogState:o,unmount:l},c]=Ir("Dialog.Panel"),u=ut(t,c.panelRef),d=m.useMemo(()=>({open:o===0}),[o]),h=ue(x=>{x.stopPropagation()}),p={ref:u,id:s,onClick:h},f=r?so:m.Fragment,g=r?{unmount:l}:{},v=Ye();return K.createElement(f,{...g},v({ourProps:p,theirProps:a,slot:d,defaultTag:I1,name:"Dialog.Panel"}))}let O1="div";function D1(e,t){let{transition:n=!1,...s}=e,[{dialogState:r,unmount:a}]=Ir("Dialog.Backdrop"),o=m.useMemo(()=>({open:r===0}),[r]),l={ref:t,"aria-hidden":!0},c=n?so:m.Fragment,u=n?{unmount:a}:{},d=Ye();return K.createElement(c,{...u},d({ourProps:l,theirProps:s,slot:o,defaultTag:O1,name:"Dialog.Backdrop"}))}let z1="h2";function V1(e,t){let n=m.useId(),{id:s=`headlessui-dialog-title-${n}`,...r}=e,[{dialogState:a,setTitleId:o}]=Ir("Dialog.Title"),l=ut(t);m.useEffect(()=>(o(s),()=>o(null)),[s,o]);let c=m.useMemo(()=>({open:a===0}),[a]),u={ref:l,id:s};return Ye()({ourProps:u,theirProps:r,slot:c,defaultTag:z1,name:"Dialog.Title"})}let F1=Ue($1),B1=Ue(L1);Ue(D1);let U1=Ue(V1),Z1=Object.assign(F1,{Panel:B1,Title:U1,Description:eb});const H1=({isOpen:e,onClose:t,onOpenLesson:n,onOpenChallenge:s,onDebugAction:r})=>{const[a,o]=m.useState(""),[l,c]=m.useState(0),u=m.useMemo(()=>[{id:"open-basics",title:"Open Assembly Basics",subtitle:"Learn fundamental assembly concepts",icon:i.jsx(Tt,{className:"w-4 h-4"}),action:()=>n?.("basics"),keywords:["learn","basics","assembly","fundamentals"]},{id:"open-registers",title:"Open Registers Lesson",subtitle:"Understanding CPU registers",icon:i.jsx(Tt,{className:"w-4 h-4"}),action:()=>n?.("registers"),keywords:["learn","registers","cpu","memory"]},{id:"open-fibonacci",title:"Open Fibonacci Challenge",subtitle:"Implement Fibonacci sequence",icon:i.jsx(Vt,{className:"w-4 h-4"}),action:()=>s?.("fibonacci"),keywords:["challenge","fibonacci","sequence","algorithm"]},{id:"run-code",title:"Run Code",subtitle:"Execute the current program",icon:i.jsx(An,{className:"w-4 h-4"}),action:()=>r?.("run"),keywords:["run","execute","start","play"]},{id:"step-over",title:"Step Over",subtitle:"Execute next instruction",icon:i.jsx(Zd,{className:"w-4 h-4"}),action:()=>r?.("step"),keywords:["step","next","instruction","debug"]},{id:"continue",title:"Continue",subtitle:"Continue execution",icon:i.jsx(Ud,{className:"w-4 h-4"}),action:()=>r?.("continue"),keywords:["continue","resume","run"]},{id:"toggle-breakpoint",title:"Toggle Breakpoint",subtitle:"Add or remove breakpoint at current line",icon:i.jsx($v,{className:"w-4 h-4"}),action:()=>r?.("breakpoint"),keywords:["breakpoint","break","stop","pause"]},{id:"goto-address",title:"Go to Address",subtitle:"Jump to memory address",icon:i.jsx(Qv,{className:"w-4 h-4"}),action:()=>r?.("goto"),keywords:["goto","address","jump","memory"]},{id:"toggle-follow-sp",title:"Toggle Follow Stack Pointer",subtitle:"Auto-scroll to stack pointer",icon:i.jsx(wn,{className:"w-4 h-4"}),action:()=>r?.("follow-sp"),keywords:["follow","stack","pointer","scroll"]},{id:"open-docs",title:"Open Documentation",subtitle:"Assembly reference and guides",icon:i.jsx(Tn,{className:"w-4 h-4"}),action:()=>r?.("docs"),keywords:["docs","documentation","reference","help"]}],[n,s,r]),d=m.useMemo(()=>{if(!a.trim())return u;const p=a.toLowerCase();return u.filter(f=>f.title.toLowerCase().includes(p)||f.subtitle?.toLowerCase().includes(p)||f.keywords.some(g=>g.includes(p)))},[u,a]);m.useEffect(()=>{c(0)},[d]),m.useEffect(()=>{e||(o(""),c(0))},[e]);const h=p=>{switch(p.key){case"ArrowDown":p.preventDefault(),c(f=>f<d.length-1?f+1:0);break;case"ArrowUp":p.preventDefault(),c(f=>f>0?f-1:d.length-1);break;case"Enter":p.preventDefault(),d[l]&&(d[l]?.action(),t());break;case"Escape":t();break}};return i.jsx(Dt,{children:e&&i.jsx(Z1,{as:E.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},open:e,onClose:t,className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex min-h-screen items-start justify-center p-4 pt-[10vh]",children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs(E.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"relative w-full max-w-2xl bg-panel backdrop-blur-md border border-edge rounded-2xl shadow-glass overflow-hidden",children:[i.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-edge/50",children:[i.jsx(Bd,{className:"w-5 h-5 text-slate-400 mr-3"}),i.jsx("input",{type:"text",placeholder:"Search commands...",value:a,onChange:p=>o(p.target.value),onKeyDown:h,className:"flex-1 bg-transparent text-slate-200 placeholder-slate-400 focus:outline-none",autoFocus:!0}),i.jsx("kbd",{className:"hidden sm:inline-block px-2 py-1 text-xs text-slate-400 bg-slate-700/50 rounded border border-slate-600",children:"ESC"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.length===0?i.jsxs("div",{className:"px-4 py-8 text-center text-slate-400",children:['No commands found for "',a,'"']}):i.jsx("div",{className:"py-2",children:d.map((p,f)=>i.jsxs("button",{onClick:()=>{p.action(),t()},className:yt("w-full flex items-center px-4 py-3 text-left transition-colors focus:outline-none",f===l?"bg-accent/20 text-accent":"text-slate-300 hover:bg-slate-700/30"),children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 mr-3 rounded-lg bg-slate-700/50",children:p.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium",children:p.title}),p.subtitle&&i.jsx("div",{className:"text-sm opacity-70",children:p.subtitle})]})]},p.id))})}),i.jsx("div",{className:"px-4 py-2 border-t border-edge/50 bg-slate-900/50",children:i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[i.jsx("span",{children:"Use ↑↓ to navigate, ↵ to select"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700/50 rounded border border-slate-600",children:"Ctrl"}),i.jsx("span",{children:"+"}),i.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700/50 rounded border border-slate-600",children:"K"})]})]})})]})]})})})},W1=({activeTab:e,onTabChange:t,children:n,onCommandAction:s})=>{const[r,a]=m.useState(!1),[o,l]=m.useState(!1);m.useEffect(()=>{const u=d=>{(d.ctrlKey||d.metaKey)&&d.key==="k"&&(d.preventDefault(),a(!0))};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[]);const c=[{id:"learn",label:"Learn",icon:i.jsx(Tt,{className:"w-4 h-4"})},{id:"debug",label:"Debugger",icon:i.jsx(lr,{className:"w-4 h-4"})},{id:"docs",label:"Docs",icon:i.jsx(Tn,{className:"w-4 h-4"})}];return i.jsxs("div",{className:"h-full flex flex-col min-h-0 overflow-hidden bg-bg text-slate-200",children:[i.jsx("div",{className:"cyber-bg"}),i.jsx("header",{className:"relative z-10 bg-panel/80 backdrop-blur-md border-b border-edge shadow-glass",children:i.jsx("div",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(E.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-accent to-accent2 rounded-xl flex items-center justify-center shadow-neon-sm",children:i.jsx("span",{className:"text-bg font-bold text-xl",children:"A"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent to-accent2 rounded-xl blur-lg opacity-30 -z-10"})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-accent to-accent2 bg-clip-text text-transparent",children:My}),i.jsx("p",{className:"text-xs text-slate-400",children:$y})]})]}),i.jsx("div",{className:"hidden md:flex items-center space-x-4",children:i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs(oe,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"flex items-center space-x-2",children:[i.jsx(Jl,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden lg:inline",children:"Command"}),i.jsx($e,{size:"sm",className:"hidden lg:inline-flex",children:"⌘K"})]})})}),i.jsx("div",{className:"md:hidden",children:i.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>l(!o),children:o?i.jsx(Xa,{className:"w-5 h-5"}):i.jsx(ny,{className:"w-5 h-5"})})})]})})}),o&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-panel/90 backdrop-blur-md border-b border-edge",children:i.jsx("div",{className:"px-6 py-4 space-y-4",children:i.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>{a(!0),l(!1)},className:"w-full justify-center",children:[i.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Open Command Palette"]})})}),i.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[i.jsx("aside",{className:"hidden md:flex w-64 bg-panel/50 backdrop-blur-sm border-r border-edge",children:i.jsx("div",{className:"flex flex-col w-full p-4",children:i.jsx(Er,{tabs:c,activeTab:e,onTabChange:t,className:"flex-col space-x-0 space-y-1 bg-transparent p-0"})})}),i.jsx("main",{className:"flex-1 min-h-0 overflow-hidden",children:n})]}),i.jsx("nav",{className:"md:hidden bg-panel/80 backdrop-blur-md border-t border-edge",children:i.jsx("div",{className:"flex",children:c.map(u=>i.jsxs("button",{onClick:()=>t(u.id),className:`flex-1 flex flex-col items-center py-3 px-2 transition-colors ${e===u.id?"text-accent bg-accent/10":"text-slate-400 hover:text-slate-200"}`,children:[u.icon,i.jsx("span",{className:"text-xs mt-1",children:u.label})]},u.id))})}),i.jsx(H1,{isOpen:r,onClose:()=>a(!1),onDebugAction:s})]})},_e=({children:e,className:t,hover:n=!1,glow:s=!1})=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:n?{y:-2}:void 0,className:yt("bg-panel backdrop-blur-md border border-edge rounded-2xl shadow-glass",s&&"shadow-neon-sm",t),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent rounded-2xl pointer-events-none"}),e]}),Ie=({title:e,subtitle:t,icon:n,actions:s,className:r})=>i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:yt("flex items-center justify-between p-4 border-b border-edge/50",r),children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[n&&i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-accent/20 text-accent",children:n}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:e}),t&&i.jsx("p",{className:"text-sm text-slate-400",children:t})]})]}),s&&i.jsx("div",{className:"flex items-center space-x-2",children:s})]}),G1={success:hn,error:Zn,warning:Ya,info:qv},J1={success:"bg-ok/20 border-ok/50 text-ok",error:"bg-danger/20 border-danger/50 text-danger",warning:"bg-warn/20 border-warn/50 text-warn",info:"bg-accent/20 border-accent/50 text-accent"},K1=({id:e,type:t,title:n,message:s,duration:r=5e3,onClose:a})=>{const o=G1[t];return m.useEffect(()=>{if(r>0){const l=setTimeout(()=>a(e),r);return()=>clearTimeout(l)}},[e,r,a]),i.jsxs(E.div,{initial:{opacity:0,x:300,scale:.3},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.5,transition:{duration:.2}},"data-testid":"toast",className:yt("flex items-start space-x-3 p-4 rounded-xl border backdrop-blur-md shadow-glass max-w-sm",J1[t]),children:[i.jsx(o,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium",children:n}),s&&i.jsx("p",{className:"mt-1 text-sm opacity-90",children:s})]}),i.jsx("button",{onClick:()=>a(e),className:"flex-shrink-0 p-1 rounded-lg hover:bg-white/10 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-current",children:i.jsx(Xa,{className:"w-4 h-4"})})]})},q1=({toasts:e,onClose:t})=>i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:i.jsx(Dt,{children:e.map(n=>i.jsx(K1,{...n,onClose:t},n.id))})}),nn=65536;function xi(e=nn){const t=new ArrayBuffer(e),n=new DataView(t);for(let s=0;s<e;s++)n.setUint8(s,0);return n}function En(e,t=8){const n=Math.abs(e).toString(16).toUpperCase().padStart(t,"0");return(e<0?"-0x":"0x")+n}function Y1(e){return(e&255).toString(16).toUpperCase().padStart(2,"0")}function X1(e,t=0,n=256){const s=[],a=Math.min(t+n,e.byteLength);for(let o=t;o<a;o+=16){let l=En(o,4)+": ",c="";for(let u=0;u<16;u++)if(o+u<a){const d=e.getUint8(o+u);l+=Y1(d)+" ",c+=d>=32&&d<=126?String.fromCharCode(d):"."}else l+="   ",c+=" ";l+=" |"+c+"|",s.push(l)}return s}const Q1=({ram:e,currentSP:t,symbols:n,onAddressChange:s})=>{const[r,a]=m.useState(0),[o,l]=m.useState("0x0000"),[c,u]=m.useState(!1),[d]=m.useState(16),[h]=m.useState(16),p=m.useRef(null);m.useEffect(()=>{if(c){const b=Math.max(0,t-64&-16);a(b),l(`0x${b.toString(16).padStart(4,"0").toUpperCase()}`)}},[t,c]);const f=m.useCallback(()=>{try{let b=0;const w=o.trim();if(w.startsWith("0x")||w.startsWith("0X"))b=parseInt(w,16);else if(/^\d+$/.test(w))b=parseInt(w,10);else if(n[w.toLowerCase()])b=n[w.toLowerCase()];else throw new Error(`Invalid address: ${w}`);if(b<0||b>=e.byteLength)throw new Error(`Address out of bounds: ${b}`);const j=b&-16;a(j),l(`0x${j.toString(16).padStart(4,"0").toUpperCase()}`),s?.(j)}catch(b){console.error("Memory goto error:",b)}},[o,n,e.byteLength,s]),g=m.useCallback(b=>{const w=b==="up"?-d:d,j=Math.max(0,Math.min(r+w,e.byteLength-h*d));a(j),l(`0x${j.toString(16).padStart(4,"0").toUpperCase()}`),s?.(j)},[r,d,h,e.byteLength,s]),v=m.useCallback(b=>{b.key==="Enter"?f():b.key==="PageUp"?(b.preventDefault(),g("up")):b.key==="PageDown"&&(b.preventDefault(),g("down"))},[f,g]),x=m.useCallback(()=>{u(b=>!b)},[]),y=X1(e,r,h*d);return i.jsxs("div",{className:"flex flex-col h-full",ref:p,children:[i.jsxs("div",{className:"p-3 border-b border-edge/50 space-y-2",children:[i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[i.jsx("input",{type:"text",placeholder:"Address (hex/dec/label)",value:o,onChange:b=>l(b.target.value),onKeyDown:v,className:"flex-1 px-3 py-1 bg-panel border border-edge rounded-lg text-sm text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-accent font-mono"}),i.jsx(oe,{variant:"secondary",size:"sm",onClick:f,title:"Go to address",children:i.jsx(ay,{className:"w-4 h-4"})})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>g("up"),title:"Page Up",children:i.jsx(Rv,{className:"w-4 h-4"})}),i.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>g("down"),title:"Page Down",children:i.jsx(_v,{className:"w-4 h-4"})})]}),i.jsxs(oe,{variant:c?"accent":"ghost",size:"sm",onClick:x,title:c?"Stop following SP":"Follow SP",children:[c?i.jsx(fy,{className:"w-4 h-4"}):i.jsx(py,{className:"w-4 h-4"}),i.jsx("span",{className:"ml-1 text-xs",children:"SP"})]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:i.jsx("div",{className:"p-3 font-mono text-sm",children:y.map((b,w)=>{const j=r+w*d,C=j>=t-32&&j<=t+32,R=j<=t&&t<j+d;return i.jsx("div",{className:`
                  py-1 px-2 rounded transition-colors
                  ${C?"bg-blue-500/10":""}
                  ${R?"bg-accent/20 border-l-4 border-accent":""}
                  hover:bg-slate-700/30
                `,children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-slate-400 mr-4 select-none",children:[b.split(":")[0]??"",":"]}),i.jsx("div",{className:"flex-1 grid grid-cols-16 gap-1 text-center",children:b.split("|")[0]?.split(":")[1]?.trim().split(" ").slice(0,16).map((P,M)=>{const D=j+M,L=D===t;return i.jsx("span",{className:`
                            px-1 rounded text-xs
                            ${L?"bg-accent text-bg font-bold":"text-slate-300"}
                            ${P==="  "?"":"hover:bg-accent/30 cursor-pointer"}
                          `,title:L?`SP: ${En(D)}`:`${En(D)}: 0x${P}`,children:P||"  "},M)})}),i.jsxs("span",{className:"ml-4 text-slate-500 select-none",children:["|",b.split("|")[1]??"","|"]})]})},j)})})}),i.jsx("div",{className:"p-2 border-t border-edge/50 text-xs text-slate-400",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["SP: ",En(t)]}),i.jsxs("span",{children:[d," bytes/row • ",h," rows"]})]})})]})},ew=({watches:e,onAddWatch:t,onRemoveWatch:n,onToggleWatchpoint:s,onCopyValue:r})=>{const[a,o]=m.useState(""),[l,c]=m.useState(!1),u=m.useCallback(()=>{if(!a.trim())return;const f=a.trim().toLowerCase().startsWith("watch "),g=f?a.slice(6).trim():a.trim();t(g,f),o("")},[a,t]),d=m.useCallback(f=>{f.key==="Enter"&&u()},[u]),h=m.useCallback(f=>typeof f=="string"?f:typeof f=="number"?`${f} (${En(f)})`:String(f),[]),p=m.useCallback(f=>f.error?i.jsx(Ya,{className:"w-4 h-4 text-red-400"}):f.isWatchpoint?f.watchpointTriggered?i.jsx(wn,{className:"w-4 h-4 text-orange-400"}):i.jsx(wn,{className:"w-4 h-4 text-blue-400"}):i.jsx(wn,{className:"w-4 h-4 text-slate-400"}),[]);return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"p-3 border-b border-edge/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-300",children:"Watches & Watchpoints"}),i.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>c(!l),title:"Show help",children:"?"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",placeholder:"Expression or 'watch [address]'",value:a,onChange:f=>o(f.target.value),onKeyDown:d,className:"flex-1 px-3 py-2 bg-panel border border-edge rounded-lg text-sm text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-accent font-mono"}),i.jsx(oe,{variant:"accent",size:"sm",onClick:u,disabled:!a.trim(),title:"Add watch",children:i.jsx(vy,{className:"w-4 h-4"})})]}),l&&i.jsxs("div",{className:"mt-2 p-2 bg-blue-500/10 border border-blue-500/30 rounded-lg text-xs text-slate-300",children:[i.jsx("div",{className:"font-semibold mb-1",children:"Watch Expressions:"}),i.jsxs("div",{className:"space-y-1 text-slate-400",children:[i.jsxs("div",{children:["• ",i.jsx("code",{children:"R0"}),", ",i.jsx("code",{children:"SP"}),", ",i.jsx("code",{children:"BP"})," - Register values"]}),i.jsxs("div",{children:["• ",i.jsx("code",{children:"[0x1000]"}),", ",i.jsx("code",{children:"[R0]"}),", ",i.jsx("code",{children:"[R0+4]"})," - Memory values"]}),i.jsxs("div",{children:["• ",i.jsx("code",{children:"[label]"})," - Memory at label address"]})]}),i.jsx("div",{className:"font-semibold mt-2 mb-1",children:"Watchpoints (pause on change):"}),i.jsxs("div",{className:"space-y-1 text-slate-400",children:[i.jsxs("div",{children:["• ",i.jsx("code",{children:"watch [0x2000]"})," - Watch memory address"]}),i.jsxs("div",{children:["• ",i.jsx("code",{children:"watch [label]"})," - Watch memory at label"]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:e.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(wn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No watches"}),i.jsx("p",{className:"text-xs mt-1",children:"Add expressions to monitor values"})]})}):i.jsx("div",{className:"p-2 space-y-2",children:e.map(f=>i.jsx("div",{className:`
                  p-3 rounded-lg border transition-all duration-300
                  ${f.error?"border-red-500/30 bg-red-500/5":f.watchpointTriggered?"border-orange-500/50 bg-orange-500/10":f.changed?"border-accent/50 bg-accent/10":"border-edge/30 bg-panel/50"}
                `,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[p(f),i.jsx("code",{className:"text-sm text-slate-300 font-mono truncate",children:f.expression}),f.isWatchpoint&&i.jsx($e,{variant:"secondary",className:"text-xs",children:"WP"}),f.watchpointTriggered&&i.jsx($e,{variant:"warning",className:"text-xs animate-pulse",children:"TRIGGERED"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`
                        text-sm font-mono
                        ${f.error?"text-red-400":f.changed?"text-accent font-semibold":"text-slate-200"}
                      `,children:f.error?`Error: ${f.error}`:h(f.value)}),!f.error&&i.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>r(f.value),title:"Copy value",children:i.jsx(fn,{className:"w-3 h-3"})})]}),f.history.length>1&&!f.error&&i.jsxs("div",{className:"mt-2 text-xs text-slate-400",children:[i.jsx("span",{className:"font-medium",children:"History: "}),f.history.slice(1,4).map((g,v)=>i.jsx("span",{className:"mr-2 font-mono",children:typeof g=="number"?g:String(g)},v)),f.history.length>4&&i.jsx("span",{children:"..."})]})]}),i.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[f.isWatchpoint&&i.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>s(f.id),title:"Toggle watchpoint",children:i.jsx(Fv,{className:"w-3 h-3"})}),i.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>n(f.id),title:"Remove watch",children:i.jsx(Xa,{className:"w-3 h-3"})})]})]})},f.id))})}),e.length>0&&i.jsx("div",{className:"p-2 border-t border-edge/50 text-xs text-slate-400",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[e.filter(f=>f.isWatchpoint).length," watchpoints, ",e.filter(f=>!f.isWatchpoint).length," watches"]}),i.jsxs("span",{children:[e.filter(f=>f.changed).length," changed"]})]})})]})},tw=({isRecording:e,trace:t,currentIndex:n,maxEntries:s,onToggleRecording:r,onStepBack:a,onClearTrace:o,onJumpToTrace:l})=>{const[c,u]=m.useState(null),d=m.useCallback(f=>{u(f),l(f)},[l]),h=m.useCallback(f=>new Date(f).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),[]),p=m.useCallback(f=>[f.ZF?"Z":"-",f.NF?"N":"-",f.CF?"C":"-",f.OF?"O":"-"].join(""),[]);return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"p-3 border-b border-edge/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(oe,{variant:e?"danger":"accent",size:"sm",onClick:r,title:e?"Stop recording":"Start recording",children:e?i.jsxs(i.Fragment,{children:[i.jsx(Vd,{className:"w-4 h-4 mr-1"}),"Recording"]}):i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"w-4 h-4 mr-1"}),"Record"]})}),i.jsx(oe,{variant:"secondary",size:"sm",onClick:a,disabled:n<=0||t.length===0,title:"Step back",children:i.jsx(Ny,{className:"w-4 h-4"})}),i.jsx(oe,{variant:"ghost",size:"sm",onClick:o,title:"Clear trace",children:i.jsx(Fd,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[e&&i.jsxs($e,{variant:"accent",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse mr-1"}),"REC"]}),i.jsxs($e,{variant:"secondary",children:[t.length,"/",s]})]})]}),i.jsx("div",{className:"text-xs text-slate-400",children:t.length===0?"No trace data. Enable recording and execute instructions.":`${t.length} entries • Current: ${n+1}`})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:t.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Hn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No trace entries"}),i.jsx("p",{className:"text-xs mt-1",children:"Start recording to capture execution history"})]})}):i.jsx("div",{className:"p-2 space-y-1",children:t.map((f,g)=>i.jsxs("div",{className:`
                  p-2 rounded-lg cursor-pointer transition-colors border
                  ${g===n?"bg-accent/20 border-accent":"border-transparent"}
                  ${c===g?"bg-blue-500/10 border-blue-500/30":""}
                  hover:bg-slate-700/30
                `,onClick:()=>d(g),children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["#",g.toString().padStart(3,"0")]}),i.jsxs("span",{className:"text-xs text-slate-400",children:["IP: ",En(f.ip,4)]}),i.jsxs("span",{className:"text-xs text-slate-400",children:["Line: ",f.line]})]}),i.jsx("span",{className:"text-xs text-slate-500",children:h(f.timestamp)})]}),i.jsxs("div",{className:"font-mono text-sm",children:[i.jsx("span",{className:"text-accent font-semibold",children:f.op}),f.operands&&i.jsx("span",{className:"text-slate-300 ml-2",children:f.operands})]}),i.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("span",{className:"text-slate-400",children:["Flags: ",i.jsx("span",{className:"font-mono text-slate-300",children:p(f.flags)})]})}),i.jsx("div",{className:"flex items-center space-x-2",children:f.registers.slice(0,4).map((v,x)=>i.jsxs("span",{className:"text-slate-400",children:["R",x,": ",i.jsx("span",{className:"text-slate-300 font-mono",children:v})]},x))})]}),f.memoryDiff&&f.memoryDiff.length>0&&i.jsxs("div",{className:"mt-1 text-xs text-orange-400",children:["Memory changes: ",f.memoryDiff.length," locations"]})]},g))})}),t.length>0&&i.jsx("div",{className:"p-2 border-t border-edge/50 text-xs text-slate-400",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Buffer: ",(t.length/s*100).toFixed(1),"% full"]}),i.jsxs("span",{children:["Step back available: ",n>0?"Yes":"No"]})]})})]})},nw=({speed:e,onSpeedChange:t,isRunning:n,stepsPerSecond:s=0,batchSize:r,onBatchSizeChange:a})=>{const[o,l]=m.useState(!1),c=[{value:0,label:"Max",description:"No throttling",icon:i.jsx(Vt,{className:"w-4 h-4"})},{value:1,label:"1x",description:"~10 steps/sec",icon:i.jsx(Hn,{className:"w-4 h-4"})},{value:2,label:"2x",description:"~20 steps/sec",icon:i.jsx(Hn,{className:"w-4 h-4"})},{value:4,label:"4x",description:"~40 steps/sec",icon:i.jsx(Hn,{className:"w-4 h-4"})},{value:8,label:"8x",description:"~80 steps/sec",icon:i.jsx(Hn,{className:"w-4 h-4"})}],u=[50,100,250,500,1e3],d=m.useCallback(f=>{t(f)},[t]),h=m.useCallback(f=>{a(f)},[a]),p=m.useCallback(f=>f===0?"0":f<1e3?f.toFixed(0):f<1e6?`${(f/1e3).toFixed(1)}K`:`${(f/1e6).toFixed(1)}M`,[]);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Wv,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Speed:"})]}),i.jsx("div",{className:"flex items-center space-x-1",children:c.map(f=>i.jsxs(oe,{variant:e===f.value?"accent":"ghost",size:"sm",onClick:()=>d(f.value),title:f.description,className:"min-w-[3rem]",children:[f.value===0?f.icon:null,i.jsx("span",{className:f.value===0?"ml-1":"",children:f.label})]},f.value))}),n&&s>0&&i.jsxs($e,{variant:"accent",className:"animate-pulse",children:[p(s)," steps/s"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(oe,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"text-xs",children:[i.jsx(is,{className:"w-3 h-3 mr-1"}),"Advanced"]}),i.jsxs("div",{className:"text-xs text-slate-400",children:["Batch: ",r," steps"]})]}),o&&i.jsxs("div",{className:"p-3 bg-panel/50 border border-edge/30 rounded-lg space-y-3",children:[i.jsx("div",{className:"text-xs font-semibold text-slate-300 mb-2",children:"Performance Tuning"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-xs text-slate-400",children:"Batch Size:"}),i.jsxs("span",{className:"text-xs text-slate-300 font-mono",children:[r," steps"]})]}),i.jsx("div",{className:"flex items-center space-x-1",children:u.map(f=>i.jsx(oe,{variant:r===f?"accent":"ghost",size:"sm",onClick:()=>h(f),className:"text-xs px-2 py-1",children:f},f))}),i.jsx("div",{className:"text-xs text-slate-500",children:"Higher batch sizes improve performance but reduce UI responsiveness"})]}),i.jsxs("div",{className:"space-y-1 text-xs text-slate-500",children:[i.jsx("div",{className:"font-medium text-slate-400",children:"Tips:"}),i.jsx("div",{children:'• Use "Max" speed for long-running programs'}),i.jsx("div",{children:"• Increase batch size if UI feels sluggish"}),i.jsx("div",{children:"• Lower speeds help with debugging"})]})]}),i.jsx("div",{className:"text-xs text-slate-500",children:c.find(f=>f.value===e)?.description})]})},Lr=m.createContext(null);Lr.displayName="PanelGroupContext";const be={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},io=10,sn=m.useLayoutEffect,cc=er.useId,sw=typeof cc=="function"?cc:()=>null;let rw=0;function ao(e=null){const t=sw(),n=m.useRef(e||t||null);return n.current===null&&(n.current=""+rw++),e??n.current}function Sh({children:e,className:t="",collapsedSize:n,collapsible:s,defaultSize:r,forwardedRef:a,id:o,maxSize:l,minSize:c,onCollapse:u,onExpand:d,onResize:h,order:p,style:f,tagName:g="div",...v}){const x=m.useContext(Lr);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:b,getPanelSize:w,getPanelStyle:j,groupId:C,isPanelCollapsed:R,reevaluatePanelConstraints:P,registerPanel:M,resizePanel:D,unregisterPanel:L}=x,G=ao(o),q=m.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:h},constraints:{collapsedSize:n,collapsible:s,defaultSize:r,maxSize:l,minSize:c},id:G,idIsFromProps:o!==void 0,order:p});m.useRef({didLogMissingDefaultSizeWarning:!1}),sn(()=>{const{callbacks:J,constraints:X}=q.current,he={...X};q.current.id=G,q.current.idIsFromProps=o!==void 0,q.current.order=p,J.onCollapse=u,J.onExpand=d,J.onResize=h,X.collapsedSize=n,X.collapsible=s,X.defaultSize=r,X.maxSize=l,X.minSize=c,(he.collapsedSize!==X.collapsedSize||he.collapsible!==X.collapsible||he.maxSize!==X.maxSize||he.minSize!==X.minSize)&&P(q.current,he)}),sn(()=>{const J=q.current;return M(J),()=>{L(J)}},[p,G,M,L]),m.useImperativeHandle(a,()=>({collapse:()=>{y(q.current)},expand:J=>{b(q.current,J)},getId(){return G},getSize(){return w(q.current)},isCollapsed(){return R(q.current)},isExpanded(){return!R(q.current)},resize:J=>{D(q.current,J)}}),[y,b,w,R,G,D]);const U=j(q.current,r);return m.createElement(g,{...v,children:e,className:t,id:G,style:{...U,...f},[be.groupId]:C,[be.panel]:"",[be.panelCollapsible]:s||void 0,[be.panelId]:G,[be.panelSize]:parseFloat(""+U.flexGrow).toFixed(1)})}const Kn=m.forwardRef((e,t)=>m.createElement(Sh,{...e,forwardedRef:t}));Sh.displayName="Panel";Kn.displayName="forwardRef(Panel)";let oa=null,Ys=-1,kt=null;function iw(e,t,n){const s=(t&Ph)!==0,r=(t&Rh)!==0,a=(t&Th)!==0,o=(t&Ah)!==0;if(t){if(s)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function aw(){kt!==null&&(document.head.removeChild(kt),oa=null,kt=null,Ys=-1)}function vi(e,t,n){var s,r;const a=iw(e,t);if(oa!==a){if(oa=a,kt===null&&(kt=document.createElement("style"),document.head.appendChild(kt)),Ys>=0){var o;(o=kt.sheet)===null||o===void 0||o.removeRule(Ys)}Ys=(s=(r=kt.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&s!==void 0?s:-1}}function Ch(e){return e.type==="keydown"}function Eh(e){return e.type.startsWith("pointer")}function kh(e){return e.type.startsWith("mouse")}function Or(e){if(Eh(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(kh(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function ow(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function lw(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function cw(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:hc(e),b:hc(t)};let s;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),s=e;ee(s,"Stacking order can only be calculated for elements with a common ancestor");const r={a:dc(uc(n.a)),b:dc(uc(n.b))};if(r.a===r.b){const a=s.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let l=a.length;for(;l--;){const c=a[l];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(r.a-r.b)}const uw=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function dw(e){var t;const n=getComputedStyle((t=_h(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function hw(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||dw(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||uw.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function uc(e){let t=e.length;for(;t--;){const n=e[t];if(ee(n,"Missing node"),hw(n))return n}return null}function dc(e){return e&&Number(getComputedStyle(e).zIndex)||0}function hc(e){const t=[];for(;e;)t.push(e),e=_h(e);return t}function _h(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Ph=1,Rh=2,Th=4,Ah=8,fw=ow()==="coarse";let st=[],kn=!1,_t=new Map,Dr=new Map;const gs=new Set;function mw(e,t,n,s,r){var a;const{ownerDocument:o}=t,l={direction:n,element:t,hitAreaMargins:s,setResizeHandlerState:r},c=(a=_t.get(o))!==null&&a!==void 0?a:0;return _t.set(o,c+1),gs.add(l),fr(),function(){var d;Dr.delete(e),gs.delete(l);const h=(d=_t.get(o))!==null&&d!==void 0?d:1;if(_t.set(o,h-1),fr(),h===1&&_t.delete(o),st.includes(l)){const p=st.indexOf(l);p>=0&&st.splice(p,1),zr(),r("up",!0,null)}}}function pw(e){const{target:t}=e,{x:n,y:s}=Or(e);kn=!0,oo({target:t,x:n,y:s}),fr(),st.length>0&&(mr("down",e),zr(),e.preventDefault(),Mh(t)||e.stopImmediatePropagation())}function yi(e){const{x:t,y:n}=Or(e);if(kn&&e.buttons===0&&(kn=!1,mr("up",e)),!kn){const{target:s}=e;oo({target:s,x:t,y:n})}mr("move",e),zr(),st.length>0&&e.preventDefault()}function bi(e){const{target:t}=e,{x:n,y:s}=Or(e);Dr.clear(),kn=!1,st.length>0&&(e.preventDefault(),Mh(t)||e.stopImmediatePropagation()),mr("up",e),oo({target:t,x:n,y:s}),zr(),fr()}function Mh(e){let t=e;for(;t;){if(t.hasAttribute(be.resizeHandle))return!0;t=t.parentElement}return!1}function oo({target:e,x:t,y:n}){st.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),gs.forEach(r=>{const{element:a,hitAreaMargins:o}=r,l=a.getBoundingClientRect(),{bottom:c,left:u,right:d,top:h}=l,p=fw?o.coarse:o.fine;if(t>=u-p&&t<=d+p&&n>=h-p&&n<=c+p){if(s!==null&&document.contains(s)&&a!==s&&!a.contains(s)&&!s.contains(a)&&cw(s,a)>0){let g=s,v=!1;for(;g&&!g.contains(a);){if(lw(g.getBoundingClientRect(),l)){v=!0;break}g=g.parentElement}if(v)return}st.push(r)}})}function wi(e,t){Dr.set(e,t)}function zr(){let e=!1,t=!1;st.forEach(s=>{const{direction:r}=s;r==="horizontal"?e=!0:t=!0});let n=0;Dr.forEach(s=>{n|=s}),e&&t?vi("intersection",n):e?vi("horizontal",n):t?vi("vertical",n):aw()}let ji;function fr(){var e;(e=ji)===null||e===void 0||e.abort(),ji=new AbortController;const t={capture:!0,signal:ji.signal};gs.size&&(kn?(st.length>0&&_t.forEach((n,s)=>{const{body:r}=s;n>0&&(r.addEventListener("contextmenu",bi,t),r.addEventListener("pointerleave",yi,t),r.addEventListener("pointermove",yi,t))}),_t.forEach((n,s)=>{const{body:r}=s;r.addEventListener("pointerup",bi,t),r.addEventListener("pointercancel",bi,t)})):_t.forEach((n,s)=>{const{body:r}=s;n>0&&(r.addEventListener("pointerdown",pw,t),r.addEventListener("pointermove",yi,t))}))}function mr(e,t){gs.forEach(n=>{const{setResizeHandlerState:s}=n,r=st.includes(n);s(e,r,t)})}function gw(){const[e,t]=m.useState(0);return m.useCallback(()=>t(n=>n+1),[])}function ee(e,t){if(!e)throw console.error(t),Error(t)}function an(e,t,n=io){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function pt(e,t,n=io){return an(e,t,n)===0}function We(e,t,n){return an(e,t,n)===0}function xw(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){const r=e[s],a=t[s];if(!We(r,a,n))return!1}return!0}function jn({panelConstraints:e,panelIndex:t,size:n}){const s=e[t];ee(s!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:r=0,collapsible:a,maxSize:o=100,minSize:l=0}=s;if(an(n,l)<0)if(a){const c=(r+l)/2;an(n,c)<0?n=r:n=l}else n=l;return n=Math.min(o,n),n=parseFloat(n.toFixed(io)),n}function qn({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:s,prevLayout:r,trigger:a}){if(We(e,0))return t;const o=[...t],[l,c]=s;ee(l!=null,"Invalid first pivot index"),ee(c!=null,"Invalid second pivot index");let u=0;if(a==="keyboard"){{const h=e<0?c:l,p=n[h];ee(p,`Panel constraints not found for index ${h}`);const{collapsedSize:f=0,collapsible:g,minSize:v=0}=p;if(g){const x=t[h];if(ee(x!=null,`Previous layout not found for panel index ${h}`),We(x,f)){const y=v-x;an(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}{const h=e<0?l:c,p=n[h];ee(p,`No panel constraints found for index ${h}`);const{collapsedSize:f=0,collapsible:g,minSize:v=0}=p;if(g){const x=t[h];if(ee(x!=null,`Previous layout not found for panel index ${h}`),We(x,v)){const y=x-f;an(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}}{const h=e<0?1:-1;let p=e<0?c:l,f=0;for(;;){const v=t[p];ee(v!=null,`Previous layout not found for panel index ${p}`);const y=jn({panelConstraints:n,panelIndex:p,size:100})-v;if(f+=y,p+=h,p<0||p>=n.length)break}const g=Math.min(Math.abs(e),Math.abs(f));e=e<0?0-g:g}{let p=e<0?l:c;for(;p>=0&&p<n.length;){const f=Math.abs(e)-Math.abs(u),g=t[p];ee(g!=null,`Previous layout not found for panel index ${p}`);const v=g-f,x=jn({panelConstraints:n,panelIndex:p,size:v});if(!We(g,x)&&(u+=g-x,o[p]=x,u.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?p--:p++}}if(xw(r,o))return r;{const h=e<0?c:l,p=t[h];ee(p!=null,`Previous layout not found for panel index ${h}`);const f=p+u,g=jn({panelConstraints:n,panelIndex:h,size:f});if(o[h]=g,!We(g,f)){let v=f-g,y=e<0?c:l;for(;y>=0&&y<n.length;){const b=o[y];ee(b!=null,`Previous layout not found for panel index ${y}`);const w=b+v,j=jn({panelConstraints:n,panelIndex:y,size:w});if(We(b,j)||(v-=j-b,o[y]=j),We(v,0))break;e>0?y--:y++}}}const d=o.reduce((h,p)=>p+h,0);return We(d,100)?o:r}function vw({layout:e,panelsArray:t,pivotIndices:n}){let s=0,r=100,a=0,o=0;const l=n[0];ee(l!=null,"No pivot index found"),t.forEach((h,p)=>{const{constraints:f}=h,{maxSize:g=100,minSize:v=0}=f;p===l?(s=v,r=g):(a+=v,o+=g)});const c=Math.min(r,100-a),u=Math.max(s,100-o),d=e[l];return{valueMax:c,valueMin:u,valueNow:d}}function xs(e,t=document){return Array.from(t.querySelectorAll(`[${be.resizeHandleId}][data-panel-group-id="${e}"]`))}function $h(e,t,n=document){const r=xs(e,n).findIndex(a=>a.getAttribute(be.resizeHandleId)===t);return r??null}function Ih(e,t,n){const s=$h(e,t,n);return s!=null?[s,s+1]:[-1,-1]}function yw(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function Lh(e,t=document){if(yw(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function Vr(e,t=document){const n=t.querySelector(`[${be.resizeHandleId}="${e}"]`);return n||null}function bw(e,t,n,s=document){var r,a,o,l;const c=Vr(t,s),u=xs(e,s),d=c?u.indexOf(c):-1,h=(r=(a=n[d])===null||a===void 0?void 0:a.id)!==null&&r!==void 0?r:null,p=(o=(l=n[d+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[h,p]}function ww({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:s,panelDataArray:r,panelGroupElement:a,setLayout:o}){m.useRef({didWarnAboutMissingResizeHandle:!1}),sn(()=>{if(!a)return;const l=xs(n,a);for(let c=0;c<r.length-1;c++){const{valueMax:u,valueMin:d,valueNow:h}=vw({layout:s,panelsArray:r,pivotIndices:[c,c+1]}),p=l[c];if(p!=null){const f=r[c];ee(f,`No panel data found for index "${c}"`),p.setAttribute("aria-controls",f.id),p.setAttribute("aria-valuemax",""+Math.round(u)),p.setAttribute("aria-valuemin",""+Math.round(d)),p.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{l.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,s,r,a]),m.useEffect(()=>{if(!a)return;const l=t.current;ee(l,"Eager values not found");const{panelDataArray:c}=l,u=Lh(n,a);ee(u!=null,`No group found for id "${n}"`);const d=xs(n,a);ee(d,`No resize handles found for group id "${n}"`);const h=d.map(p=>{const f=p.getAttribute(be.resizeHandleId);ee(f,"Resize handle element has no handle id attribute");const[g,v]=bw(n,f,c,a);if(g==null||v==null)return()=>{};const x=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const b=c.findIndex(w=>w.id===g);if(b>=0){const w=c[b];ee(w,`No panel data found for index ${b}`);const j=s[b],{collapsedSize:C=0,collapsible:R,minSize:P=0}=w.constraints;if(j!=null&&R){const M=qn({delta:We(j,C)?P-C:C-j,initialLayout:s,panelConstraints:c.map(D=>D.constraints),pivotIndices:Ih(n,f,a),prevLayout:s,trigger:"keyboard"});s!==M&&o(M)}}break}}};return p.addEventListener("keydown",x),()=>{p.removeEventListener("keydown",x)}});return()=>{h.forEach(p=>p())}},[a,e,t,n,s,r,o])}function fc(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Oh(e,t){const n=e==="horizontal",{x:s,y:r}=Or(t);return n?s:r}function jw(e,t,n,s,r){const a=n==="horizontal",o=Vr(t,r);ee(o,`No resize handle element found for id "${t}"`);const l=o.getAttribute(be.groupId);ee(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=s;const u=Oh(n,e),d=Lh(l,r);ee(d,`No group element found for id "${l}"`);const h=d.getBoundingClientRect(),p=a?h.width:h.height;return(u-c)/p*100}function Nw(e,t,n,s,r,a){if(Ch(e)){const o=n==="horizontal";let l=0;e.shiftKey?l=100:r!=null?l=r:l=10;let c=0;switch(e.key){case"ArrowDown":c=o?0:l;break;case"ArrowLeft":c=o?-l:0;break;case"ArrowRight":c=o?l:0;break;case"ArrowUp":c=o?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return s==null?0:jw(e,t,n,s,a)}function Sw({panelDataArray:e}){const t=Array(e.length),n=e.map(a=>a.constraints);let s=0,r=100;for(let a=0;a<e.length;a++){const o=n[a];ee(o,`Panel constraints not found for index ${a}`);const{defaultSize:l}=o;l!=null&&(s++,t[a]=l,r-=l)}for(let a=0;a<e.length;a++){const o=n[a];ee(o,`Panel constraints not found for index ${a}`);const{defaultSize:l}=o;if(l!=null)continue;const c=e.length-s,u=r/c;s++,t[a]=u,r-=u}return t}function dn(e,t,n){t.forEach((s,r)=>{const a=e[r];ee(a,`Panel data not found for index ${r}`);const{callbacks:o,constraints:l,id:c}=a,{collapsedSize:u=0,collapsible:d}=l,h=n[c];if(h==null||s!==h){n[c]=s;const{onCollapse:p,onExpand:f,onResize:g}=o;g&&g(s,h),d&&(p||f)&&(f&&(h==null||pt(h,u))&&!pt(s,u)&&f(),p&&(h==null||!pt(h,u))&&pt(s,u)&&p())}})}function Os(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Cw({defaultSize:e,dragState:t,layout:n,panelData:s,panelIndex:r,precision:a=3}){const o=n[r];let l;return o==null?l=e!=null?e.toFixed(a):"1":s.length===1?l="1":l=o.toFixed(a),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Ew(e,t=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function mc(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Dh(e){return`react-resizable-panels:${e}`}function zh(e){return e.map(t=>{const{constraints:n,id:s,idIsFromProps:r,order:a}=t;return r?s:a?`${a}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Vh(e,t){try{const n=Dh(e),s=t.getItem(n);if(s){const r=JSON.parse(s);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function kw(e,t,n){var s,r;const a=(s=Vh(e,n))!==null&&s!==void 0?s:{},o=zh(t);return(r=a[o])!==null&&r!==void 0?r:null}function _w(e,t,n,s,r){var a;const o=Dh(e),l=zh(t),c=(a=Vh(e,r))!==null&&a!==void 0?a:{};c[l]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{r.setItem(o,JSON.stringify(c))}catch(u){console.error(u)}}function pc({layout:e,panelConstraints:t}){const n=[...e],s=n.reduce((a,o)=>a+o,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(a=>`${a}%`).join(", ")}`);if(!We(s,100)&&n.length>0)for(let a=0;a<t.length;a++){const o=n[a];ee(o!=null,`No layout data found for index ${a}`);const l=100/s*o;n[a]=l}let r=0;for(let a=0;a<t.length;a++){const o=n[a];ee(o!=null,`No layout data found for index ${a}`);const l=jn({panelConstraints:t,panelIndex:a,size:o});o!=l&&(r+=o-l,n[a]=l)}if(!We(r,0))for(let a=0;a<t.length;a++){const o=n[a];ee(o!=null,`No layout data found for index ${a}`);const l=o+r,c=jn({panelConstraints:t,panelIndex:a,size:l});if(o!==c&&(r-=c-o,n[a]=c,We(r,0)))break}return n}const Pw=100,Yn={getItem:e=>(mc(Yn),Yn.getItem(e)),setItem:(e,t)=>{mc(Yn),Yn.setItem(e,t)}},gc={};function Fh({autoSaveId:e=null,children:t,className:n="",direction:s,forwardedRef:r,id:a=null,onLayout:o=null,keyboardResizeBy:l=null,storage:c=Yn,style:u,tagName:d="div",...h}){const p=ao(a),f=m.useRef(null),[g,v]=m.useState(null),[x,y]=m.useState([]),b=gw(),w=m.useRef({}),j=m.useRef(new Map),C=m.useRef(0),R=m.useRef({autoSaveId:e,direction:s,dragState:g,id:p,keyboardResizeBy:l,onLayout:o,storage:c}),P=m.useRef({layout:x,panelDataArray:[],panelDataArrayChanged:!1});m.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),m.useImperativeHandle(r,()=>({getId:()=>R.current.id,getLayout:()=>{const{layout:T}=P.current;return T},setLayout:T=>{const{onLayout:V}=R.current,{layout:H,panelDataArray:F}=P.current,N=pc({layout:T,panelConstraints:F.map(S=>S.constraints)});fc(H,N)||(y(N),P.current.layout=N,V&&V(N),dn(F,N,w.current))}}),[]),sn(()=>{R.current.autoSaveId=e,R.current.direction=s,R.current.dragState=g,R.current.id=p,R.current.onLayout=o,R.current.storage=c}),ww({committedValuesRef:R,eagerValuesRef:P,groupId:p,layout:x,panelDataArray:P.current.panelDataArray,setLayout:y,panelGroupElement:f.current}),m.useEffect(()=>{const{panelDataArray:T}=P.current;if(e){if(x.length===0||x.length!==T.length)return;let V=gc[e];V==null&&(V=Ew(_w,Pw),gc[e]=V);const H=[...T],F=new Map(j.current);V(e,H,F,x,c)}},[e,x,c]),m.useEffect(()=>{});const M=m.useCallback(T=>{const{onLayout:V}=R.current,{layout:H,panelDataArray:F}=P.current;if(T.constraints.collapsible){const N=F.map(O=>O.constraints),{collapsedSize:S=0,panelSize:$,pivotIndices:I}=Wt(F,T,H);if(ee($!=null,`Panel size not found for panel "${T.id}"`),!pt($,S)){j.current.set(T.id,$);const ne=mn(F,T)===F.length-1?$-S:S-$,Z=qn({delta:ne,initialLayout:H,panelConstraints:N,pivotIndices:I,prevLayout:H,trigger:"imperative-api"});Os(H,Z)||(y(Z),P.current.layout=Z,V&&V(Z),dn(F,Z,w.current))}}},[]),D=m.useCallback((T,V)=>{const{onLayout:H}=R.current,{layout:F,panelDataArray:N}=P.current;if(T.constraints.collapsible){const S=N.map(ie=>ie.constraints),{collapsedSize:$=0,panelSize:I=0,minSize:O=0,pivotIndices:ne}=Wt(N,T,F),Z=V??O;if(pt(I,$)){const ie=j.current.get(T.id),He=ie!=null&&ie>=Z?ie:Z,jt=mn(N,T)===N.length-1?I-He:He-I,je=qn({delta:jt,initialLayout:F,panelConstraints:S,pivotIndices:ne,prevLayout:F,trigger:"imperative-api"});Os(F,je)||(y(je),P.current.layout=je,H&&H(je),dn(N,je,w.current))}}},[]),L=m.useCallback(T=>{const{layout:V,panelDataArray:H}=P.current,{panelSize:F}=Wt(H,T,V);return ee(F!=null,`Panel size not found for panel "${T.id}"`),F},[]),G=m.useCallback((T,V)=>{const{panelDataArray:H}=P.current,F=mn(H,T);return Cw({defaultSize:V,dragState:g,layout:x,panelData:H,panelIndex:F})},[g,x]),q=m.useCallback(T=>{const{layout:V,panelDataArray:H}=P.current,{collapsedSize:F=0,collapsible:N,panelSize:S}=Wt(H,T,V);return ee(S!=null,`Panel size not found for panel "${T.id}"`),N===!0&&pt(S,F)},[]),U=m.useCallback(T=>{const{layout:V,panelDataArray:H}=P.current,{collapsedSize:F=0,collapsible:N,panelSize:S}=Wt(H,T,V);return ee(S!=null,`Panel size not found for panel "${T.id}"`),!N||an(S,F)>0},[]),J=m.useCallback(T=>{const{panelDataArray:V}=P.current;V.push(T),V.sort((H,F)=>{const N=H.order,S=F.order;return N==null&&S==null?0:N==null?-1:S==null?1:N-S}),P.current.panelDataArrayChanged=!0,b()},[b]);sn(()=>{if(P.current.panelDataArrayChanged){P.current.panelDataArrayChanged=!1;const{autoSaveId:T,onLayout:V,storage:H}=R.current,{layout:F,panelDataArray:N}=P.current;let S=null;if(T){const I=kw(T,N,H);I&&(j.current=new Map(Object.entries(I.expandToSizes)),S=I.layout)}S==null&&(S=Sw({panelDataArray:N}));const $=pc({layout:S,panelConstraints:N.map(I=>I.constraints)});fc(F,$)||(y($),P.current.layout=$,V&&V($),dn(N,$,w.current))}}),sn(()=>{const T=P.current;return()=>{T.layout=[]}},[]);const X=m.useCallback(T=>{let V=!1;const H=f.current;return H&&window.getComputedStyle(H,null).getPropertyValue("direction")==="rtl"&&(V=!0),function(N){N.preventDefault();const S=f.current;if(!S)return()=>null;const{direction:$,dragState:I,id:O,keyboardResizeBy:ne,onLayout:Z}=R.current,{layout:ie,panelDataArray:He}=P.current,{initialLayout:rt}=I??{},jt=Ih(O,T,S);let je=Nw(N,T,$,I,ne,S);const Rs=$==="horizontal";Rs&&V&&(je=-je);const Kr=He.map(qr=>qr.constraints),Zt=qn({delta:je,initialLayout:rt??ie,panelConstraints:Kr,pivotIndices:jt,prevLayout:ie,trigger:Ch(N)?"keyboard":"mouse-or-touch"}),un=!Os(ie,Zt);(Eh(N)||kh(N))&&C.current!=je&&(C.current=je,!un&&je!==0?Rs?wi(T,je<0?Ph:Rh):wi(T,je<0?Th:Ah):wi(T,0)),un&&(y(Zt),P.current.layout=Zt,Z&&Z(Zt),dn(He,Zt,w.current))}},[]),he=m.useCallback((T,V)=>{const{onLayout:H}=R.current,{layout:F,panelDataArray:N}=P.current,S=N.map(ie=>ie.constraints),{panelSize:$,pivotIndices:I}=Wt(N,T,F);ee($!=null,`Panel size not found for panel "${T.id}"`);const ne=mn(N,T)===N.length-1?$-V:V-$,Z=qn({delta:ne,initialLayout:F,panelConstraints:S,pivotIndices:I,prevLayout:F,trigger:"imperative-api"});Os(F,Z)||(y(Z),P.current.layout=Z,H&&H(Z),dn(N,Z,w.current))},[]),se=m.useCallback((T,V)=>{const{layout:H,panelDataArray:F}=P.current,{collapsedSize:N=0,collapsible:S}=V,{collapsedSize:$=0,collapsible:I,maxSize:O=100,minSize:ne=0}=T.constraints,{panelSize:Z}=Wt(F,T,H);Z!=null&&(S&&I&&pt(Z,N)?pt(N,$)||he(T,$):Z<ne?he(T,ne):Z>O&&he(T,O))},[he]),re=m.useCallback((T,V)=>{const{direction:H}=R.current,{layout:F}=P.current;if(!f.current)return;const N=Vr(T,f.current);ee(N,`Drag handle element not found for id "${T}"`);const S=Oh(H,V);v({dragHandleId:T,dragHandleRect:N.getBoundingClientRect(),initialCursorPosition:S,initialLayout:F})},[]),fe=m.useCallback(()=>{v(null)},[]),ge=m.useCallback(T=>{const{panelDataArray:V}=P.current,H=mn(V,T);H>=0&&(V.splice(H,1),delete w.current[T.id],P.current.panelDataArrayChanged=!0,b())},[b]),we=m.useMemo(()=>({collapsePanel:M,direction:s,dragState:g,expandPanel:D,getPanelSize:L,getPanelStyle:G,groupId:p,isPanelCollapsed:q,isPanelExpanded:U,reevaluatePanelConstraints:se,registerPanel:J,registerResizeHandle:X,resizePanel:he,startDragging:re,stopDragging:fe,unregisterPanel:ge,panelGroupElement:f.current}),[M,g,s,D,L,G,p,q,U,se,J,X,he,re,fe,ge]),Le={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return m.createElement(Lr.Provider,{value:we},m.createElement(d,{...h,children:t,className:n,id:a,ref:f,style:{...Le,...u},[be.group]:"",[be.groupDirection]:s,[be.groupId]:p}))}const la=m.forwardRef((e,t)=>m.createElement(Fh,{...e,forwardedRef:t}));Fh.displayName="PanelGroup";la.displayName="forwardRef(PanelGroup)";function mn(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Wt(e,t,n){const s=mn(e,t),a=s===e.length-1?[s-1,s]:[s,s+1],o=n[s];return{...t.constraints,panelSize:o,pivotIndices:a}}function Rw({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:s}){m.useEffect(()=>{if(e||n==null||s==null)return;const r=Vr(t,s);if(r==null)return;const a=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const l=r.getAttribute(be.groupId);ee(l,`No group element found for id "${l}"`);const c=xs(l,s),u=$h(l,t,s);ee(u!==null,`No resize element found for id "${t}"`);const d=o.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return r.addEventListener("keydown",a),()=>{r.removeEventListener("keydown",a)}},[s,e,t,n])}function ca({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:s,id:r,onBlur:a,onClick:o,onDragging:l,onFocus:c,onPointerDown:u,onPointerUp:d,style:h={},tabIndex:p=0,tagName:f="div",...g}){var v,x;const y=m.useRef(null),b=m.useRef({onClick:o,onDragging:l,onPointerDown:u,onPointerUp:d});m.useEffect(()=>{b.current.onClick=o,b.current.onDragging=l,b.current.onPointerDown=u,b.current.onPointerUp=d});const w=m.useContext(Lr);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:j,groupId:C,registerResizeHandle:R,startDragging:P,stopDragging:M,panelGroupElement:D}=w,L=ao(r),[G,q]=m.useState("inactive"),[U,J]=m.useState(!1),[X,he]=m.useState(null),se=m.useRef({state:G});sn(()=>{se.current.state=G}),m.useEffect(()=>{if(n)he(null);else{const we=R(L);he(()=>we)}},[n,L,R]);const re=(v=s?.coarse)!==null&&v!==void 0?v:15,fe=(x=s?.fine)!==null&&x!==void 0?x:5;m.useEffect(()=>{if(n||X==null)return;const we=y.current;ee(we,"Element ref not attached");let Le=!1;return mw(L,we,j,{coarse:re,fine:fe},(V,H,F)=>{if(!H){q("inactive");return}switch(V){case"down":{q("drag"),Le=!1,ee(F,'Expected event to be defined for "down" action'),P(L,F);const{onDragging:N,onPointerDown:S}=b.current;N?.(!0),S?.();break}case"move":{const{state:N}=se.current;Le=!0,N!=="drag"&&q("hover"),ee(F,'Expected event to be defined for "move" action'),X(F);break}case"up":{q("hover"),M();const{onClick:N,onDragging:S,onPointerUp:$}=b.current;S?.(!1),$?.(),Le||N?.();break}}})},[re,j,n,fe,R,L,X,P,M]),Rw({disabled:n,handleId:L,resizeHandler:X,panelGroupElement:D});const ge={touchAction:"none",userSelect:"none"};return m.createElement(f,{...g,children:e,className:t,id:r,onBlur:()=>{J(!1),a?.()},onFocus:()=>{J(!0),c?.()},ref:y,role:"separator",style:{...ge,...h},tabIndex:p,[be.groupDirection]:j,[be.groupId]:C,[be.resizeHandle]:"",[be.resizeHandleActive]:G==="drag"?"pointer":U?"keyboard":void 0,[be.resizeHandleEnabled]:!n,[be.resizeHandleId]:L,[be.resizeHandleState]:G})}ca.displayName="PanelResizeHandle";const xc="microz.debugger.layout",Ni={mode:"docked-right",rightPanelSize:40,bottomPanelSize:30,collapsed:!1},Tw=({children:e,debuggerPanel:t,onLayoutChange:n})=>{const[s,r]=m.useState(()=>{try{const d=localStorage.getItem(xc);return d?{...Ni,...JSON.parse(d)}:Ni}catch{return Ni}});m.useEffect(()=>{try{localStorage.setItem(xc,JSON.stringify(s)),n?.(s)}catch(d){console.warn("Failed to save layout:",d)}},[s,n]);const a=d=>{r(h=>({...h,...d}))},o=d=>{a({mode:d,collapsed:!1})},l=()=>{a({collapsed:!s.collapsed})},c=d=>{s.mode==="docked-right"?a({rightPanelSize:d[1]}):s.mode==="bottom-drawer"&&a({bottomPanelSize:d[1]})},u=()=>i.jsxs("div",{className:"flex items-center space-x-1 p-2 border-b border-edge/50",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(oe,{variant:s.mode==="docked-right"?"accent":"ghost",size:"sm",onClick:()=>o("docked-right"),title:"Dock Right",children:i.jsx(uy,{className:"w-3 h-3"})}),i.jsx(oe,{variant:s.mode==="bottom-drawer"?"accent":"ghost",size:"sm",onClick:()=>o("bottom-drawer"),title:"Bottom Drawer",children:i.jsx(ly,{className:"w-3 h-3"})}),i.jsx(oe,{variant:s.mode==="fullscreen"?"accent":"ghost",size:"sm",onClick:()=>o("fullscreen"),title:"Fullscreen",children:i.jsx(ql,{className:"w-3 h-3"})})]}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx($e,{variant:"secondary",size:"sm",children:s.mode.replace("-"," ")}),i.jsx(oe,{variant:"ghost",size:"sm",onClick:l,title:s.collapsed?"Expand":"Collapse",children:s.collapsed?i.jsx(ql,{className:"w-3 h-3"}):i.jsx(ry,{className:"w-3 h-3"})})]})]});return s.mode==="fullscreen"?i.jsxs("div",{className:"h-full flex flex-col",children:[u(),i.jsx("div",{className:"flex-1 min-h-0",children:s.collapsed?e:t})]}):s.mode==="bottom-drawer"?i.jsxs(la,{direction:"vertical",onLayout:c,children:[i.jsx(Kn,{defaultSize:100-s.bottomPanelSize,minSize:30,children:e}),i.jsx(ca,{className:"h-1 bg-edge hover:bg-accent transition-colors"}),i.jsx(Kn,{defaultSize:s.collapsed?5:s.bottomPanelSize,minSize:5,maxSize:70,children:i.jsxs("div",{className:"h-full flex flex-col bg-panel border-t border-edge",children:[u(),!s.collapsed&&i.jsx("div",{className:"flex-1 min-h-0",children:t})]})})]}):i.jsxs(la,{direction:"horizontal",onLayout:c,children:[i.jsx(Kn,{defaultSize:100-s.rightPanelSize,minSize:30,children:e}),i.jsx(ca,{className:"w-1 bg-edge hover:bg-accent transition-colors"}),i.jsx(Kn,{defaultSize:s.collapsed?5:s.rightPanelSize,minSize:5,maxSize:70,children:i.jsxs("div",{className:"h-full flex flex-col bg-panel border-l border-edge",children:[u(),!s.collapsed&&i.jsx("div",{className:"flex-1 min-h-0",children:t})]})})]})},Bh=m.createContext(null),zn="asmplay_debugger_pending_load";function Aw(e){try{return sessionStorage.getItem(e)}catch(t){return console.warn("sessionStorage get failed:",t),null}}function Mw(e,t){try{return sessionStorage.setItem(e,t),!0}catch(n){return console.warn("sessionStorage set failed:",n),!1}}function Si(e){try{return sessionStorage.removeItem(e),!0}catch(t){return console.warn("sessionStorage remove failed:",t),!1}}const Uh=({children:e})=>{const[t,n]=m.useState(()=>{const u=Aw(zn);if(u)try{return JSON.parse(u)}catch(d){console.warn("Failed to parse stored debugger load:",d),Si(zn)}}),[s,r]=m.useState(!1),a=m.useCallback(u=>{n(u),r(!1),u?Mw(zn,JSON.stringify(u)):Si(zn)},[]),o=m.useCallback(()=>{r(!0)},[]),l=m.useCallback(()=>{n(void 0),r(!1),Si(zn)},[]),c={pendingLoad:t,consumed:s,setPendingLoad:a,markConsumed:o,reset:l};return i.jsx(Bh.Provider,{value:c,children:e})},Zh=()=>{const e=m.useContext(Bh);if(!e)throw new Error("useDebuggerBus must be used within a DebuggerBusProvider");return e};class Q extends Error{constructor(t,n,s,r,a){super(`Line ${t}:${n}: ${s}${a?` — ${a}`:""}`),this.line=t,this.column=n,this.token=r,this.suggestion=a,this.name="AsmError"}}const Fr=65536,vc=Fr-4,Br=16,Xn={HALT:"HLT",JNE:"JNZ",JEQ:"JE",JZ:"JE",JAE:"JGE",JBE:"JLE",JB:"JC",JNB:"JNC",JA:"JG",JNA:"JLE",SYSCALL:"SYS",LOADB:"LOAD",STOREB:"STORE"},ua=new Set(["NOP","HLT","MOV","LOAD","STORE","LEA","ADD","SUB","MUL","DIV","INC","DEC","AND","OR","XOR","NOT","SHL","SHR","CMP","TEST","JMP","JE","JNZ","JC","JNC","JN","JNN","JG","JGE","JL","JLE","PUSH","POP","CALL","RET","SYS"]),Hh=new Set([".DATA",".TEXT",".BYTE",".ASCIZ",".ASCII",".SPACE",".ALIGN",".ORG",".EQU"]),$w=new Set([".BYTE",".ASCIZ",".ASCII",".SPACE",".ALIGN"]),ft={};for(let e=0;e<Br;e++)ft[`R${e}`]=e;ft.SP=-1;ft.BP=-2;function Xs(){return{R:new Int32Array(Br),SP:vc,BP:vc,IP:0,F:{ZF:!1,NF:!1,CF:!1,OF:!1},halted:!1}}function Wh(e,t){const n=[];for(let s=0;s<=t.length;s++)n[s]=[s];for(let s=0;s<=e.length;s++)n[0][s]=s;for(let s=1;s<=t.length;s++)for(let r=1;r<=e.length;r++)t.charAt(s-1)===e.charAt(r-1)?n[s][r]=n[s-1][r-1]:n[s][r]=Math.min(n[s-1][r-1]+1,n[s][r-1]+1,n[s-1][r]+1);return n[t.length][e.length]}function yc(e){const t=e.toUpperCase(),n=[...Object.keys(Xn),...ua];for(const a of n)if(a.includes(t)||t.includes(a))return a;let s="",r=1/0;for(const a of n){const o=Wh(t,a);o<r&&o<=2&&(r=o,s=a)}return s||void 0}function Iw(e){const t=e.toUpperCase(),n=Array.from(Hh);for(const a of n)if(a.includes(t)||t.includes(a.slice(1)))return a;let s="",r=1/0;for(const a of n){const o=Wh(t,a);o<r&&o<=2&&(r=o,s=a)}return s||void 0}function Pt(e){const t=e.trim();if(!t)throw new Error("Empty number literal");if(/^[-+]?(0x|0X|\$)[0-9a-f]+$/i.test(t)){let n=t;t.includes("$")&&(n=t.replace("$","0x"));const s=parseInt(n,16);if(isNaN(s))throw new Error(`Invalid hex: ${e}`);return s}if(/^[-+]?(0b|%)[01]+$/i.test(t)){const n=t.startsWith("-")?-1:1,s=t.replace(/^[-+]?(0b|%)/i,""),r=parseInt(s,2);if(isNaN(r))throw new Error(`Invalid binary: ${e}`);return n*r}if(/^'(\\.|.)'$/.test(t)){const n=t.slice(1,-1);if(n.startsWith("\\"))switch(n[1]){case"n":return 10;case"t":return 9;case"r":return 13;case"\\":return 92;case"'":return 39;case'"':return 34;case"0":return 0;default:return n.charCodeAt(1)}return n.charCodeAt(0)}if(/^[-+]?\d+$/.test(t)){const n=parseInt(t,10);if(isNaN(n))throw new Error(`Invalid decimal: ${e}`);return n}throw new Error(`Invalid number: ${e}`)}function bc(e){const t=e.trim();if(!t)throw new Error("Empty string");const n=t.match(/^(['"])(.*?)\1$/);if(!n)throw new Error(`String must be quoted: ${e}`);return n[2].replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\0/g,"\0").replace(/\\\\/g,"\\").replace(/\\'/g,"'").replace(/\\"/g,'"')}function Lw(e,t,n,s){if(e=e.replace(/,$/,"").trim(),!e)throw new Q(n,s,"Empty operand");if(e.startsWith("#"))try{return{type:"imm",value:Pt(e.slice(1))}}catch{throw new Q(n,s,`Invalid immediate: ${e}`,e,"Use #123, #0x1A, #'A'")}if(e.startsWith("[")&&e.endsWith("]")){const a=e.slice(1,-1).trim();if(!a)throw new Q(n,s,"Empty memory reference");const o=a.match(/^(R\d+|SP|BP)\s*([+-])\s*(\d+)$/i);if(o){const c=o[1].toUpperCase(),u=o[2],d=parseInt(o[3],10);if(!(c in ft))throw new Q(n,s,`Invalid register: ${c}`);const h=u==="+"?d:-d;return{type:"mem",value:ft[c],offset:h,indirect:!0}}const l=a.toUpperCase();if(l in ft)return{type:"mem",value:ft[l],indirect:!0};try{const c=Pt(a);if(c<0||c>=Fr)throw new Q(n,s,`Address out of bounds: ${c}`);return{type:"mem",value:c}}catch{if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(a))return{type:"mem",value:a}}throw new Q(n,s,`Invalid memory reference: ${e}`)}const r=e.toUpperCase();if(r in ft)return{type:"reg",value:ft[r]};try{return{type:"imm",value:Pt(e)}}catch{if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e))return{type:"label",value:e}}throw new Q(n,s,`Invalid operand: ${e}`)}function Ow(e,t,n,s){const a={NOP:0,HLT:0,RET:0,MOV:2,LOAD:2,STORE:2,LEA:2,ADD:2,SUB:2,MUL:2,DIV:2,AND:2,OR:2,XOR:2,SHL:2,SHR:2,INC:1,DEC:1,NOT:1,PUSH:1,POP:1,CMP:2,TEST:2,SYS:1,CALL:1,JMP:1,JE:1,JNZ:1,JC:1,JNC:1,JN:1,JNN:1,JG:1,JGE:1,JL:1,JLE:1}[e];if(a===void 0)throw new Q(n,s,`Unknown instruction: ${e}`);if(t.length!==a)throw new Q(n,s,`${e} expects ${a} operand(s), got ${t.length}`);switch(e){case"MOV":case"ADD":case"SUB":case"MUL":case"DIV":case"AND":case"OR":case"XOR":case"SHL":case"SHR":if(t[0].type!=="reg")throw new Q(n,s,`${e} destination must be register`);break;case"STORE":if(t[0].type!=="mem")throw new Q(n,s,"STORE destination must be memory reference");break;case"POP":if(t[0].type!=="reg")throw new Q(n,s,"POP destination must be register");break}}function le(e,t,n,s){switch(e.type){case"imm":return e.value;case"reg":{const r=e.value;if(r===-1)return t.SP;if(r===-2)return t.BP;if(r<0||r>=Br)throw new Error(`Invalid register: ${r}`);return t.R[r]}case"mem":{let r;if(typeof e.value=="string"){const a=e.value.toLowerCase();if(r=s[a],r===void 0)throw new Error(`Undefined label: ${e.value}`)}else if(e.indirect){const a=e.value;let o;a===-1?o=t.SP:a===-2?o=t.BP:o=t.R[a],r=o+(e.offset||0)}else r=e.value;if(r<0||r>=Fr-1)throw new Error(`Memory address out of bounds: ${r}`);return n.getInt16(r,!0)}case"label":{const r=e.value.toString().toLowerCase(),a=s[r];if(a===void 0)throw new Error(`Undefined label: ${e.value}`);return a}default:throw new Error("Invalid operand type")}}function ze(e,t,n,s,r="logic"){const a=(t&65535)<<16>>16;switch(e.F.ZF=a===0,e.F.NF=a<0,r){case"add":if(n!==void 0&&s!==void 0){const o=n+s;e.F.CF=o>65535||o<-32768,e.F.OF=((n^a)&(s^a)&32768)!==0}break;case"sub":case"cmp":n!==void 0&&s!==void 0&&(e.F.CF=n<s,e.F.OF=((n^s)&(n^a)&32768)!==0);break;default:e.F.CF=!1,e.F.OF=!1}}function Ae(e,t,n){const s=(n&65535)<<16>>16;if(t===-1)e.SP=s;else if(t===-2)e.BP=s;else if(t>=0&&t<Br)e.R[t]=s;else throw new Error(`Invalid register index: ${t}`)}function Ci(e,t,n){if(t<0||t>=Fr-1)throw new Error(`Memory write out of bounds: ${t}`);e.setInt16(t,n,!0)}function Gh(e){const t=e.split(`
`),n=[],s={},r=new Uint8Array(8192),a=new Map,o={};let l=0,c=!1,u=0,d=0,h=32768;for(let f=0;f<t.length;f++){const v=t[f].trim(),x=f+1;if(!(!v||v.startsWith(";")||v.startsWith("//"))){if(v.startsWith(".")){const y=v.split(/\s+/),b=y[0].toUpperCase();if(!Hh.has(b)){const w=Iw(y[0]);throw new Q(x,1,`Unknown directive: ${y[0]}`,y[0],w?`Did you mean '${w}'?`:void 0)}if(!c&&$w.has(b))throw new Q(x,1,`${b} only valid in .DATA section`);switch(b){case".DATA":c=!0;break;case".TEXT":c=!1,d=l;break;case".ORG":if(y.length<2)throw new Q(x,1,".ORG requires address");const w=Pt(y[1]);c?h=w:l=w;break;case".EQU":if(y.length<3)throw new Q(x,1,".EQU requires name and value");const j=y[1].toLowerCase(),C=Pt(y[2]);o[j]=C;break;case".BYTE":if(y.length<2)throw new Q(x,1,".BYTE requires values");const R=y.slice(1).join(" ").split(",").map(U=>U.trim());for(const U of R){if(u>=r.length)throw new Q(x,1,"Data overflow");const J=Pt(U);r[u++]=J&255}break;case".ASCII":const P=v.match(/^\.ASCII\s+(.+)$/i);if(!P)throw new Q(x,1,`Invalid ${b} format`);const M=bc(P[1]);for(let U=0;U<M.length;U++){if(u>=r.length)throw new Q(x,1,"Data overflow");r[u++]=M.charCodeAt(U)&255}break;case".ASCIZ":const D=v.match(/^\.ASCIZ\s+(.+)$/i);if(!D)throw new Q(x,1,"Invalid .ASCIZ format");const L=bc(D[1]);for(let U=0;U<L.length;U++){if(u>=r.length)throw new Q(x,1,"Data overflow");r[u++]=L.charCodeAt(U)&255}if(u>=r.length)throw new Q(x,1,"Data overflow");r[u++]=0;break;case".SPACE":if(y.length<2)throw new Q(x,1,".SPACE requires size");const G=Pt(y[1]);for(let U=0;U<G;U++){if(u>=r.length)throw new Q(x,1,"Data overflow");r[u++]=0}break;case".ALIGN":if(y.length<2)throw new Q(x,1,".ALIGN requires alignment");const q=Pt(y[1]);if(q&q-1)throw new Q(x,1,"Alignment must be power of 2");for(;u%q!==0&&!(u>=r.length);)r[u++]=0;break}continue}if(v.includes(":")){const y=v.indexOf(":"),b=v.slice(0,y).trim();if(!b)throw new Q(x,1,"Empty label name");if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(b))throw new Q(x,1,`Invalid label name: ${b}`);const w=b.toLowerCase();if(s[w]!==void 0)throw new Q(x,1,`Duplicate label: ${b}`);s[w]=c?h+u:l;const j=v.slice(y+1).trim();if(j&&!j.startsWith(";")&&!j.startsWith("//")){if(c)throw new Q(x,y+1,"Instructions not allowed in .DATA");const C=j.split(/\s+/);let R=C[0].toUpperCase();if(R in Xn&&(R=Xn[R]),!ua.has(R)){const P=yc(C[0]);throw new Q(x,y+1,`Unknown instruction: ${C[0]}`,C[0],P)}n.push({op:R,operands:[],line:x,column:y+1,source:j,address:l}),a.set(l,x),l++}continue}if(c)throw new Q(x,1,"Unexpected content in .DATA section");{const y=v.split(/\s+/);let b=y[0].toUpperCase();if(b in Xn&&(b=Xn[b]),!ua.has(b)){const w=yc(y[0]);throw new Q(x,1,`Unknown instruction: ${y[0]}`,y[0],w)}n.push({op:b,operands:[],line:x,column:1,source:v,address:l}),a.set(l,x),l++}}}let p=0;for(let f=0;f<t.length;f++){const v=t[f].trim(),x=f+1;if(!v||v.startsWith(";")||v.startsWith("//")||v.startsWith("."))continue;let y=v,b=0;if(v.includes(":")){const R=v.indexOf(":"),P=v.slice(R+1).trim();if(P&&!P.startsWith(";")&&!P.startsWith("//"))y=P,b=R+1;else continue}if(p>=n.length)continue;const w=n[p],j=y.split(/\s+/),C=[];if(j.length>1){const P=y.slice(y.indexOf(j[1])).split(",").map(M=>M.trim()).filter(Boolean);for(const M of P){const D=b+y.indexOf(M)+1;C.push(Lw(M,{...s},x,D))}}Ow(w.op,C,x,b+1),w.operands=C,p++}for(const f of n)for(const g of f.operands){if(g.type==="label"){const v=g.value.toString().toLowerCase();if(s[v]===void 0&&o[v]===void 0)throw new Q(f.line,f.column,`Undefined label: ${g.value}`)}if(g.type==="mem"&&typeof g.value=="string"){const v=g.value.toLowerCase();if(s[v]===void 0&&o[v]===void 0)throw new Q(f.line,f.column,`Undefined label: ${g.value}`)}}return{lines:t,ast:n,labels:{...s,...o},dataSection:r,textStart:d,dataStart:h,lineMap:a}}function lo(e,t,n,s){if(e.halted||e.IP<0||e.IP>=t.ast.length){e.halted=!0;return}const r=t.ast[e.IP],{op:a,operands:o}=r;try{switch(a){case"NOP":break;case"HLT":e.halted=!0;return;case"MOV":{const l=o[1].type==="label"?t.labels[o[1].value.toString().toLowerCase()]:le(o[1],e,n,t.labels);Ae(e,o[0].value,l);break}case"LOAD":{const l=le(o[1],e,n,t.labels);Ae(e,o[0].value,l);break}case"STORE":{const l=le(o[1],e,n,t.labels);let c;if(typeof o[0].value=="string")c=t.labels[o[0].value.toLowerCase()];else if(o[0].indirect){const u=o[0].value;c=(u===-1?e.SP:u===-2?e.BP:e.R[u])+(o[0].offset||0)}else c=o[0].value;Ci(n,c,l);break}case"LEA":{let l;if(typeof o[1].value=="string")l=t.labels[o[1].value.toLowerCase()];else if(o[1].indirect){const c=o[1].value;l=(c===-1?e.SP:c===-2?e.BP:e.R[c])+(o[1].offset||0)}else l=o[1].value;Ae(e,o[0].value,l);break}case"ADD":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels),d=c+u;Ae(e,l,d),ze(e,d,c,u,"add");break}case"SUB":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels),d=c-u;Ae(e,l,d),ze(e,d,c,u,"sub");break}case"MUL":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels),d=c*u;if(d>32767||d<-32768){e.F.OF=!0;const h=d>32767?32767:-32768;Ae(e,l,h),ze(e,h)}else e.F.OF=!1,Ae(e,l,d),ze(e,d);break}case"DIV":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels);if(u===0)throw new Error("Division by zero");const d=Math.floor(c/u);Ae(e,l,d),ze(e,d);break}case"INC":{const l=o[0].value,u=(l===-1?e.SP:l===-2?e.BP:e.R[l])+1;Ae(e,l,u),ze(e,u);break}case"DEC":{const l=o[0].value,u=(l===-1?e.SP:l===-2?e.BP:e.R[l])-1;Ae(e,l,u),ze(e,u);break}case"AND":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels),d=c&u;Ae(e,l,d),ze(e,d);break}case"OR":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels),d=c|u;Ae(e,l,d),ze(e,d);break}case"XOR":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels),d=c^u;Ae(e,l,d),ze(e,d);break}case"NOT":{const l=o[0].value,u=~(l===-1?e.SP:l===-2?e.BP:e.R[l]);Ae(e,l,u),ze(e,u);break}case"SHL":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels),d=c<<u;Ae(e,l,d),ze(e,d);break}case"SHR":{const l=o[0].value,c=l===-1?e.SP:l===-2?e.BP:e.R[l],u=le(o[1],e,n,t.labels),d=c>>u;Ae(e,l,d),ze(e,d);break}case"CMP":{const l=le(o[0],e,n,t.labels),c=le(o[1],e,n,t.labels),u=l-c;ze(e,u,l,c,"cmp");break}case"TEST":{const l=le(o[0],e,n,t.labels),c=le(o[1],e,n,t.labels),u=l&c;ze(e,u);break}case"JMP":{const l=le(o[0],e,n,t.labels);e.IP=l;return}case"JE":{if(e.F.ZF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JNZ":{if(!e.F.ZF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JC":{if(e.F.CF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JNC":{if(!e.F.CF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JN":{if(e.F.NF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JNN":{if(!e.F.NF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JG":{if(!e.F.ZF&&!e.F.NF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JGE":{if(!e.F.NF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JL":{if(e.F.NF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"JLE":{if(e.F.ZF||e.F.NF){const l=le(o[0],e,n,t.labels);e.IP=l;return}break}case"PUSH":{const l=le(o[0],e,n,t.labels);e.SP-=2,Ci(n,e.SP,l);break}case"POP":{const l=n.getInt16(e.SP,!0);e.SP+=2,Ae(e,o[0].value,l);break}case"CALL":{const l=le(o[0],e,n,t.labels);e.SP-=2,Ci(n,e.SP,e.IP+1),e.IP=l;return}case"RET":{const l=n.getInt16(e.SP,!0);e.SP+=2,e.IP=l;return}case"SYS":{const l=le(o[0],e,n,t.labels);s?.onSys&&s.onSys(l,e,n);break}default:throw new Error(`Unimplemented instruction: ${a}`)}e.IP++}catch(l){throw new Error(`Execution error at line ${r.line}: ${l instanceof Error?l.message:String(l)}`)}}function Dw(e,t,n,s={}){const{maxSteps:r=1e4,breakpoints:a=new Set,onSys:o}=s;let l=0;try{for(;!e.halted&&l<r;){if(a.has(e.IP))return{steps:l,reason:"breakpoint"};lo(e,t,n,{onSys:o}),l++}return e.halted?{steps:l,reason:"halted"}:{steps:l,reason:"maxSteps"}}catch(c){return{steps:l,reason:"error",error:c instanceof Error?c.message:String(c)}}}function zw(e){return e.replace(/\r\n/g,`
`).replace(/\r/g,`
`)}function Vw(e){const t=new Set,n=zw(e).split(`
`);let s=!1;for(let r=0;r<n.length;r++){const a=n[r].trim(),o=r+1;if(!(!a||a.startsWith(";")||a.startsWith("//"))){if(a.toUpperCase().startsWith(".TEXT")){s=!0;continue}if(a.toUpperCase().startsWith(".DATA")){s=!1;continue}if(!a.startsWith(".")&&s)if(a.includes(":")){const l=a.split(":")[1]?.trim();l&&!l.startsWith(";")&&!l.startsWith("//")&&t.add(o)}else t.add(o)}}return t}function Fw(e,t){if(t.has(e))return{line:e,snapped:!1};for(let s=1;s<=10;s++){const r=e+s,a=e-s;if(t.has(r))return{line:r,snapped:!0};if(a>0&&t.has(a))return{line:a,snapped:!0}}return{line:Math.min(...Array.from(t)),snapped:!0}}var Jh={},Kh={};const wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Kh.encode=function(e){if(0<=e&&e<wc.length)return wc[e];throw new TypeError("Must be between 0 and 63: "+e)};const Bw=Kh,qh=5,Yh=1<<qh,Uw=Yh-1,Zw=Yh;function Hw(e){return e<0?(-e<<1)+1:(e<<1)+0}Jh.encode=function(t){let n="",s,r=Hw(t);do s=r&Uw,r>>>=qh,r>0&&(s|=Zw),n+=Bw.encode(s);while(r>0);return n};var Xe={};const Ww={},Gw=Object.freeze(Object.defineProperty({__proto__:null,default:Ww},Symbol.toStringTag,{value:"Module"})),Jw=Lf(Gw);var Kw=typeof URL=="function"?URL:Jw.URL;const It=Kw;function qw(e,t,n){if(t in e)return e[t];if(arguments.length===3)return n;throw new Error('"'+t+'" is a required argument.')}Xe.getArg=qw;const Xh=function(){return!("__proto__"in Object.create(null))}();function Qh(e){return e}function Yw(e){return ef(e)?"$"+e:e}Xe.toSetString=Xh?Qh:Yw;function Xw(e){return ef(e)?e.slice(1):e}Xe.fromSetString=Xh?Qh:Xw;function ef(e){if(!e)return!1;const t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(let n=t-10;n>=0;n--)if(e.charCodeAt(n)!==36)return!1;return!0}function jc(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}function Qw(e,t){let n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=jc(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:jc(e.name,t.name)}Xe.compareByGeneratedPositionsInflated=Qw;function ej(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}Xe.parseSourceMapInput=ej;const co="http:",ls=`${co}//host`;function uo(e){return t=>{const n=Mn(t),s=ho(t),r=new It(t,s);e(r);const a=r.toString();return n==="absolute"?a:n==="scheme-relative"?a.slice(co.length):n==="path-absolute"?a.slice(ls.length):fo(s,a)}}function St(e,t){return new It(e,t).toString()}function tj(e,t){let n=0;do{const s=e+n++;if(t.indexOf(s)===-1)return s}while(!0)}function ho(e){const t=e.split("..").length-1,n=tj("p",e);let s=`${ls}/`;for(let r=0;r<t;r++)s+=`${n}/`;return s}const nj=/^[A-Za-z0-9\+\-\.]+:/;function Mn(e){return e[0]==="/"?e[1]==="/"?"scheme-relative":"path-absolute":nj.test(e)?"absolute":"path-relative"}function fo(e,t){typeof e=="string"&&(e=new It(e)),typeof t=="string"&&(t=new It(t));const n=t.pathname.split("/"),s=e.pathname.split("/");for(s.length>0&&!s[s.length-1]&&s.pop();n.length>0&&s.length>0&&n[0]===s[0];)n.shift(),s.shift();return s.map(()=>"..").concat(n).join("/")+t.search+t.hash}const sj=uo(e=>{e.pathname=e.pathname.replace(/\/?$/,"/")}),rj=uo(e=>{e.href=new It(".",e.toString()).toString()}),vs=uo(e=>{});Xe.normalize=vs;function da(e,t){const n=Mn(t),s=Mn(e);if(e=sj(e),n==="absolute")return St(t,void 0);if(s==="absolute")return St(t,e);if(n==="scheme-relative")return vs(t);if(s==="scheme-relative")return St(t,St(e,ls)).slice(co.length);if(n==="path-absolute")return vs(t);if(s==="path-absolute")return St(t,St(e,ls)).slice(ls.length);const r=ho(t+e),a=St(t,St(e,r));return fo(r,a)}Xe.join=da;function ij(e,t){const n=aj(e,t);return typeof n=="string"?n:vs(t)}Xe.relative=ij;function aj(e,t){if(Mn(e)!==Mn(t))return null;const s=ho(e+t),r=new It(e,s),a=new It(t,s);try{new It("",a.toString())}catch{return null}return a.protocol!==r.protocol||a.user!==r.user||a.password!==r.password||a.hostname!==r.hostname||a.port!==r.port?null:fo(r,a)}function oj(e,t,n){e&&Mn(t)==="path-absolute"&&(t=t.replace(/^\//,""));let s=vs(t||"");return e&&(s=da(e,s)),n&&(s=da(rj(n),s)),s}Xe.computeSourceURL=oj;var mo={};let lj=class tf{constructor(){this._array=[],this._set=new Map}static fromArray(t,n){const s=new tf;for(let r=0,a=t.length;r<a;r++)s.add(t[r],n);return s}size(){return this._set.size}add(t,n){const s=this.has(t),r=this._array.length;(!s||n)&&this._array.push(t),s||this._set.set(t,r)}has(t){return this._set.has(t)}indexOf(t){const n=this._set.get(t);if(n>=0)return n;throw new Error('"'+t+'" is not in the set.')}at(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)}toArray(){return this._array.slice()}};mo.ArraySet=lj;var nf={};const sf=Xe;function cj(e,t){const n=e.generatedLine,s=t.generatedLine,r=e.generatedColumn,a=t.generatedColumn;return s>n||s==n&&a>=r||sf.compareByGeneratedPositionsInflated(e,t)<=0}let uj=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(t,n){this._array.forEach(t,n)}add(t){cj(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))}toArray(){return this._sorted||(this._array.sort(sf.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}};nf.MappingList=uj;const Vn=Jh,Ce=Xe,Ds=mo.ArraySet,dj=nf.MappingList;class po{constructor(t){t||(t={}),this._file=Ce.getArg(t,"file",null),this._sourceRoot=Ce.getArg(t,"sourceRoot",null),this._skipValidation=Ce.getArg(t,"skipValidation",!1),this._sources=new Ds,this._names=new Ds,this._mappings=new dj,this._sourcesContents=null}static fromSourceMap(t){const n=t.sourceRoot,s=new po({file:t.file,sourceRoot:n});return t.eachMapping(function(r){const a={generated:{line:r.generatedLine,column:r.generatedColumn}};r.source!=null&&(a.source=r.source,n!=null&&(a.source=Ce.relative(n,a.source)),a.original={line:r.originalLine,column:r.originalColumn},r.name!=null&&(a.name=r.name)),s.addMapping(a)}),t.sources.forEach(function(r){let a=r;n!=null&&(a=Ce.relative(n,r)),s._sources.has(a)||s._sources.add(a);const o=t.sourceContentFor(r);o!=null&&s.setSourceContent(r,o)}),s}addMapping(t){const n=Ce.getArg(t,"generated"),s=Ce.getArg(t,"original",null);let r=Ce.getArg(t,"source",null),a=Ce.getArg(t,"name",null);this._skipValidation||this._validateMapping(n,s,r,a),r!=null&&(r=String(r),this._sources.has(r)||this._sources.add(r)),a!=null&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:s&&s.line,originalColumn:s&&s.column,source:r,name:a})}setSourceContent(t,n){let s=t;this._sourceRoot!=null&&(s=Ce.relative(this._sourceRoot,s)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Ce.toSetString(s)]=n):this._sourcesContents&&(delete this._sourcesContents[Ce.toSetString(s)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(t,n,s){let r=n;if(n==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);r=t.file}const a=this._sourceRoot;a!=null&&(r=Ce.relative(a,r));const o=this._mappings.toArray().length>0?new Ds:this._sources,l=new Ds;this._mappings.unsortedForEach(function(c){if(c.source===r&&c.originalLine!=null){const h=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});h.source!=null&&(c.source=h.source,s!=null&&(c.source=Ce.join(s,c.source)),a!=null&&(c.source=Ce.relative(a,c.source)),c.originalLine=h.line,c.originalColumn=h.column,h.name!=null&&(c.name=h.name))}const u=c.source;u!=null&&!o.has(u)&&o.add(u);const d=c.name;d!=null&&!l.has(d)&&l.add(d)},this),this._sources=o,this._names=l,t.sources.forEach(function(c){const u=t.sourceContentFor(c);u!=null&&(s!=null&&(c=Ce.join(s,c)),a!=null&&(c=Ce.relative(a,c)),this.setSourceContent(c,u))},this)}_validateMapping(t,n,s,r){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!n&&!s&&!r)){if(!(t&&"line"in t&&"column"in t&&n&&"line"in n&&"column"in n&&t.line>0&&t.column>=0&&n.line>0&&n.column>=0&&s))throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:s,original:n,name:r}))}}_serializeMappings(){let t=0,n=1,s=0,r=0,a=0,o=0,l="",c,u,d,h;const p=this._mappings.toArray();for(let f=0,g=p.length;f<g;f++){if(u=p[f],c="",u.generatedLine!==n)for(t=0;u.generatedLine!==n;)c+=";",n++;else if(f>0){if(!Ce.compareByGeneratedPositionsInflated(u,p[f-1]))continue;c+=","}c+=Vn.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(h=this._sources.indexOf(u.source),c+=Vn.encode(h-o),o=h,c+=Vn.encode(u.originalLine-1-r),r=u.originalLine-1,c+=Vn.encode(u.originalColumn-s),s=u.originalColumn,u.name!=null&&(d=this._names.indexOf(u.name),c+=Vn.encode(d-a),a=d)),l+=c}return l}_generateSourcesContent(t,n){return t.map(function(s){if(!this._sourcesContents)return null;n!=null&&(s=Ce.relative(n,s));const r=Ce.toSetString(s);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)}toJSON(){const t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t}toString(){return JSON.stringify(this.toJSON())}}po.prototype._version=3;var rf={};(function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(n,s,r,a,o,l){const c=Math.floor((s-n)/2)+n,u=o(r,a[c],!0);return u===0?c:u>0?s-c>1?t(c,s,r,a,o,l):l===e.LEAST_UPPER_BOUND?s<a.length?s:-1:c:c-n>1?t(n,c,r,a,o,l):l==e.LEAST_UPPER_BOUND?c:n<0?-1:n}e.search=function(s,r,a,o){if(r.length===0)return-1;let l=t(-1,r.length,s,r,a,o||e.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&a(r[l],r[l-1],!0)===0;)--l;return l}})(rf);var go={exports:{}};let Qn=null;go.exports=function(){if(typeof Qn=="string")return fetch(Qn).then(t=>t.arrayBuffer());if(Qn instanceof ArrayBuffer)return Promise.resolve(Qn);throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer")};go.exports.initialize=e=>{Qn=e};var af=go.exports;const hj=af;function fj(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let Fn=null;var mj=function(){if(Fn)return Fn;const t=[];return Fn=hj().then(n=>WebAssembly.instantiate(n,{env:{mapping_callback(s,r,a,o,l,c,u,d,h,p){const f=new fj;f.generatedLine=s+1,f.generatedColumn=r,a&&(f.lastGeneratedColumn=o-1),l&&(f.source=c,f.originalLine=u+1,f.originalColumn=d,h&&(f.name=p)),t[t.length-1](f)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(n=>({exports:n.instance.exports,withMappingCallback:(s,r)=>{t.push(s);try{r()}finally{t.pop()}}})).then(null,n=>{throw Fn=null,n}),Fn};const te=Xe,pj=rf,Ei=mo.ArraySet,gj=af,xj=mj,xo=Symbol("smcInternal");class Re{constructor(t,n){return t==xo?Promise.resolve(this):yj(t,n)}static initialize(t){gj.initialize(t["lib/mappings.wasm"])}static fromSourceMap(t,n){return bj(t,n)}static async with(t,n,s){const r=await new Re(t,n);try{return await s(r)}finally{r.destroy()}}eachMapping(t,n,s){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(t){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}Re.prototype._version=3;Re.GENERATED_ORDER=1;Re.ORIGINAL_ORDER=2;Re.GREATEST_LOWER_BOUND=1;Re.LEAST_UPPER_BOUND=2;class _s extends Re{constructor(t,n){return super(xo).then(s=>{let r=t;typeof t=="string"&&(r=te.parseSourceMapInput(t));const a=te.getArg(r,"version"),o=te.getArg(r,"sources").map(String),l=te.getArg(r,"names",[]),c=te.getArg(r,"sourceRoot",null),u=te.getArg(r,"sourcesContent",null),d=te.getArg(r,"mappings"),h=te.getArg(r,"file",null),p=te.getArg(r,"x_google_ignoreList",null);if(a!=s._version)throw new Error("Unsupported version: "+a);return s._sourceLookupCache=new Map,s._names=Ei.fromArray(l.map(String),!0),s._sources=Ei.fromArray(o,!0),s._absoluteSources=Ei.fromArray(s._sources.toArray().map(function(f){return te.computeSourceURL(c,f,n)}),!0),s.sourceRoot=c,s.sourcesContent=u,s._mappings=d,s._sourceMapURL=n,s.file=h,s.x_google_ignoreList=p,s._computedColumnSpans=!1,s._mappingsPtr=0,s._wasm=null,xj().then(f=>(s._wasm=f,s))})}_findSourceIndex(t){const n=this._sourceLookupCache.get(t);if(typeof n=="number")return n;const s=te.computeSourceURL(null,t,this._sourceMapURL);if(this._absoluteSources.has(s)){const a=this._absoluteSources.indexOf(s);return this._sourceLookupCache.set(t,a),a}const r=te.computeSourceURL(this.sourceRoot,t,this._sourceMapURL);if(this._absoluteSources.has(r)){const a=this._absoluteSources.indexOf(r);return this._sourceLookupCache.set(t,a),a}return-1}static fromSourceMap(t,n){return new _s(t.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){const t=this._mappings,n=t.length,s=this._wasm.exports.allocate_mappings(n)>>>0,r=new Uint8Array(this._wasm.exports.memory.buffer,s,n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);const a=this._wasm.exports.parse_mappings(s);if(!a){const o=this._wasm.exports.get_last_error();let l=`Error parsing mappings (code ${o}): `;switch(o){case 1:l+="the mappings contained a negative line, column, source index, or name index";break;case 2:l+="the mappings contained a number larger than 2**32";break;case 3:l+="reached EOF while in the middle of parsing a VLQ";break;case 4:l+="invalid base 64 character while parsing a VLQ";break;default:l+="unknown error code";break}throw new Error(l)}this._mappingsPtr=a}eachMapping(t,n,s){const r=n||null,a=s||Re.GENERATED_ORDER;this._wasm.withMappingCallback(o=>{o.source!==null&&(o.source=this._absoluteSources.at(o.source),o.name!==null&&(o.name=this._names.at(o.name))),this._computedColumnSpans&&o.lastGeneratedColumn===null&&(o.lastGeneratedColumn=1/0),t.call(r,o)},()=>{switch(a){case Re.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case Re.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(t){let n=te.getArg(t,"source");const s=te.getArg(t,"line"),r=t.column||0;if(n=this._findSourceIndex(n),n<0)return[];if(s<1)throw new Error("Line numbers must be >= 1");if(r<0)throw new Error("Column numbers must be >= 0");const a=[];return this._wasm.withMappingCallback(o=>{let l=o.lastGeneratedColumn;this._computedColumnSpans&&l===null&&(l=1/0),a.push({line:o.generatedLine,column:o.generatedColumn,lastColumn:l})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),n,s-1,"column"in t,r)}),a}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(t){const n={generatedLine:te.getArg(t,"line"),generatedColumn:te.getArg(t,"column")};if(n.generatedLine<1)throw new Error("Line numbers must be >= 1");if(n.generatedColumn<0)throw new Error("Column numbers must be >= 0");let s=te.getArg(t,"bias",Re.GREATEST_LOWER_BOUND);s==null&&(s=Re.GREATEST_LOWER_BOUND);let r;if(this._wasm.withMappingCallback(a=>r=a,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),n.generatedLine-1,n.generatedColumn,s)}),r&&r.generatedLine===n.generatedLine){let a=te.getArg(r,"source",null);a!==null&&(a=this._absoluteSources.at(a));let o=te.getArg(r,"name",null);return o!==null&&(o=this._names.at(o)),{source:a,line:te.getArg(r,"originalLine",null),column:te.getArg(r,"originalColumn",null),name:o}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1}sourceContentFor(t,n){if(!this.sourcesContent)return null;const s=this._findSourceIndex(t);if(s>=0)return this.sourcesContent[s];if(n)return null;throw new Error('"'+t+'" is not in the SourceMap.')}generatedPositionFor(t){let n=te.getArg(t,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};const s={source:n,originalLine:te.getArg(t,"line"),originalColumn:te.getArg(t,"column")};if(s.originalLine<1)throw new Error("Line numbers must be >= 1");if(s.originalColumn<0)throw new Error("Column numbers must be >= 0");let r=te.getArg(t,"bias",Re.GREATEST_LOWER_BOUND);r==null&&(r=Re.GREATEST_LOWER_BOUND);let a;if(this._wasm.withMappingCallback(o=>a=o,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),s.source,s.originalLine-1,s.originalColumn,r)}),a&&a.source===s.source){let o=a.lastGeneratedColumn;return this._computedColumnSpans&&o===null&&(o=1/0),{line:te.getArg(a,"generatedLine",null),column:te.getArg(a,"generatedColumn",null),lastColumn:o}}return{line:null,column:null,lastColumn:null}}}_s.prototype.consumer=Re;class vj extends Re{constructor(t,n){return super(xo).then(s=>{let r=t;typeof t=="string"&&(r=te.parseSourceMapInput(t));const a=te.getArg(r,"version"),o=te.getArg(r,"sections");if(a!=s._version)throw new Error("Unsupported version: "+a);let l={line:-1,column:0};return Promise.all(o.map(c=>{if(c.url)throw new Error("Support for url field in sections not implemented.");const u=te.getArg(c,"offset"),d=te.getArg(u,"line"),h=te.getArg(u,"column");if(d<l.line||d===l.line&&h<l.column)throw new Error("Section offsets must be ordered and non-overlapping.");return l=u,new Re(te.getArg(c,"map"),n).then(f=>({generatedOffset:{generatedLine:d+1,generatedColumn:h+1},consumer:f}))})).then(c=>(s._sections=c,s))})}get sources(){const t=[];for(let n=0;n<this._sections.length;n++)for(let s=0;s<this._sections[n].consumer.sources.length;s++)t.push(this._sections[n].consumer.sources[s]);return t}originalPositionFor(t){const n={generatedLine:te.getArg(t,"line"),generatedColumn:te.getArg(t,"column")},s=pj.search(n,this._sections,function(a,o){const l=a.generatedLine-o.generatedOffset.generatedLine;return l||a.generatedColumn-(o.generatedOffset.generatedColumn-1)}),r=this._sections[s];return r?r.consumer.originalPositionFor({line:n.generatedLine-(r.generatedOffset.generatedLine-1),column:n.generatedColumn-(r.generatedOffset.generatedLine===n.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})}sourceContentFor(t,n){for(let s=0;s<this._sections.length;s++){const a=this._sections[s].consumer.sourceContentFor(t,!0);if(a)return a}if(n)return null;throw new Error('"'+t+'" is not in the SourceMap.')}_findSectionIndex(t){for(let n=0;n<this._sections.length;n++){const{consumer:s}=this._sections[n];if(s._findSourceIndex(t)!==-1)return n}return-1}generatedPositionFor(t){const n=this._findSectionIndex(te.getArg(t,"source")),s=n>=0?this._sections[n]:null,r=n>=0&&n+1<this._sections.length?this._sections[n+1]:null,a=s&&s.consumer.generatedPositionFor(t);if(a&&a.line!==null){const o=s.generatedOffset.generatedLine-1,l=s.generatedOffset.generatedColumn-1;return a.line===1&&(a.column+=l,typeof a.lastColumn=="number"&&(a.lastColumn+=l)),a.lastColumn===1/0&&r&&a.line===r.generatedOffset.generatedLine&&(a.lastColumn=r.generatedOffset.generatedColumn-2),a.line+=o,a}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(t){const n=this._findSectionIndex(te.getArg(t,"source")),s=n>=0?this._sections[n]:null,r=n>=0&&n+1<this._sections.length?this._sections[n+1]:null;return s?s.consumer.allGeneratedPositionsFor(t).map(a=>{const o=s.generatedOffset.generatedLine-1,l=s.generatedOffset.generatedColumn-1;return a.line===1&&(a.column+=l,typeof a.lastColumn=="number"&&(a.lastColumn+=l)),a.lastColumn===1/0&&r&&a.line===r.generatedOffset.generatedLine&&(a.lastColumn=r.generatedOffset.generatedColumn-2),a.line+=o,a}):[]}eachMapping(t,n,s){this._sections.forEach((r,a)=>{const o=a+1<this._sections.length?this._sections[a+1]:null,{generatedOffset:l}=r,c=l.generatedLine-1,u=l.generatedColumn-1;r.consumer.eachMapping(function(d){d.generatedLine===1&&(d.generatedColumn+=u,typeof d.lastGeneratedColumn=="number"&&(d.lastGeneratedColumn+=u)),d.lastGeneratedColumn===1/0&&o&&d.generatedLine===o.generatedOffset.generatedLine&&(d.lastGeneratedColumn=o.generatedOffset.generatedColumn-2),d.generatedLine+=c,t.call(this,d)},n,s)})}computeColumnSpans(){for(let t=0;t<this._sections.length;t++)this._sections[t].consumer.computeColumnSpans()}destroy(){for(let t=0;t<this._sections.length;t++)this._sections[t].consumer.destroy()}}function yj(e,t){let n=e;typeof e=="string"&&(n=te.parseSourceMapInput(e));const s=n.sections!=null?new vj(n,t):new _s(n,t);return Promise.resolve(s)}function bj(e,t){return _s.fromSourceMap(e,t)}function Nc(){return{mapEditorToRuntime(e){return e},mapRuntimeToEditor(e){return e}}}function wj(e){return{debug:(t,...n)=>{},info:(t,...n)=>{console.info(`[${e}] ${t}`,...n)},warn:(t,...n)=>{console.warn(`[${e}] ${t}`,...n)},error:(t,...n)=>{console.error(`[${e}] ${t}`,...n)}}}const Pe=wj("Debugger");function _(e,t,n){function s(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const r=n?.Parent??Object;class a extends r{}Object.defineProperty(a,"name",{value:e});function o(l){var c;const u=n?.Parent?new a:this;s(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>n?.Parent&&l instanceof n.Parent?!0:l?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class _n extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class of extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const lf={};function on(e){return lf}function jj(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,r])=>t.indexOf(+s)===-1).map(([s,r])=>r)}function ha(e,t){return typeof t=="bigint"?t.toString():t}function vo(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function yo(e){return e==null}function bo(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Nj(e,t){const n=(e.toString().split(".")[1]||"").length,s=t.toString();let r=(s.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(s)){const c=s.match(/\d?e-(\d?)/);c?.[1]&&(r=Number.parseInt(c[1]))}const a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(t.toFixed(a).replace(".",""));return o%l/10**a}const Sc=Symbol("evaluating");function de(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==Sc)return s===void 0&&(s=Sc,s=n()),s},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Sj(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Bt(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function On(...e){const t={};for(const n of e){const s=Object.getOwnPropertyDescriptors(n);Object.assign(t,s)}return Object.defineProperties({},t)}function Cc(e){return JSON.stringify(e)}const cf="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function pr(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Cj=vo(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ys(e){if(pr(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(pr(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function uf(e){return ys(e)?{...e}:e}const Ej=new Set(["string","number","symbol"]);function Ur(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ut(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(s._zod.parent=e),s}function z(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function kj(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const _j={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Pj(e,t){const n=e._zod.def,s=On(e._zod.def,{get shape(){const r={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(r[a]=n.shape[a])}return Bt(this,"shape",r),r},checks:[]});return Ut(e,s)}function Rj(e,t){const n=e._zod.def,s=On(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete r[a]}return Bt(this,"shape",r),r},checks:[]});return Ut(e,s)}function Tj(e,t){if(!ys(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=On(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Bt(this,"shape",a),a},checks:[]});return Ut(e,r)}function Aj(e,t){if(!ys(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return Bt(this,"shape",s),s},checks:e._zod.def.checks};return Ut(e,n)}function Mj(e,t){const n=On(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return Bt(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return Ut(e,n)}function $j(e,t,n){const s=On(t._zod.def,{get shape(){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)a[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return Bt(this,"shape",a),a},checks:[]});return Ut(t,s)}function Ij(e,t,n){const s=On(t._zod.def,{get shape(){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return Bt(this,"shape",a),a},checks:[]});return Ut(t,s)}function Nn(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function df(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function zs(e){return typeof e=="string"?e:e?.message}function ln(e,t,n){const s={...e,path:e.path??[]};if(!e.message){const r=zs(e.inst?._zod.def?.error?.(e))??zs(t?.error?.(e))??zs(n.customError?.(e))??zs(n.localeError?.(e))??"Invalid input";s.message=r}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function wo(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function bs(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const hf=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ha,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ff=_("$ZodError",hf),mf=_("$ZodError",hf,{Parent:Error});function Lj(e,t=n=>n.message){const n={},s=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}function Oj(e,t){const n=t||function(a){return a.message},s={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>r({issues:l}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(e),s}const jo=e=>(t,n,s,r)=>{const a=s?Object.assign(s,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new _n;if(o.issues.length){const l=new(r?.Err??e)(o.issues.map(c=>ln(c,a,on())));throw cf(l,r?.callee),l}return o.value},No=e=>async(t,n,s,r)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new(r?.Err??e)(o.issues.map(c=>ln(c,a,on())));throw cf(l,r?.callee),l}return o.value},Zr=e=>(t,n,s)=>{const r=s?{...s,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new _n;return a.issues.length?{success:!1,error:new(e??ff)(a.issues.map(o=>ln(o,r,on())))}:{success:!0,data:a.value}},Dj=Zr(mf),Hr=e=>async(t,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(o=>ln(o,r,on())))}:{success:!0,data:a.value}},zj=Hr(mf),Vj=e=>(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return jo(e)(t,n,r)},Fj=e=>(t,n,s)=>jo(e)(t,n,s),Bj=e=>async(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return No(e)(t,n,r)},Uj=e=>async(t,n,s)=>No(e)(t,n,s),Zj=e=>(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Zr(e)(t,n,r)},Hj=e=>(t,n,s)=>Zr(e)(t,n,s),Wj=e=>async(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Hr(e)(t,n,r)},Gj=e=>async(t,n,s)=>Hr(e)(t,n,s),Jj=/^[cC][^\s-]{8,}$/,Kj=/^[0-9a-z]+$/,qj=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Yj=/^[0-9a-vA-V]{20}$/,Xj=/^[A-Za-z0-9]{27}$/,Qj=/^[a-zA-Z0-9_-]{21}$/,eN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,tN=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ec=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,nN=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,sN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function rN(){return new RegExp(sN,"u")}const iN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,oN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,lN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,pf=/^[A-Za-z0-9_-]*$/,uN=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,dN=/^\+(?:[0-9]){6,14}[0-9]$/,gf="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",hN=new RegExp(`^${gf}$`);function xf(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function fN(e){return new RegExp(`^${xf(e)}$`)}function mN(e){const t=xf({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${gf}T(?:${s})$`)}const pN=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},gN=/^\d+$/,xN=/^-?\d+(?:\.\d+)?/i,vN=/true|false/i,yN=/^[^A-Z]*$/,bN=/^[^a-z]*$/,Ze=_("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),vf={number:"number",bigint:"bigint",object:"date"},yf=_("$ZodCheckLessThan",(e,t)=>{Ze.init(e,t);const n=vf[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,a=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),bf=_("$ZodCheckGreaterThan",(e,t)=>{Ze.init(e,t);const n=vf[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,a=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),wN=_("$ZodCheckMultipleOf",(e,t)=>{Ze.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Nj(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),jN=_("$ZodCheckNumberFormat",(e,t)=>{Ze.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),s=n?"int":"number",[r,a]=_j[t.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,l.minimum=r,l.maximum=a,n&&(l.pattern=gN)}),e._zod.check=o=>{const l=o.value;if(n){if(!Number.isInteger(l)){o.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}l<r&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),l>a&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:a,inst:e})}}),NN=_("$ZodCheckMaxLength",(e,t)=>{var n;Ze.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!yo(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const r=s.value;if(r.length<=t.maximum)return;const o=wo(r);s.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),SN=_("$ZodCheckMinLength",(e,t)=>{var n;Ze.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!yo(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const r=s.value;if(r.length>=t.minimum)return;const o=wo(r);s.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),CN=_("$ZodCheckLengthEquals",(e,t)=>{var n;Ze.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!yo(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=s=>{const r=s.value,a=r.length;if(a===t.length)return;const o=wo(r),l=a>t.length;s.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),Wr=_("$ZodCheckStringFormat",(e,t)=>{var n,s;Ze.init(e,t),e._zod.onattach.push(r=>{const a=r._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),EN=_("$ZodCheckRegex",(e,t)=>{Wr.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),kN=_("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=yN),Wr.init(e,t)}),_N=_("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=bN),Wr.init(e,t)}),PN=_("$ZodCheckIncludes",(e,t)=>{Ze.init(e,t);const n=Ur(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),RN=_("$ZodCheckStartsWith",(e,t)=>{Ze.init(e,t);const n=new RegExp(`^${Ur(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),TN=_("$ZodCheckEndsWith",(e,t)=>{Ze.init(e,t);const n=new RegExp(`.*${Ur(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),AN=_("$ZodCheckOverwrite",(e,t)=>{Ze.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class MN{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(o=>o),r=Math.min(...s.map(o=>o.length-o.trimStart().length)),a=s.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of a)this.content.push(o)}compile(){const t=Function,n=this?.args,r=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...n,r.join(`
`))}}const $N={major:4,minor:1,patch:5},Se=_("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=$N;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const r of s)for(const a of r._zod.onattach)a(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const r=(o,l,c)=>{let u=Nn(o),d;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(u)continue;const p=o.issues.length,f=h._zod.check(o);if(f instanceof Promise&&c?.async===!1)throw new _n;if(d||f instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await f,o.issues.length!==p&&(u||(u=Nn(o,p)))});else{if(o.issues.length===p)continue;u||(u=Nn(o,p))}}return d?d.then(()=>o):o},a=(o,l,c)=>{if(Nn(o))return o.aborted=!0,o;const u=r(l,s,c);if(u instanceof Promise){if(c.async===!1)throw new _n;return u.then(d=>e._zod.parse(d,c))}return e._zod.parse(u,c)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const u=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return u instanceof Promise?u.then(d=>a(d,o,l)):a(u,o,l)}const c=e._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new _n;return c.then(u=>r(u,s,l))}return r(c,s,l)}}e["~standard"]={validate:r=>{try{const a=Dj(e,r);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return zj(e,r).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),So=_("$ZodString",(e,t)=>{Se.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??pN(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),pe=_("$ZodStringFormat",(e,t)=>{Wr.init(e,t),So.init(e,t)}),IN=_("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=tN),pe.init(e,t)}),LN=_("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Ec(s))}else t.pattern??(t.pattern=Ec());pe.init(e,t)}),ON=_("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=nN),pe.init(e,t)}),DN=_("$ZodURL",(e,t)=>{pe.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:uN.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),zN=_("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=rN()),pe.init(e,t)}),VN=_("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Qj),pe.init(e,t)}),FN=_("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Jj),pe.init(e,t)}),BN=_("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Kj),pe.init(e,t)}),UN=_("$ZodULID",(e,t)=>{t.pattern??(t.pattern=qj),pe.init(e,t)}),ZN=_("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Yj),pe.init(e,t)}),HN=_("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Xj),pe.init(e,t)}),WN=_("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=mN(t)),pe.init(e,t)}),GN=_("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=hN),pe.init(e,t)}),JN=_("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=fN(t)),pe.init(e,t)}),KN=_("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=eN),pe.init(e,t)}),qN=_("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=iN),pe.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv4"})}),YN=_("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=aN),pe.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),XN=_("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=oN),pe.init(e,t)}),QN=_("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=lN),pe.init(e,t),e._zod.check=n=>{const[s,r]=n.value.split("/");try{if(!r)throw new Error;const a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function wf(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const eS=_("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=cN),pe.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{wf(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function tS(e){if(!pf.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return wf(n)}const nS=_("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=pf),pe.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{tS(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),sS=_("$ZodE164",(e,t)=>{t.pattern??(t.pattern=dN),pe.init(e,t)});function rS(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const iS=_("$ZodJWT",(e,t)=>{pe.init(e,t),e._zod.check=n=>{rS(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),jf=_("$ZodNumber",(e,t)=>{Se.init(e,t),e._zod.pattern=e._zod.bag.pattern??xN,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...a?{received:a}:{}}),n}}),aS=_("$ZodNumber",(e,t)=>{jN.init(e,t),jf.init(e,t)}),oS=_("$ZodBoolean",(e,t)=>{Se.init(e,t),e._zod.pattern=vN,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),lS=_("$ZodUnknown",(e,t)=>{Se.init(e,t),e._zod.parse=n=>n}),cS=_("$ZodNever",(e,t)=>{Se.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function kc(e,t,n){e.issues.length&&t.issues.push(...df(n,e.issues)),t.value[n]=e.value}const uS=_("$ZodArray",(e,t)=>{Se.init(e,t),e._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const a=[];for(let o=0;o<r.length;o++){const l=r[o],c=t.element._zod.run({value:l,issues:[]},s);c instanceof Promise?a.push(c.then(u=>kc(u,n,o))):kc(c,n,o)}return a.length?Promise.all(a).then(()=>n):n}});function gr(e,t,n,s){e.issues.length&&t.issues.push(...df(n,e.issues)),e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function Nf(e){const t=Object.keys(e.shape);for(const s of t)if(!e.shape[s]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const n=kj(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Sf(e,t,n,s,r,a){const o=[],l=r.keySet,c=r.catchall._zod,u=c.def.type;for(const d of Object.keys(t)){if(l.has(d))continue;if(u==="never"){o.push(d);continue}const h=c.run({value:t[d],issues:[]},s);h instanceof Promise?e.push(h.then(p=>gr(p,n,d,t))):gr(h,n,d,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const dS=_("$ZodObject",(e,t)=>{Se.init(e,t);const n=vo(()=>Nf(t));de(e._zod,"propValues",()=>{const o=t.shape,l={};for(const c in o){const u=o[c]._zod;if(u.values){l[c]??(l[c]=new Set);for(const d of u.values)l[c].add(d)}}return l});const s=pr,r=t.catchall;let a;e._zod.parse=(o,l)=>{a??(a=n.value);const c=o.value;if(!s(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),o;o.value={};const u=[],d=a.shape;for(const h of a.keys){const f=d[h]._zod.run({value:c[h],issues:[]},l);f instanceof Promise?u.push(f.then(g=>gr(g,o,h,c))):gr(f,o,h,c)}return r?Sf(u,c,o,l,n.value,e):u.length?Promise.all(u).then(()=>o):o}}),hS=_("$ZodObjectJIT",(e,t)=>{dS.init(e,t);const n=e._zod.parse,s=vo(()=>Nf(t)),r=p=>{const f=new MN(["shape","payload","ctx"]),g=s.value,v=w=>{const j=Cc(w);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};f.write("const input = payload.value;");const x=Object.create(null);let y=0;for(const w of g.keys)x[w]=`key_${y++}`;f.write("const newResult = {}");for(const w of g.keys){const j=x[w],C=Cc(w);f.write(`const ${j} = ${v(w)};`),f.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${j}.value;
        }
      `)}f.write("payload.value = newResult;"),f.write("return payload;");const b=f.compile();return(w,j)=>b(p,w,j)};let a;const o=pr,l=!lf.jitless,u=l&&Cj.value,d=t.catchall;let h;e._zod.parse=(p,f)=>{h??(h=s.value);const g=p.value;return o(g)?l&&u&&f?.async===!1&&f.jitless!==!0?(a||(a=r(t.shape)),p=a(p,f),d?Sf([],g,p,f,h,e):p):n(p,f):(p.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),p)}});function _c(e,t,n,s){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const r=e.filter(a=>!Nn(a));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>ln(o,s,on())))}),t)}const fS=_("$ZodUnion",(e,t)=>{Se.init(e,t),de(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),de(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),de(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),de(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>bo(a.source)).join("|")})$`)}});const n=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(r,a)=>{if(n)return s(r,a);let o=!1;const l=[];for(const c of t.options){const u=c._zod.run({value:r.value,issues:[]},a);if(u instanceof Promise)l.push(u),o=!0;else{if(u.issues.length===0)return u;l.push(u)}}return o?Promise.all(l).then(c=>_c(c,r,e,a)):_c(l,r,e,a)}}),mS=_("$ZodIntersection",(e,t)=>{Se.init(e,t),e._zod.parse=(n,s)=>{const r=n.value,a=t.left._zod.run({value:r,issues:[]},s),o=t.right._zod.run({value:r,issues:[]},s);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([c,u])=>Pc(n,c,u)):Pc(n,a,o)}});function fa(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ys(e)&&ys(t)){const n=Object.keys(t),s=Object.keys(e).filter(a=>n.indexOf(a)!==-1),r={...e,...t};for(const a of s){const o=fa(e[a],t[a]);if(!o.valid)return{valid:!1,mergeErrorPath:[a,...o.mergeErrorPath]};r[a]=o.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const r=e[s],a=t[s],o=fa(r,a);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Pc(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Nn(e))return e;const s=fa(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const pS=_("$ZodEnum",(e,t)=>{Se.init(e,t);const n=jj(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(r=>Ej.has(typeof r)).map(r=>typeof r=="string"?Ur(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return s.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),gS=_("$ZodTransform",(e,t)=>{Se.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new of(e.constructor.name);const r=t.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new _n;return n.value=r,n}});function Rc(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const xS=_("$ZodOptional",(e,t)=>{Se.init(e,t),e._zod.optin="optional",e._zod.optout="optional",de(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),de(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${bo(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>Rc(a,n.value)):Rc(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,s)}}),vS=_("$ZodNullable",(e,t)=>{Se.init(e,t),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),de(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${bo(n.source)}|null)$`):void 0}),de(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),yS=_("$ZodDefault",(e,t)=>{Se.init(e,t),e._zod.optin="optional",de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>Tc(a,t)):Tc(r,t)}});function Tc(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const bS=_("$ZodPrefault",(e,t)=>{Se.init(e,t),e._zod.optin="optional",de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),wS=_("$ZodNonOptional",(e,t)=>{Se.init(e,t),de(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>Ac(a,e)):Ac(r,e)}});function Ac(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const jS=_("$ZodCatch",(e,t)=>{Se.init(e,t),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>ln(o,s,on()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>ln(a,s,on()))},input:n.value}),n.issues=[]),n)}}),NS=_("$ZodPipe",(e,t)=>{Se.init(e,t),de(e._zod,"values",()=>t.in._zod.values),de(e._zod,"optin",()=>t.in._zod.optin),de(e._zod,"optout",()=>t.out._zod.optout),de(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{if(s.direction==="backward"){const a=t.out._zod.run(n,s);return a instanceof Promise?a.then(o=>Vs(o,t.in,s)):Vs(a,t.in,s)}const r=t.in._zod.run(n,s);return r instanceof Promise?r.then(a=>Vs(a,t.out,s)):Vs(r,t.out,s)}});function Vs(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const SS=_("$ZodReadonly",(e,t)=>{Se.init(e,t),de(e._zod,"propValues",()=>t.innerType._zod.propValues),de(e._zod,"values",()=>t.innerType._zod.values),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(Mc):Mc(r)}});function Mc(e){return e.value=Object.freeze(e.value),e}const CS=_("$ZodCustom",(e,t)=>{Ze.init(e,t),Se.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,r=t.fn(s);if(r instanceof Promise)return r.then(a=>$c(a,n,s,e));$c(r,n,s,e)}});function $c(e,t,n,s){if(!e){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),t.issues.push(bs(r))}}class ES{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function kS(){return new ES}const Fs=kS();function _S(e,t){return new e({type:"string",...z(t)})}function PS(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...z(t)})}function Ic(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...z(t)})}function RS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...z(t)})}function TS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...z(t)})}function AS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...z(t)})}function MS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...z(t)})}function $S(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...z(t)})}function IS(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...z(t)})}function LS(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...z(t)})}function OS(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...z(t)})}function DS(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...z(t)})}function zS(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...z(t)})}function VS(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...z(t)})}function FS(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...z(t)})}function BS(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...z(t)})}function US(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...z(t)})}function ZS(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...z(t)})}function HS(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...z(t)})}function WS(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...z(t)})}function GS(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...z(t)})}function JS(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...z(t)})}function KS(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...z(t)})}function qS(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...z(t)})}function YS(e,t){return new e({type:"string",format:"date",check:"string_format",...z(t)})}function XS(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...z(t)})}function QS(e,t){return new e({type:"string",format:"duration",check:"string_format",...z(t)})}function e2(e,t){return new e({type:"number",checks:[],...z(t)})}function t2(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...z(t)})}function n2(e,t){return new e({type:"boolean",...z(t)})}function s2(e){return new e({type:"unknown"})}function r2(e,t){return new e({type:"never",...z(t)})}function Lc(e,t){return new yf({check:"less_than",...z(t),value:e,inclusive:!1})}function ki(e,t){return new yf({check:"less_than",...z(t),value:e,inclusive:!0})}function Oc(e,t){return new bf({check:"greater_than",...z(t),value:e,inclusive:!1})}function _i(e,t){return new bf({check:"greater_than",...z(t),value:e,inclusive:!0})}function Dc(e,t){return new wN({check:"multiple_of",...z(t),value:e})}function Cf(e,t){return new NN({check:"max_length",...z(t),maximum:e})}function xr(e,t){return new SN({check:"min_length",...z(t),minimum:e})}function Ef(e,t){return new CN({check:"length_equals",...z(t),length:e})}function i2(e,t){return new EN({check:"string_format",format:"regex",...z(t),pattern:e})}function a2(e){return new kN({check:"string_format",format:"lowercase",...z(e)})}function o2(e){return new _N({check:"string_format",format:"uppercase",...z(e)})}function l2(e,t){return new PN({check:"string_format",format:"includes",...z(t),includes:e})}function c2(e,t){return new RN({check:"string_format",format:"starts_with",...z(t),prefix:e})}function u2(e,t){return new TN({check:"string_format",format:"ends_with",...z(t),suffix:e})}function Ps(e){return new AN({check:"overwrite",tx:e})}function d2(e){return Ps(t=>t.normalize(e))}function h2(){return Ps(e=>e.trim())}function f2(){return Ps(e=>e.toLowerCase())}function m2(){return Ps(e=>e.toUpperCase())}function p2(e,t,n){return new e({type:"array",element:t,...z(n)})}function g2(e,t,n){return new e({type:"custom",check:"custom",fn:t,...z(n)})}function x2(e){const t=v2(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(bs(s,n.value,t._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(bs(r))}},e(n.value,n)));return t}function v2(e,t){const n=new Ze({check:"custom",...z(t)});return n._zod.check=e,n}const y2=_("ZodISODateTime",(e,t)=>{WN.init(e,t),ve.init(e,t)});function b2(e){return qS(y2,e)}const w2=_("ZodISODate",(e,t)=>{GN.init(e,t),ve.init(e,t)});function j2(e){return YS(w2,e)}const N2=_("ZodISOTime",(e,t)=>{JN.init(e,t),ve.init(e,t)});function S2(e){return XS(N2,e)}const C2=_("ZodISODuration",(e,t)=>{KN.init(e,t),ve.init(e,t)});function E2(e){return QS(C2,e)}const k2=(e,t)=>{ff.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Oj(e,n)},flatten:{value:n=>Lj(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,ha,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,ha,2)}},isEmpty:{get(){return e.issues.length===0}}})},Qe=_("ZodError",k2,{Parent:Error}),_2=jo(Qe),P2=No(Qe),R2=Zr(Qe),T2=Hr(Qe),A2=Vj(Qe),M2=Fj(Qe),$2=Bj(Qe),I2=Uj(Qe),L2=Zj(Qe),O2=Hj(Qe),D2=Wj(Qe),z2=Gj(Qe),ke=_("ZodType",(e,t)=>(Se.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),e.clone=(n,s)=>Ut(e,n,s),e.brand=()=>e,e.register=(n,s)=>(n.add(e,s),e),e.parse=(n,s)=>_2(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>R2(e,n,s),e.parseAsync=async(n,s)=>P2(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>T2(e,n,s),e.spa=e.safeParseAsync,e.encode=(n,s)=>A2(e,n,s),e.decode=(n,s)=>M2(e,n,s),e.encodeAsync=async(n,s)=>$2(e,n,s),e.decodeAsync=async(n,s)=>I2(e,n,s),e.safeEncode=(n,s)=>L2(e,n,s),e.safeDecode=(n,s)=>O2(e,n,s),e.safeEncodeAsync=async(n,s)=>D2(e,n,s),e.safeDecodeAsync=async(n,s)=>z2(e,n,s),e.refine=(n,s)=>e.check(AC(n,s)),e.superRefine=n=>e.check(MC(n)),e.overwrite=n=>e.check(Ps(n)),e.optional=()=>Bc(e),e.nullable=()=>Uc(e),e.nullish=()=>Bc(Uc(e)),e.nonoptional=n=>CC(e,n),e.array=()=>hC(e),e.or=n=>pC([e,n]),e.and=n=>xC(e,n),e.transform=n=>Zc(e,yC(n)),e.default=n=>jC(e,n),e.prefault=n=>SC(e,n),e.catch=n=>kC(e,n),e.pipe=n=>Zc(e,n),e.readonly=()=>RC(e),e.describe=n=>{const s=e.clone();return Fs.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){return Fs.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Fs.get(e);const s=e.clone();return Fs.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),kf=_("_ZodString",(e,t)=>{So.init(e,t),ke.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(i2(...s)),e.includes=(...s)=>e.check(l2(...s)),e.startsWith=(...s)=>e.check(c2(...s)),e.endsWith=(...s)=>e.check(u2(...s)),e.min=(...s)=>e.check(xr(...s)),e.max=(...s)=>e.check(Cf(...s)),e.length=(...s)=>e.check(Ef(...s)),e.nonempty=(...s)=>e.check(xr(1,...s)),e.lowercase=s=>e.check(a2(s)),e.uppercase=s=>e.check(o2(s)),e.trim=()=>e.check(h2()),e.normalize=(...s)=>e.check(d2(...s)),e.toLowerCase=()=>e.check(f2()),e.toUpperCase=()=>e.check(m2())}),V2=_("ZodString",(e,t)=>{So.init(e,t),kf.init(e,t),e.email=n=>e.check(PS(B2,n)),e.url=n=>e.check($S(U2,n)),e.jwt=n=>e.check(KS(rC,n)),e.emoji=n=>e.check(IS(Z2,n)),e.guid=n=>e.check(Ic(zc,n)),e.uuid=n=>e.check(RS(Bs,n)),e.uuidv4=n=>e.check(TS(Bs,n)),e.uuidv6=n=>e.check(AS(Bs,n)),e.uuidv7=n=>e.check(MS(Bs,n)),e.nanoid=n=>e.check(LS(H2,n)),e.guid=n=>e.check(Ic(zc,n)),e.cuid=n=>e.check(OS(W2,n)),e.cuid2=n=>e.check(DS(G2,n)),e.ulid=n=>e.check(zS(J2,n)),e.base64=n=>e.check(WS(tC,n)),e.base64url=n=>e.check(GS(nC,n)),e.xid=n=>e.check(VS(K2,n)),e.ksuid=n=>e.check(FS(q2,n)),e.ipv4=n=>e.check(BS(Y2,n)),e.ipv6=n=>e.check(US(X2,n)),e.cidrv4=n=>e.check(ZS(Q2,n)),e.cidrv6=n=>e.check(HS(eC,n)),e.e164=n=>e.check(JS(sC,n)),e.datetime=n=>e.check(b2(n)),e.date=n=>e.check(j2(n)),e.time=n=>e.check(S2(n)),e.duration=n=>e.check(E2(n))});function F2(e){return _S(V2,e)}const ve=_("ZodStringFormat",(e,t)=>{pe.init(e,t),kf.init(e,t)}),B2=_("ZodEmail",(e,t)=>{ON.init(e,t),ve.init(e,t)}),zc=_("ZodGUID",(e,t)=>{IN.init(e,t),ve.init(e,t)}),Bs=_("ZodUUID",(e,t)=>{LN.init(e,t),ve.init(e,t)}),U2=_("ZodURL",(e,t)=>{DN.init(e,t),ve.init(e,t)}),Z2=_("ZodEmoji",(e,t)=>{zN.init(e,t),ve.init(e,t)}),H2=_("ZodNanoID",(e,t)=>{VN.init(e,t),ve.init(e,t)}),W2=_("ZodCUID",(e,t)=>{FN.init(e,t),ve.init(e,t)}),G2=_("ZodCUID2",(e,t)=>{BN.init(e,t),ve.init(e,t)}),J2=_("ZodULID",(e,t)=>{UN.init(e,t),ve.init(e,t)}),K2=_("ZodXID",(e,t)=>{ZN.init(e,t),ve.init(e,t)}),q2=_("ZodKSUID",(e,t)=>{HN.init(e,t),ve.init(e,t)}),Y2=_("ZodIPv4",(e,t)=>{qN.init(e,t),ve.init(e,t)}),X2=_("ZodIPv6",(e,t)=>{YN.init(e,t),ve.init(e,t)}),Q2=_("ZodCIDRv4",(e,t)=>{XN.init(e,t),ve.init(e,t)}),eC=_("ZodCIDRv6",(e,t)=>{QN.init(e,t),ve.init(e,t)}),tC=_("ZodBase64",(e,t)=>{eS.init(e,t),ve.init(e,t)}),nC=_("ZodBase64URL",(e,t)=>{nS.init(e,t),ve.init(e,t)}),sC=_("ZodE164",(e,t)=>{sS.init(e,t),ve.init(e,t)}),rC=_("ZodJWT",(e,t)=>{iS.init(e,t),ve.init(e,t)}),_f=_("ZodNumber",(e,t)=>{jf.init(e,t),ke.init(e,t),e.gt=(s,r)=>e.check(Oc(s,r)),e.gte=(s,r)=>e.check(_i(s,r)),e.min=(s,r)=>e.check(_i(s,r)),e.lt=(s,r)=>e.check(Lc(s,r)),e.lte=(s,r)=>e.check(ki(s,r)),e.max=(s,r)=>e.check(ki(s,r)),e.int=s=>e.check(Vc(s)),e.safe=s=>e.check(Vc(s)),e.positive=s=>e.check(Oc(0,s)),e.nonnegative=s=>e.check(_i(0,s)),e.negative=s=>e.check(Lc(0,s)),e.nonpositive=s=>e.check(ki(0,s)),e.multipleOf=(s,r)=>e.check(Dc(s,r)),e.step=(s,r)=>e.check(Dc(s,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Pf(e){return e2(_f,e)}const iC=_("ZodNumberFormat",(e,t)=>{aS.init(e,t),_f.init(e,t)});function Vc(e){return t2(iC,e)}const aC=_("ZodBoolean",(e,t)=>{oS.init(e,t),ke.init(e,t)});function oC(e){return n2(aC,e)}const lC=_("ZodUnknown",(e,t)=>{lS.init(e,t),ke.init(e,t)});function Fc(){return s2(lC)}const cC=_("ZodNever",(e,t)=>{cS.init(e,t),ke.init(e,t)});function uC(e){return r2(cC,e)}const dC=_("ZodArray",(e,t)=>{uS.init(e,t),ke.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(xr(n,s)),e.nonempty=n=>e.check(xr(1,n)),e.max=(n,s)=>e.check(Cf(n,s)),e.length=(n,s)=>e.check(Ef(n,s)),e.unwrap=()=>e.element});function hC(e,t){return p2(dC,e,t)}const fC=_("ZodObject",(e,t)=>{hS.init(e,t),ke.init(e,t),de(e,"shape",()=>t.shape),e.keyof=()=>Jr(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Fc()}),e.loose=()=>e.clone({...e._zod.def,catchall:Fc()}),e.strict=()=>e.clone({...e._zod.def,catchall:uC()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Tj(e,n),e.safeExtend=n=>Aj(e,n),e.merge=n=>Mj(e,n),e.pick=n=>Pj(e,n),e.omit=n=>Rj(e,n),e.partial=(...n)=>$j(Rf,e,n[0]),e.required=(...n)=>Ij(Tf,e,n[0])});function Gr(e,t){const n={type:"object",get shape(){return Bt(this,"shape",e?Sj(e):{}),this.shape},...z(t)};return new fC(n)}const mC=_("ZodUnion",(e,t)=>{fS.init(e,t),ke.init(e,t),e.options=t.options});function pC(e,t){return new mC({type:"union",options:e,...z(t)})}const gC=_("ZodIntersection",(e,t)=>{mS.init(e,t),ke.init(e,t)});function xC(e,t){return new gC({type:"intersection",left:e,right:t})}const ma=_("ZodEnum",(e,t)=>{pS.init(e,t),ke.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,r)=>{const a={};for(const o of s)if(n.has(o))a[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new ma({...t,checks:[],...z(r),entries:a})},e.exclude=(s,r)=>{const a={...t.entries};for(const o of s)if(n.has(o))delete a[o];else throw new Error(`Key ${o} not found in enum`);return new ma({...t,checks:[],...z(r),entries:a})}});function Jr(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new ma({type:"enum",entries:n,...z(t)})}const vC=_("ZodTransform",(e,t)=>{gS.init(e,t),ke.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new of(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(bs(a,n.value,t));else{const o=a;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(bs(o))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function yC(e){return new vC({type:"transform",transform:e})}const Rf=_("ZodOptional",(e,t)=>{xS.init(e,t),ke.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Bc(e){return new Rf({type:"optional",innerType:e})}const bC=_("ZodNullable",(e,t)=>{vS.init(e,t),ke.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Uc(e){return new bC({type:"nullable",innerType:e})}const wC=_("ZodDefault",(e,t)=>{yS.init(e,t),ke.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function jC(e,t){return new wC({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():uf(t)}})}const NC=_("ZodPrefault",(e,t)=>{bS.init(e,t),ke.init(e,t),e.unwrap=()=>e._zod.def.innerType});function SC(e,t){return new NC({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():uf(t)}})}const Tf=_("ZodNonOptional",(e,t)=>{wS.init(e,t),ke.init(e,t),e.unwrap=()=>e._zod.def.innerType});function CC(e,t){return new Tf({type:"nonoptional",innerType:e,...z(t)})}const EC=_("ZodCatch",(e,t)=>{jS.init(e,t),ke.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function kC(e,t){return new EC({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const _C=_("ZodPipe",(e,t)=>{NS.init(e,t),ke.init(e,t),e.in=t.in,e.out=t.out});function Zc(e,t){return new _C({type:"pipe",in:e,out:t})}const PC=_("ZodReadonly",(e,t)=>{SS.init(e,t),ke.init(e,t),e.unwrap=()=>e._zod.def.innerType});function RC(e){return new PC({type:"readonly",innerType:e})}const TC=_("ZodCustom",(e,t)=>{CS.init(e,t),ke.init(e,t)});function AC(e,t={}){return g2(TC,e,t)}function MC(e){return x2(e)}const $C=Gr({line:Pf().min(1),enabled:oC().default(!0),condition:F2().optional()}),IC=Gr({type:Jr(["into","over","out"]),count:Pf().min(1).default(1)});Gr({reason:Jr(["user","breakpoint","error","completion"])});Gr({mode:Jr(["run","step"])});function LC(e){return $C.parse(e)}function OC(e){return IC.parse(e)}const DC={"showcase.asm":`; MicroZ Complete Instruction Set Showcase
; Demonstrates all available instructions without .DATA section

.TEXT
main:
    ; Initialize registers with values for meaningful arithmetic
    MOV R0, #42
    MOV R1, R0
    MOV R2, #15

    ; Basic arithmetic operations with proper values
    ADD R0, #10     ; R0 = 42 + 10 = 52
    SUB R1, #2      ; R1 = 42 - 2 = 40
    MUL R2, #3      ; R2 = 15 * 3 = 45
    DIV R0, #2      ; R0 = 52 / 2 = 26
    INC R1          ; R1 = 40 + 1 = 41
    DEC R2          ; R2 = 45 - 1 = 44

    ; Stack operations
    PUSH R0
    PUSH R1
    POP R3
    POP R4

    ; System calls - print numbers
    MOV R0, #123
    SYS #1

    ; Loop with conditional jumps
    MOV R5, #0

loop_start:
    MOV R0, R5
    SYS #1
    INC R5
    CMP R5, #5
    JL loop_start

    ; Function call demonstration
    CALL math_function

    ; Bitwise operations
    MOV R9, #0xFF
    AND R9, #0x0F
    OR R9, #0xF0
    XOR R9, #0xAA
    NOT R9

    ; Shift operations
    MOV R10, #8
    SHL R10, #2
    SHR R10, #1

    ; Memory operations
    MOV R11, #1000
    STORE [1000], R11
    LOAD R12, [1000]

    ; Final system calls
    MOV R0, #0
    SYS #3
    HLT

math_function:
    PUSH BP
    MOV BP, SP
    MOV R0, #10
    MOV R1, #5
    ADD R0, R1
    POP BP
    RET`,"extensive-showcase.asm":`; MicroZ Complete Instruction Set Showcase
; Demonstrates all available instructions without .DATA section

.TEXT
main:
    ; Set breakpoint here to start debugging
    MOV R0, #42
    MOV R1, R0
    MOV R2, #15

    ; Basic arithmetic operations
    ADD R0, #10
    SUB R1, #2
    MUL R2, #3
    DIV R0, #2
    INC R1
    DEC R2

    ; Stack operations
    PUSH R0
    PUSH R1
    POP R3
    POP R4

    ; System calls - print numbers
    MOV R0, #123
    SYS #1

    ; Loop with conditional jumps
    MOV R5, #0

loop_start:
    MOV R0, R5
    SYS #1
    INC R5
    CMP R5, #5
    JL loop_start
    JNE skip_equal
    JE equal_branch

skip_equal:
    ; More jump instructions
    CMP R5, #10
    JG greater_branch
    JGE greater_equal_branch
    JLE less_equal_branch

greater_branch:
    JMP continue_program

greater_equal_branch:
    JMP continue_program

less_equal_branch:
    JMP continue_program

equal_branch:
    JMP continue_program

continue_program:
    ; Function call demonstration
    CALL math_function

    ; Bitwise operations
    MOV R9, #0xFF
    AND R9, #0x0F
    OR R9, #0xF0
    XOR R9, #0xAA
    NOT R9

    ; Shift operations
    MOV R10, #8
    SHL R10, #2
    SHR R10, #1

    ; Memory operations using immediate addresses
    MOV R11, #1000
    STORE [1000], R11
    LOAD R12, [1000]

    ; Indirect memory access
    MOV R13, #1002
    STORE [R13], #999
    LOAD R14, [R13]

    ; More conditional jumps
    CMP R14, #999
    JC carry_set
    JNC no_carry
    JN negative_flag
    JNN not_negative

carry_set:
    JMP test_complete

no_carry:
    JMP test_complete

negative_flag:
    JMP test_complete

not_negative:
    JMP test_complete

test_complete:
    ; Test comparison instruction
    TEST R0, #0xFF
    
    ; Final system calls
    MOV R0, #0
    SYS #3
    HLT

; Function demonstrating all instruction types
math_function:
    PUSH BP
    MOV BP, SP

    ; Local calculations
    MOV R0, #10
    MOV R1, #5
    ADD R0, R1
    SUB R0, #3
    MUL R0, #2
    DIV R0, #4

    ; Test all arithmetic with different operands
    MOV R2, #100
    ADD R2, R0
    SUB R2, R1
    MUL R2, #2
    DIV R2, R0

    ; Bitwise operations on results
    AND R2, #0xFF
    OR R2, #0x100
    XOR R2, R0
    NOT R2

    ; Shift the result
    SHL R2, #1
    SHR R2, #2

    ; Increment and decrement tests
    INC R0
    DEC R1
    INC R2
    DEC R0

    ; Memory operations within function
    STORE [2000], R2
    LOAD R3, [2000]

    ; Compare and conditional execution
    CMP R3, R2
    JE values_equal
    JNE values_different

values_equal:
    MOV R0, #1
    JMP function_end

values_different:
    MOV R0, #0

function_end:
    POP BP
    RET

; Additional test functions for complete coverage
utility_functions:
    ; Test NOP instruction
    NOP
    NOP
    NOP

    ; Test all register operations
    MOV R0, #1
    MOV R1, #2
    MOV R2, #3
    MOV R3, #4
    MOV R4, #5
    MOV R5, #6
    MOV R6, #7
    MOV R7, #8
    MOV R8, #9
    MOV R9, #10
    MOV R10, #11
    MOV R11, #12
    MOV R12, #13
    MOV R13, #14
    MOV R14, #15
    MOV R15, #16

    ; Test stack with all registers
    PUSH R0
    PUSH R1
    PUSH R2
    PUSH R3
    POP R15
    POP R14
    POP R13
    POP R12

    ; Test memory with register indirect
    MOV R0, #3000
    STORE [R0], #777
    LOAD R1, [R0]

    ; Test all comparison scenarios
    CMP R1, #777
    CMP R1, #778
    CMP R1, #776

    RET`,"factorial.asm":`; Factorial Example - No .DATA section
.TEXT
start:
    ; Calculate 5! using registers only (max 7! for 16-bit registers)
    MOV R0, #5
    MOV R1, #1
    
factorial_loop:
    CMP R0, #1
    JLE done
    MUL R1, R0
    DEC R0
    JNE factorial_loop
    
done:
    ; Print result
    MOV R0, R1
    SYS #1
    
    ; Exit
    MOV R0, #0
    SYS #3
    HLT`},Af=({initialCode:e="",readonly:t=!1,theme:n="dark"})=>{const{pendingLoad:s,consumed:r,markConsumed:a}=Zh(),[o,l]=m.useState(e??""),[c,u]=m.useState(()=>({cpu:Xs(),ram:xi(),program:null,sourceMap:Nc(),executableLines:new Set,breakpoints:new Map,watches:[],running:!1,currentLine:null,consoleOutput:[],error:null})),[d,h]=m.useState("registers"),[p,f]=m.useState(1),[g,v]=m.useState(100),[x,y]=m.useState(null),[b,w]=m.useState(null),[j,C]=m.useState(null),[R,P]=m.useState(null),[M,D]=m.useState(null),L=m.useRef(null),G=m.useRef(null),q=m.useCallback(()=>{Pe.debug("Clearing debugger state completely"),u({cpu:Xs(),ram:xi(),program:null,sourceMap:Nc(),executableLines:new Set,breakpoints:new Map,watches:[],running:!1,currentLine:null,consoleOutput:[],error:null}),w(null),C(null),P(null),D(null),localStorage.removeItem("microz.debugger.source")},[]);m.useEffect(()=>{if(!s&&!r&&!b&&!j){const N=localStorage.getItem("microz.debugger.source");N&&!o&&l(N)}},[s,r,b,j,o]),m.useEffect(()=>{if(!b&&!j){const N=setTimeout(()=>{localStorage.setItem("microz.debugger.source",o??"")},200);return()=>clearTimeout(N)}},[o,b,j]),m.useEffect(()=>{if(s&&!r){if(Pe.debug("Loading pending code from bus",s),q(),l(s.source??""),s.breakpoints){const N=new Map;s.breakpoints.forEach(S=>{try{const $=LC({line:S,enabled:!0});N.set(S,$)}catch($){Pe.warn("Invalid breakpoint from bus:",$)}}),u(S=>({...S,breakpoints:N}))}if(s.watches){const N=s.watches.map((S,$)=>({id:`watch_${$}`,expression:S,value:0,history:[],changed:!1}));u(S=>({...S,watches:N}))}w(s.lessonId||null),C(s.challengeId||null),P(s.lessonTitle||null),D(s.challengeTitle||null),a()}},[s,r,a,q]),m.useEffect(()=>{if(!o||!o.trim()){u(N=>({...N,program:null,executableLines:new Set,error:null}));return}try{Pe.debug("Assembling code");const N=Gh(o),S=Vw(o);u($=>({...$,program:N,executableLines:S,error:null})),Pe.debug("Assembly successful",{instructions:N.ast.length,executableLines:S.size})}catch(N){const S=N instanceof Q?`Line ${N.line}:${N.column}: ${N.message}${N.suggestion?` (${N.suggestion})`:""}`:N instanceof Error?N.message:"Assembly failed";u($=>({...$,program:null,error:S})),Pe.error("Assembly failed:",N)}},[o]),m.useEffect(()=>{if(x){const N=setTimeout(()=>y(null),3e3);return()=>clearTimeout(N)}},[x]);const U=m.useCallback((N,S)=>{L.current=N,G.current=S,S.languages.register({id:"microz-asm"}),S.languages.setMonarchTokensProvider("microz-asm",{tokenizer:{root:[[/;.*$/,"comment"],[/\b(MOV|LOAD|STORE|ADD|SUB|MUL|DIV|INC|DEC|AND|OR|XOR|NOT|SHL|SHR|CMP|JMP|JE|JNE|JNZ|JG|JGE|JL|JLE|JC|JNC|PUSH|POP|CALL|RET|SYS|SYSCALL|HLT|HALT|NOP)\b/i,"keyword"],[/\bR\d+\b|SP|BP|IP/i,"variable.predefined"],[/\b0x[0-9A-Fa-f]+\b|\b0b[01]+\b|\b\d+\b|'.'/,"number"],[/".*?"/,"string"],[/^\s*[A-Za-z_][\w]*\s*:/,"type.identifier"],[/\.(DATA|TEXT|WORD|BYTE|ASCII|ASCIZ|STRING|ALIGN|ORG)\b/i,"keyword.control"]]}}),N.onMouseDown($=>{const I=$.target;if(!I)return;const O=I.type===S.editor.MouseTargetType.GUTTER_GLYPH_MARGIN,ne=I.position?.lineNumber;O&&ne&&(X(ne),$.event?.preventDefault?.())}),N.addCommand(S.KeyCode.F9,()=>{const $=N.getPosition();$&&X($.lineNumber)}),N.addCommand(S.KeyCode.F10,()=>re("over")),N.addCommand(S.KeyCode.F11,()=>re("into")),N.addCommand(S.KeyMod.Shift|S.KeyCode.F11,()=>re("out")),N.addCommand(S.KeyMod.CtrlCmd|S.KeyCode.KeyB,()=>h("registers")),J(),setTimeout(()=>N.layout(),0),Pe.debug("Monaco editor mounted with MicroZ syntax highlighting")},[]),J=m.useCallback(()=>{if(!L.current||!G.current)return;const N=G.current,S=Array.from(c.breakpoints.entries()).map(([$,I])=>({range:new N.Range($,1,$,1),options:{isWholeLine:!0,className:"breakpoint-line",glyphMarginClassName:I.enabled?"breakpoint-glyph":"breakpoint-glyph-disabled",glyphMarginHoverMessage:{value:`Breakpoint at line ${$}`}}}));c.currentLine&&S.push({range:new N.Range(c.currentLine,1,c.currentLine,1),options:{isWholeLine:!0,className:"current-execution-line",glyphMarginClassName:"current-execution-glyph"}}),L.current.deltaDecorations([],S)},[c.breakpoints,c.currentLine]);m.useEffect(()=>{J()},[J]);const X=m.useCallback(N=>{const{line:S,snapped:$}=Fw(N,c.executableLines);$&&(y({line:S,snapped:!0}),Pe.info(`Breakpoint moved to line ${S} (nearest executable)`)),u(I=>{const O=new Map(I.breakpoints);return O.has(S)?O.delete(S):O.set(S,{line:S,enabled:!0}),{...I,breakpoints:O}})},[c.executableLines]),he=m.useCallback(()=>{Pe.debug("Resetting debugger state"),u(N=>{const S=Xs(),$=xi();if(N.program&&N.program.dataSection&&N.program.dataStart!==void 0)for(let I=0;I<N.program.dataSection.length;I++){const O=N.program.dataSection[I];O!==void 0&&$.setUint8(N.program.dataStart+I,O)}return{...N,cpu:S,ram:$,running:!1,currentLine:null,consoleOutput:[],error:null}})},[]),se=(N,S,$,I)=>{const O=N.trim().toUpperCase();if(O.match(/^R\d+$/)){const Z=parseInt(O.slice(1));if(Z>=0&&Z<16)return S.R[Z]??0}if(O==="SP")return S.SP;if(O==="BP")return S.BP;if(O==="IP")return S.IP;const ne=O.match(/^\[(.+)\]$/);if(ne){const Z=ne[1];if(!Z)throw new Error(`Invalid expression: ${N}`);let ie;if(Object.prototype.hasOwnProperty.call(I,Z.toLowerCase()))ie=I[Z.toLowerCase()]??0;else if(/^[A-Z_][A-Z0-9_]*\+\d+$/.test(Z)){const He=Z.split("+"),rt=He[0],jt=He[1];if(!rt||!jt)throw new Error(`Invalid expression: ${N}`);ie=(I[rt.toLowerCase()]??0)+parseInt(jt,10)}else ie=parseInt(Z,Z.startsWith("0X")?16:10),Number.isNaN(ie)&&(ie=parseInt(Z,10));if(Number.isFinite(ie)&&ie>=0&&ie<nn-1)return $.getInt16(ie,!0)}throw new Error(`Invalid expression: ${N}`)},re=m.useCallback(N=>{if(!(!c.program||c.running))try{const S=OC({type:N,count:1});Pe.debug("Stepping",S),u($=>{const I={...$};if(I.cpu.halted)return Pe.warn("Cannot step: CPU halted"),$;try{if(lo(I.cpu,I.program,I.ram,{onSys:O=>{switch(O){case 1:{const ne=`${I.cpu.R[0]}`;return I.consoleOutput=[...I.consoleOutput,ne],ne}case 2:{const ne=I.cpu.R[0];if(ne===void 0)return"";let Z="";for(let ie=0;ie<256&&!(ne+ie>=nn);ie++){const He=I.ram.getUint8(ne+ie);if(He===0)break;Z+=String.fromCharCode(He)}return I.consoleOutput=[...I.consoleOutput,Z],Z}case 3:{const ne=`Exit: ${I.cpu.R[0]}`;return I.consoleOutput=[...I.consoleOutput,ne],ne}default:return""}}}),I.program&&I.cpu.IP<I.program.ast.length){const O=I.program.ast[I.cpu.IP];I.currentLine=O?.line??null}else I.currentLine=null;L.current&&I.currentLine&&L.current.revealLineInCenterIfOutsideViewport(I.currentLine),I.watches=I.watches.map(O=>{try{const ne=se(O.expression,I.cpu,I.ram,I.program?.labels||{}),Z=ne!==O.value;return{...O,value:ne,history:Z?[O.value,...O.history.slice(0,9)]:O.history,changed:Z,error:void 0}}catch(ne){return{...O,error:ne instanceof Error?ne.message:"Evaluation error",changed:!1}}})}catch(O){I.error=O instanceof Q?`Line ${O.line}:${O.column}: ${O.message}`:O instanceof Error?O.message:"Execution error",Pe.error("Step execution failed:",O)}return I})}catch(S){Pe.error("Step validation failed:",S)}},[c.program,c.running]),fe=m.useCallback(()=>{!c.program||c.running||(Pe.debug("Starting execution"),u(N=>({...N,running:!0})),setTimeout(()=>{u(N=>{const S={...N};try{const $=Dw(S.cpu,S.program,S.ram,{maxSteps:1e4,breakpoints:new Set(Array.from(S.breakpoints.keys())),onSys:I=>{switch(I){case 1:{const O=`${S.cpu.R[0]}`;return S.consoleOutput=[...S.consoleOutput,O],O}case 2:{const O=S.cpu.R[0];if(O===void 0)return"";let ne="";for(let Z=0;Z<256&&!(O+Z>=nn);Z++){const ie=S.ram.getUint8(O+Z);if(ie===0)break;ne+=String.fromCharCode(ie)}return S.consoleOutput=[...S.consoleOutput,ne],ne}case 3:{const O=`Exit: ${S.cpu.R[0]}`;return S.consoleOutput=[...S.consoleOutput,O],O}default:return""}}});if(Pe.debug("Execution completed",$),S.program&&S.cpu.IP<S.program.ast.length){const I=S.program.ast[S.cpu.IP];S.currentLine=I?.line??null}else S.currentLine=null;L.current&&S.currentLine&&L.current.revealLineInCenterIfOutsideViewport(S.currentLine)}catch($){S.error=$ instanceof Q?`Line ${$.line}:${$.column}: ${$.message}`:$ instanceof Error?$.message:"Execution error",Pe.error("Execution failed:",$)}return{...S,running:!1}})},10))},[c.program,c.running]),ge=m.useCallback(N=>{const S={id:`watch_${Date.now()}`,expression:N,value:0,history:[],changed:!1};u($=>({...$,watches:[...$.watches,S]}))},[]),we=m.useCallback(N=>{u(S=>({...S,watches:S.watches.filter($=>$.id!==N)}))},[]),Le=m.useCallback(N=>{navigator.clipboard.writeText(String(N))},[]),T=[{id:"registers",label:"Registers",icon:i.jsx(is,{className:"w-4 h-4"})},{id:"memory",label:"Memory",icon:i.jsx(ea,{className:"w-4 h-4"})},{id:"watches",label:"Watches",icon:i.jsx(wn,{className:"w-4 h-4"})},{id:"console",label:"Console",icon:i.jsx(Hd,{className:"w-4 h-4"})},{id:"trace",label:"Trace",icon:i.jsx(qa,{className:"w-4 h-4"})},...b||j?[{id:"hints",label:"Hints",icon:i.jsx(cr,{className:"w-4 h-4"})}]:[]],V=()=>{(b||j)&&(window.dispatchEvent(new CustomEvent("navigate-to-learn",{detail:{lessonId:b,challengeId:j}})),window.dispatchEvent(new CustomEvent("navigate-to-tab",{detail:{tab:"learn"}})))},H=()=>i.jsxs(_e,{className:"h-full",children:[i.jsx(Ie,{title:"MicroZ Assembly Debugger",subtitle:c.program?`${c.program.ast.length} instructions`:"No program loaded",icon:i.jsx(lr,{className:"w-5 h-5"}),actions:i.jsxs("div",{className:"flex items-center space-x-2",children:[(b||j)&&i.jsxs(oe,{variant:"ghost",size:"sm",onClick:V,className:"flex items-center space-x-1",title:`Return to ${R||M||(b?"Lesson":"Challenge")}`,children:[i.jsx(xv,{className:"w-4 h-4"}),i.jsxs("span",{className:"truncate max-w-32",children:["Back to ",b?"Lesson":"Challenge"]})]}),i.jsx($e,{variant:c.cpu.halted?"danger":"success",children:c.cpu.halted?"Halted":"Ready"}),c.running&&i.jsx($e,{variant:"warning",children:"Running"})]})}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[i.jsxs("div",{className:"p-4 border-b border-edge/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(oe,{variant:"accent",size:"sm",onClick:fe,disabled:c.running||!c.program,children:[c.running?i.jsx(Vd,{className:"w-4 h-4"}):i.jsx(An,{className:"w-4 h-4"}),c.running?"Running":"Run"]}),i.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>re("over"),disabled:c.running||c.cpu.halted,title:"Step Over",children:i.jsx(Zd,{className:"w-4 h-4"})}),i.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>re("into"),disabled:c.running||c.cpu.halted,title:"Step Into",children:i.jsx(Ud,{className:"w-4 h-4"})}),i.jsxs(oe,{variant:"ghost",size:"sm",onClick:he,title:"Reset",children:[i.jsx(Fd,{className:"w-4 h-4"}),"Reset"]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"appearance-none bg-bg border border-edge/50 rounded-lg px-3 py-2 pr-8 text-sm text-slate-200 hover:border-accent/50 focus:border-accent focus:outline-none cursor-pointer",onChange:N=>{N.target.value&&(l(DC[N.target.value]),N.target.value="")},defaultValue:"",children:[i.jsx("option",{value:"",disabled:!0,className:"bg-bg text-slate-400",children:"Load Example"}),i.jsx("option",{value:"showcase.asm",className:"bg-bg text-slate-200",children:"Complete Showcase"}),i.jsx("option",{value:"extensive-showcase.asm",className:"bg-bg text-slate-200",children:"Extensive Showcase"}),i.jsx("option",{value:"factorial.asm",className:"bg-bg text-slate-200",children:"Factorial"})]}),i.jsx(Tn,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),i.jsx(nw,{speed:p,onSpeedChange:f,isRunning:c.running,batchSize:g,onBatchSizeChange:v})]}),c.error&&i.jsx("div",{className:"p-3 bg-danger/20 border border-danger/50 rounded-lg text-danger text-sm",children:c.error}),x&&i.jsxs("div",{className:"p-3 bg-accent/20 border border-accent/50 rounded-lg text-accent text-sm flex items-center",children:[i.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Breakpoint moved to line ",x.line," (nearest executable)"]})]}),i.jsx("div",{className:"flex-1 min-h-[320px]","data-testid":"code-editor",style:{height:"65vh"},children:i.jsx(zC,{value:o,onChange:l,language:"microz-asm",theme:n,onMount:U,options:{readOnly:t,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,lineNumbers:"on",glyphMargin:!0,folding:!1,automaticLayout:!0}})})]})]}),F=()=>i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"p-3 border-b border-edge/50",children:i.jsx(Er,{tabs:T,activeTab:d,onTabChange:h,className:"flex-wrap gap-1"})}),i.jsxs("div",{className:"flex-1 min-h-0",children:[d==="registers"&&i.jsx("div",{className:"h-full overflow-y-auto",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"General Purpose (R0-R15)"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:Array.from({length:16},(N,S)=>i.jsxs("div",{className:"flex justify-between items-center p-2 bg-edge/30 rounded",children:[i.jsxs("span",{className:"font-mono text-accent",children:["R",S]}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:"font-mono text-slate-200 text-sm",children:["0x",(c.cpu.R[S]??0).toString(16).padStart(4,"0").toUpperCase()]}),i.jsx("span",{className:"font-mono text-slate-400 text-xs",children:c.cpu.R[S]??0})]})]},S))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"Special"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center p-2 bg-edge/30 rounded",children:[i.jsx("span",{className:"font-mono text-accent",children:"SP"}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:"font-mono text-slate-200 text-sm",children:["0x",c.cpu.SP.toString(16).padStart(4,"0").toUpperCase()]}),i.jsx("span",{className:"font-mono text-slate-400 text-xs",children:c.cpu.SP})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-edge/30 rounded",children:[i.jsx("span",{className:"font-mono text-accent",children:"BP"}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:"font-mono text-slate-200 text-sm",children:["0x",c.cpu.BP.toString(16).padStart(4,"0").toUpperCase()]}),i.jsx("span",{className:"font-mono text-slate-400 text-xs",children:c.cpu.BP})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-edge/30 rounded",children:[i.jsx("span",{className:"font-mono text-accent",children:"IP"}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx("span",{className:"font-mono text-slate-200 text-sm",children:c.cpu.IP}),i.jsx("span",{className:"font-mono text-slate-400 text-xs",children:"instruction"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"Flags"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(c.cpu.F).map(([N,S])=>i.jsxs("div",{className:"flex justify-between p-2 bg-edge/30 rounded",children:[i.jsx("span",{className:"font-mono text-accent",children:N}),i.jsx("span",{className:`font-mono ${S?"text-ok":"text-slate-500"}`,children:S?"1":"0"})]},N))})]})]})}),d==="memory"&&i.jsx(Q1,{ram:c.ram,currentSP:c.cpu.SP,symbols:c.program?.labels||{}}),d==="watches"&&i.jsx(ew,{watches:c.watches,onAddWatch:ge,onRemoveWatch:we,onToggleWatchpoint:()=>{},onCopyValue:Le}),d==="console"&&i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"h-64 bg-bg/50 border border-edge/50 rounded-lg p-3 font-mono text-sm overflow-y-auto",children:c.consoleOutput.length===0?i.jsx("div",{className:"text-slate-400 italic",children:"No output"}):c.consoleOutput.map((N,S)=>i.jsx("div",{className:"text-slate-200",children:N},S))})}),d==="trace"&&i.jsx(tw,{isRecording:!1,trace:[],currentIndex:-1,maxEntries:1024,onToggleRecording:()=>{},onStepBack:()=>{},onClearTrace:()=>{},onJumpToTrace:()=>{}}),d==="hints"&&(b||j)&&i.jsx("div",{className:"h-full overflow-y-auto p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-accent/10 border border-accent/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-accent font-medium mb-2 flex items-center",children:[i.jsx(lr,{className:"w-4 h-4 mr-2"}),"Debugging Tips"]}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[i.jsx("p",{children:"• Use breakpoints to pause execution at specific lines"}),i.jsx("p",{children:"• Watch key registers and memory locations"}),i.jsx("p",{children:"• Step through code line by line to understand flow"}),i.jsx("p",{children:"• Check flags after arithmetic operations"})]})]}),b&&i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-blue-400 font-medium mb-2",children:["Lesson Context: ",R||"Interactive Lesson"]}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[i.jsx("p",{children:"• This code demonstrates key assembly concepts"}),i.jsx("p",{children:"• Try modifying values and see how they affect execution"}),i.jsx("p",{children:"• Pay attention to how registers change over time"}),i.jsx("p",{children:"• Use the watches panel to track important values"})]})]}),j&&i.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-orange-400 font-medium mb-2",children:["Challenge: ",M||"Programming Challenge"]}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[i.jsx("p",{children:"• Debug your solution step by step"}),i.jsx("p",{children:"• Check if your algorithm produces expected results"}),i.jsx("p",{children:"• Verify edge cases and boundary conditions"}),i.jsx("p",{children:"• Make sure your code handles all test scenarios"})]})]}),i.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/50 rounded-lg p-4",children:[i.jsx("h3",{className:"text-slate-300 font-medium mb-2",children:"Common Issues"}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-400",children:[i.jsxs("p",{children:["• ",i.jsx("strong",{children:"Infinite loops:"})," Check your loop conditions"]}),i.jsxs("p",{children:["• ",i.jsx("strong",{children:"Wrong results:"})," Verify your arithmetic logic"]}),i.jsxs("p",{children:["• ",i.jsx("strong",{children:"Memory errors:"})," Check array bounds and pointers"]}),i.jsxs("p",{children:["• ",i.jsx("strong",{children:"Stack issues:"})," Balance PUSH/POP operations"]})]})]})]})})]})]});return i.jsx("div",{className:"h-[calc(100vh-140px)] min-h-[500px]","data-testid":"debugger-container",children:i.jsx(Ws,{fallback:i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-6xl",children:"⚠️"}),i.jsx("h3",{className:"text-lg font-medium text-slate-200",children:"Debugger Error"}),i.jsx("p",{className:"text-slate-400",children:"The debugger encountered an error. Try refreshing the page."}),i.jsx(oe,{onClick:()=>window.location.reload(),children:"Reset Debugger"})]})}),children:i.jsx(Tw,{debuggerPanel:F(),onLayoutChange:N=>{Pe.debug("Layout changed:",N)},children:H()})})})},zC=({value:e="",onChange:t,language:n="plaintext",theme:s="vs-dark",onMount:r,options:a={},height:o="100%"})=>{const l=m.useRef(null),c=m.useRef(null),[u,d]=m.useState(null);return m.useEffect(()=>{(async()=>{try{const p=await Of(()=>import("./monaco-DJY3YVZ8.js").then(f=>f.e),__vite__mapDeps([0,1]));d(p)}catch(p){Pe.error("Failed to load Monaco:",p)}})()},[]),m.useEffect(()=>{const h=l.current?.parentElement||void 0;if(!h)return;const p=new ResizeObserver(()=>{c.current&&c.current.layout()});p.observe(h);const f=()=>{c.current&&c.current.layout()};return window.addEventListener("resize",f),()=>{p.disconnect(),window.removeEventListener("resize",f)}},[]),m.useEffect(()=>{if(!u||!l.current||c.current)return;const h=s==="dark"?"vs-dark":s==="light"?"vs":"vs-dark",p=u.editor.create(l.current,{value:e??"",language:n,theme:h,automaticLayout:!0,...a});return c.current=p,p.onDidChangeModelContent(()=>{t(p.getValue()??"")}),r(p,u),setTimeout(()=>p.layout(),0),()=>{p.dispose(),c.current=null}},[u,r]),m.useEffect(()=>{c.current&&e!==void 0&&e!==c.current.getValue()&&c.current.setValue(e)},[e]),i.jsx("div",{ref:l,className:"h-full",style:{height:typeof o=="number"?`${o}px`:o,minHeight:320}})};async function VC(e,t){try{const n=Gh(e),s=Xs(),r=new Uint8Array(nn),a=new DataView(r.buffer);for(let d=0;d<n.dataSection.length;d++)r[d]=n.dataSection[d];let o=0;const l=t.maxSteps||1e4;for(;!s.halted&&o<l;)try{lo(s,n,a,{onSys:d=>{switch(d){case 1:return`${s.R[0]}`;case 2:return`String at ${s.R[1]}`;case 3:return s.halted=!0,`Exit: ${s.R[0]}`;default:return""}}}),o++}catch(d){return{passed:!1,results:[],error:d instanceof Error?d.message:"Runtime error during execution",steps:o}}if(o>=l)return{passed:!1,results:[],error:`Execution exceeded maximum steps (${l})`,steps:o};const c=[];let u=!0;for(let d=0;d<t.asserts.length;d++){const h=t.asserts[d],p={id:`assert_${d}`,ok:!1,got:null,expected:h.equals};try{if(h.type==="register"){const f=(h.register||h.reg).toUpperCase();let g;if(f.startsWith("R")&&f.length===2){const x=parseInt(f[1]);if(x>=0&&x<=7)g=s.R[x];else throw new Error(`Invalid register: ${f}`)}else if(f==="SP")g=s.SP;else if(f==="BP")g=s.BP;else if(f==="IP")g=s.IP;else throw new Error(`Unknown register: ${f}`);p.got=g;const v=h.value!==void 0?h.value:h.equals;p.expected=v,p.ok=g===v,p.ok||(p.detail=h.description||`Expected ${f}=${v}, got ${g}`)}else if(h.type==="registerIn"){const f=h.reg.toUpperCase();let g;if(f.startsWith("R")&&f.length===2){const v=parseInt(f[1]);if(v>=0&&v<=7)g=s.R[v];else throw new Error(`Invalid register: ${f}`)}else if(f==="SP")g=s.SP;else if(f==="BP")g=s.BP;else if(f==="IP")g=s.IP;else throw new Error(`Unknown register: ${f}`);p.got=g,p.ok=g>=h.min&&g<=h.max,p.ok||(p.detail=`Expected ${f} in range [${h.min}, ${h.max}], got ${g}`)}else if(h.type==="memory"){let f;if(h.address!==void 0)f=h.address;else if(typeof h.addr=="number")f=h.addr;else if(typeof h.addr=="string")f=Hc(h.addr,n.labels);else throw new Error("Invalid address specification");if(f<0||f>=nn-3)throw new Error(`Address out of bounds: ${f}`);const g=a.getInt16(f,!0);p.got=g;const v=h.value!==void 0?h.value:h.equals;p.expected=v,p.ok=g===v,p.ok||(p.detail=h.description||`Expected memory[${f}]=${v}, got ${g}`)}else if(h.type==="memoryEqualsRange"){let f;if(typeof h.addr=="number")f=h.addr;else if(typeof h.addr=="string")f=Hc(h.addr,n.labels);else throw new Error("Invalid address specification");if(f<0||f>=nn-h.range.length*4)throw new Error(`Address range out of bounds: ${f}`);const g=h.range,v=[];let x=!0;for(let y=0;y<g.length;y++){const b=a.getInt32(f+y*4,!0);v.push(b),b!==g[y]&&(x=!1)}p.got=v,p.expected=g,p.ok=x,p.ok||(p.detail=`Expected memory range [${g.join(", ")}], got [${v.join(", ")}]`)}}catch(f){p.ok=!1,p.detail=f instanceof Error?f.message:"Assertion evaluation error",p.got="ERROR"}c.push(p),p.ok||(u=!1)}return{passed:u,results:c,steps:o}}catch(n){return n instanceof Q?{passed:!1,results:[],error:`Assembly error on line ${n.line}: ${n.message}`,steps:0}:{passed:!1,results:[],error:n instanceof Error?n.message:"Unknown error",steps:0}}}function Hc(e,t){const n=e.trim();if(/^\d+$/.test(n))return parseInt(n,10);if(/^0x[0-9a-f]+$/i.test(n))return parseInt(n,16);const s=n.match(/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\+\s*(\d+)$/);if(s){const a=s[1].toLowerCase(),o=parseInt(s[2],10);if(t[a]!==void 0)return t[a]+o;throw new Error(`Unknown label: ${a}`)}const r=n.toLowerCase();if(t[r]!==void 0)return t[r];throw new Error(`Cannot resolve address: ${n}`)}async function FC(){try{const e=await fetch("/asm_challenges.json");if(!e.ok)throw new Error(`Failed to load challenges: ${e.statusText}`);const t=await e.json(),n={beginner:t.beginner||[],intermediate:t.intermediate||[],advanced:t.advanced||[],expert:t.expert||[]};return console.log("Loaded challenges:",n),n}catch(e){return console.error("Error loading challenges:",e),{beginner:[],intermediate:[],advanced:[],expert:[]}}}async function BC(){try{const e=await fetch("/asm_lessons.json");if(!e.ok)throw new Error(`Failed to load lessons: ${e.statusText}`);return(await e.json()).lessons}catch(e){return console.error("Error loading lessons:",e),[]}}function Mf(){try{const e=localStorage.getItem("asmplay_completions");return e?JSON.parse(e):{}}catch{return{}}}function Wc(e){try{const t=Mf();t[e]=!0,localStorage.setItem("asmplay_completions",JSON.stringify(t))}catch(t){console.error("Failed to save completion:",t)}}function UC(){try{localStorage.removeItem("asmplay_completions"),localStorage.removeItem("asmplay_quiz_answers"),console.log("All progress cleared - starting fresh!")}catch(e){console.error("Failed to clear progress:",e)}}function ZC(){const e=document.createElement("div");e.className="confetti-container",e.innerHTML=`
    <div class="confetti">🎉</div>
    <div class="confetti">🎊</div>
    <div class="confetti">✨</div>
    <div class="confetti">🌟</div>
    <div class="confetti">🎈</div>
    <div class="confetti">🚀</div>
    <div class="confetti">💎</div>
    <div class="confetti">🔥</div>
    <div class="confetti">⚡</div>
    <div class="confetti">🏆</div>
  `;const t=document.createElement("style");t.textContent=`
    .confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
    }
    .confetti {
      position: absolute;
      font-size: 2rem;
      animation: confetti-fall 4s ease-out forwards;
    }
    .confetti:nth-child(1) { left: 5%; animation-delay: 0s; }
    .confetti:nth-child(2) { left: 15%; animation-delay: 0.2s; }
    .confetti:nth-child(3) { left: 25%; animation-delay: 0.4s; }
    .confetti:nth-child(4) { left: 35%; animation-delay: 0.6s; }
    .confetti:nth-child(5) { left: 45%; animation-delay: 0.8s; }
    .confetti:nth-child(6) { left: 55%; animation-delay: 1s; }
    .confetti:nth-child(7) { left: 65%; animation-delay: 1.2s; }
    .confetti:nth-child(8) { left: 75%; animation-delay: 1.4s; }
    .confetti:nth-child(9) { left: 85%; animation-delay: 1.6s; }
    .confetti:nth-child(10) { left: 95%; animation-delay: 1.8s; }
    
    @keyframes confetti-fall {
      0% {
        top: -10%;
        transform: rotate(0deg) scale(1);
        opacity: 1;
      }
      50% {
        transform: rotate(180deg) scale(1.2);
        opacity: 1;
      }
      100% {
        top: 110%;
        transform: rotate(360deg) scale(0.8);
        opacity: 0;
      }
    }
  `,document.head.appendChild(t),document.body.appendChild(e),setTimeout(()=>{document.body.removeChild(e),document.head.removeChild(t)},5e3)}const tt=({children:e,className:t})=>i.jsx("div",{className:yt("min-h-0 h-full overflow-y-auto overscroll-contain","rounded-lg shadow-[inset_0_0_0_1px_rgba(110,243,255,.15)]",!t?.includes("p-")&&!t?.includes("px-")&&!t?.includes("py-")?"p-4":"",t),style:{flex:"1 1 0%",minHeight:0},children:e}),HC=({value:e,onChange:t,onRun:n,isRunning:s=!1,title:r="MICROZLABOK ASSEMBLY TERMINAL",className:a=""})=>{const[o,l]=m.useState(!0),[c,u]=m.useState(new Date),[d,h]=m.useState(0),[p,f]=m.useState(0),g=m.useRef(null),[v,x]=m.useState(!0);m.useEffect(()=>{const b=setTimeout(()=>l(!1),2e3),w=setInterval(()=>u(new Date),1e3),j=setInterval(()=>{h(Math.random()*100),f(30+Math.random()*40)},2e3),C=setInterval(()=>{x(R=>!R)},530);return()=>{clearTimeout(b),clearInterval(w),clearInterval(j),clearInterval(C)}},[]);const y=b=>{b.ctrlKey&&b.key==="Enter"&&(b.preventDefault(),n?.())};return o?i.jsx("div",{className:`retro-terminal-container ${a}`,children:i.jsx(WC,{})}):i.jsxs("div",{className:`retro-terminal-container ${a}`,children:[i.jsx("style",{jsx:!0,children:`
        .retro-terminal-container {
          background: #000;
          border: 3px solid #00ff00;
          border-radius: 8px;
          font-family: 'Courier New', monospace;
          position: relative;
          overflow: hidden;
          box-shadow: 
            0 0 20px #00ff00,
            inset 0 0 20px rgba(0, 255, 0, 0.1);
        }
        
        .terminal-header {
          background: linear-gradient(90deg, #003300, #006600);
          color: #00ff00;
          padding: 8px 16px;
          font-size: 14px;
          font-weight: bold;
          border-bottom: 2px solid #00ff00;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .terminal-stats {
          display: flex;
          gap: 16px;
          font-size: 12px;
        }
        
        .stat-item {
          display: flex;
          align-items: center;
          gap: 4px;
        }
        
        .terminal-body {
          background: #000;
          color: #00ff00;
          min-height: 400px;
          position: relative;
        }
        
        .terminal-textarea {
          width: 100%;
          height: 100%;
          min-height: 400px;
          background: transparent;
          border: none;
          outline: none;
          color: #00ff00;
          font-family: 'Courier New', monospace;
          font-size: 14px;
          line-height: 1.4;
          padding: 16px;
          resize: none;
          caret-color: #00ff00;
        }
        
        .terminal-textarea::selection {
          background: #00ff00;
          color: #000;
        }
        
        .scanlines {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 0, 0.03) 2px,
            rgba(0, 255, 0, 0.03) 4px
          );
          pointer-events: none;
        }
        
        .screen-flicker {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 255, 0, 0.02);
          animation: flicker 0.15s infinite linear alternate;
          pointer-events: none;
        }
        
        @keyframes flicker {
          0% { opacity: 1; }
          100% { opacity: 0.98; }
        }
        
        .terminal-prompt {
          position: absolute;
          bottom: 16px;
          left: 16px;
          right: 16px;
          color: #00ff00;
          font-size: 14px;
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .cursor {
          width: 8px;
          height: 16px;
          background: #00ff00;
          animation: none;
          opacity: ${v?1:0};
        }
        
        .run-button {
          position: absolute;
          top: 8px;
          right: 16px;
          background: linear-gradient(45deg, #ff6b00, #ff8500);
          border: 2px solid #ff6b00;
          color: white;
          padding: 8px 16px;
          border-radius: 4px;
          font-family: 'Courier New', monospace;
          font-weight: bold;
          cursor: pointer;
          transition: all 0.2s;
          box-shadow: 0 0 10px rgba(255, 107, 0, 0.5);
        }
        
        .run-button:hover {
          background: linear-gradient(45deg, #ff8500, #ffa500);
          box-shadow: 0 0 20px rgba(255, 107, 0, 0.8);
          transform: translateY(-1px);
        }
        
        .run-button:active {
          transform: translateY(0);
        }
        
        .run-button.running {
          background: linear-gradient(45deg, #00ff00, #00cc00);
          border-color: #00ff00;
          animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
          0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 0, 0.5); }
          50% { box-shadow: 0 0 30px rgba(0, 255, 0, 1); }
        }
      `}),i.jsxs("div",{className:"terminal-header",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Hd,{className:"w-4 h-4"}),i.jsx("span",{children:r})]}),i.jsxs("div",{className:"terminal-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx(zt,{className:"w-3 h-3"}),i.jsxs("span",{children:["CPU: ",d.toFixed(1),"%"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx(qa,{className:"w-3 h-3"}),i.jsxs("span",{children:["MEM: ",p.toFixed(1),"%"]})]}),i.jsx("div",{className:"stat-item",children:i.jsx("span",{children:c.toLocaleTimeString()})})]})]}),i.jsxs("div",{className:"terminal-body",children:[i.jsx("textarea",{ref:g,className:"terminal-textarea",value:e,onChange:b=>t(b.target.value),onKeyDown:y,placeholder:"; Enter your assembly code here...\\n; Press Ctrl+Enter to execute\\n\\nMOV R0, #42\\nHALT",spellCheck:!1}),n&&i.jsx("button",{className:`run-button ${s?"running":""}`,onClick:n,disabled:s,children:s?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"w-4 h-4 inline mr-1"}),"EXECUTING..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"w-4 h-4 inline mr-1"}),"RUN [CTRL+ENTER]"]})}),i.jsx("div",{className:"scanlines"}),i.jsx("div",{className:"screen-flicker"})]})]})},WC=()=>{const[e,t]=m.useState(0),n=["MICROZLABOK ASSEMBLY SYSTEM v2.0","Initializing CPU cores...","Loading instruction set...","Mounting memory banks...","Starting debugger interface...","System ready. Welcome, Assembly Master!"];return m.useEffect(()=>{const s=setInterval(()=>{t(r=>r<n.length-1?r+1:r)},300);return()=>clearInterval(s)},[]),i.jsxs("div",{className:"boot-sequence",children:[i.jsx("style",{jsx:!0,children:`
        .boot-sequence {
          background: #000;
          color: #00ff00;
          font-family: 'Courier New', monospace;
          padding: 20px;
          min-height: 400px;
          display: flex;
          flex-direction: column;
          justify-content: center;
        }
        
        .boot-line {
          margin: 4px 0;
          font-size: 14px;
        }
        
        .cursor-blink {
          animation: blink 1s infinite;
        }
        
        @keyframes blink {
          0%, 50% { opacity: 1; }
          51%, 100% { opacity: 0; }
        }
      `}),n.slice(0,e+1).map((s,r)=>i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"boot-line",children:["> ",s,r===e&&i.jsx("span",{className:"cursor-blink",children:"_"})]},r))]})},GC=({isActive:e=!1})=>{const[t,n]=m.useState([]);return m.useEffect(()=>{if(!e)return;const s="01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン",r=Array.from({length:20},(a,o)=>({id:o,x:Math.random()*100,chars:Array.from({length:15},()=>s[Math.floor(Math.random()*s.length)])}));n(r)},[e]),e?i.jsx("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:t.map(s=>i.jsx(E.div,{className:"absolute text-green-400 font-mono text-sm opacity-30",style:{left:`${s.x}%`},initial:{y:-100},animate:{y:"100vh"},transition:{duration:3+Math.random()*2,repeat:1/0,ease:"linear"},children:s.chars.map((r,a)=>i.jsx("div",{className:"leading-4",children:r},a))},s.id))}):null},qt=({children:e,className:t=""})=>i.jsxs("div",{className:`relative ${t}`,children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500 rounded-lg blur-sm opacity-30 animate-pulse"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500 rounded-lg opacity-20",style:{background:"linear-gradient(45deg, #00ffff, #ff00ff, #ffff00, #00ffff)",backgroundSize:"400% 400%",animation:"holographic 3s ease-in-out infinite"}}),i.jsx("div",{className:"relative bg-slate-900/90 backdrop-blur-sm rounded-lg border border-cyan-500/30",children:e}),i.jsx("style",{jsx:!0,children:`
      @keyframes holographic {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }
    `})]}),Us=({isActive:e=!1,type:t="magic",intensity:n=1,className:s=""})=>{const[r,a]=m.useState([]);return m.useEffect(()=>{if(!e)return;const l={success:{colors:["#10B981","#34D399","#6EE7B7","#ECFDF5"],emojis:["✨","🌟","💫","⭐","🎉","🎊"],count:Math.floor(30*n)},error:{colors:["#EF4444","#F87171","#FCA5A5","#FEF2F2"],emojis:["💥","⚡","🔥","💢"],count:Math.floor(25*n)},magic:{colors:["#8B5CF6","#A78BFA","#C4B5FD","#DDD6FE","#00FFFF","#FF00FF"],emojis:["✨","🌟","💫","🔮","🎭","🌈","💎"],count:Math.floor(40*n)}}[t],c=Array.from({length:l.count},(u,d)=>({id:d,x:Math.random()*100,y:Math.random()*100,color:l.colors[Math.floor(Math.random()*l.colors.length)],size:.5+Math.random()*1.5,emoji:Math.random()>.7?l.emojis[Math.floor(Math.random()*l.emojis.length)]:void 0}));a(c)},[e,t,n]),e?i.jsx("div",{className:`fixed inset-0 pointer-events-none z-10 ${s}`,children:r.map(o=>i.jsx(E.div,{className:"absolute",style:{left:`${o.x}%`,top:`${o.y}%`},initial:{scale:0,opacity:0,rotate:0},animate:{scale:[0,o.size,0],opacity:[0,1,0],y:[0,-100-Math.random()*100],x:[0,(Math.random()-.5)*100],rotate:[0,360+Math.random()*360]},transition:{duration:2+Math.random()*2,repeat:1/0,delay:Math.random()*3,ease:"easeOut"},children:o.emoji?i.jsx("span",{className:"text-2xl",children:o.emoji}):i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color,boxShadow:`0 0 20px ${o.color}, 0 0 40px ${o.color}40`}})},o.id))}):null},Qs=({text:e,className:t="",glitchIntensity:n=.3})=>{const[s,r]=m.useState(!1);return m.useEffect(()=>{const a=setInterval(()=>{Math.random()<n&&(r(!0),setTimeout(()=>r(!1),150))},2e3);return()=>clearInterval(a)},[n]),i.jsxs("div",{className:`relative inline-block ${t}`,children:[s&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 text-red-500 opacity-70",style:{transform:"translate(-2px, 0)",clipPath:"polygon(0 0, 100% 0, 100% 45%, 0 45%)",animation:"glitch-1 0.15s infinite"},children:e}),i.jsx("div",{className:"absolute inset-0 text-cyan-500 opacity-70",style:{transform:"translate(2px, 0)",clipPath:"polygon(0 55%, 100% 55%, 100% 100%, 0 100%)",animation:"glitch-2 0.15s infinite"},children:e})]}),i.jsx("div",{className:"relative z-10",children:e}),i.jsx("style",{jsx:!0,children:`
        @keyframes glitch-1 {
          0%, 100% { transform: translate(-2px, 0); }
          20% { transform: translate(2px, 0); }
          40% { transform: translate(-2px, 0); }
          60% { transform: translate(2px, 0); }
          80% { transform: translate(-2px, 0); }
        }
        @keyframes glitch-2 {
          0%, 100% { transform: translate(2px, 0); }
          20% { transform: translate(-2px, 0); }
          40% { transform: translate(2px, 0); }
          60% { transform: translate(-2px, 0); }
          80% { transform: translate(2px, 0); }
        }
      `})]})},JC=({isVisible:e,progress:t,title:n,onComplete:s})=>{const[r,a]=m.useState(!1);return m.useEffect(()=>{if(e&&t===100){a(!0);const o=setTimeout(()=>{a(!1),s?.()},3e3);return()=>clearTimeout(o)}},[e,t,s]),e?i.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl border border-accent/50 p-8 max-w-md w-full mx-4 text-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/10 via-accent2/10 to-accent/10 animate-pulse"}),i.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.6,delay:.2},className:"relative z-10",children:[i.jsx("div",{className:"text-6xl mb-4",children:t===100?"🏆":"📚"}),i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-accent to-accent2 bg-clip-text text-transparent mb-4",children:t===100?"Lesson Mastered!":"Great Progress!"}),i.jsx("div",{className:"text-lg text-slate-300 mb-6",children:n}),i.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4 mb-4 overflow-hidden",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:2,ease:"easeOut"},className:"h-4 bg-gradient-to-r from-accent via-accent2 to-accent rounded-full relative",children:i.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),i.jsxs("div",{className:"text-3xl font-bold text-accent mb-2",children:[t,"%"]}),t===100&&i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"text-slate-400",children:"You've completed all requirements! 🎉"})]}),r&&i.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:12},(o,l)=>i.jsx(E.div,{className:"absolute text-2xl",initial:{x:"50%",y:"50%",scale:0},animate:{x:`${50+Math.cos(l*30*Math.PI/180)*40}%`,y:`${50+Math.sin(l*30*Math.PI/180)*40}%`,scale:[0,1.5,0],rotate:[0,360]},transition:{duration:2,delay:l*.1,ease:"easeOut"},children:["🎉","🎊","✨","🌟","💫","⭐"][l%6]},l))})]})}):null},Gc=({code:e,language:t="assembly"})=>{const n=s=>{const r=["MOV","ADD","SUB","MUL","DIV","JMP","JE","JNE","CMP","HALT","PUSH","POP","CALL","RET"],a=["R0","R1","R2","R3","R4","R5","R6","R7","SP","BP","IP"];let o=s;return r.forEach(l=>{o=o.replace(new RegExp(`\\b${l}\\b`,"g"),`<span class="text-cyan-400 font-bold glow-cyan">${l}</span>`)}),a.forEach(l=>{o=o.replace(new RegExp(`\\b${l}\\b`,"g"),`<span class="text-purple-400 font-bold glow-purple">${l}</span>`)}),o=o.replace(/#?\b\d+\b/g,'<span class="text-green-400 glow-green">$&</span>'),o=o.replace(/;.*$/gm,'<span class="text-gray-500 italic">$&</span>'),o};return i.jsxs("div",{className:"relative bg-black/80 rounded-lg border border-cyan-500/30 p-4 font-mono text-sm overflow-x-auto",children:[i.jsx("style",{jsx:!0,children:`
        .glow-cyan { text-shadow: 0 0 10px #00ffff; }
        .glow-purple { text-shadow: 0 0 10px #8b5cf6; }
        .glow-green { text-shadow: 0 0 10px #10b981; }
      `}),i.jsx("pre",{className:"text-gray-300",dangerouslySetInnerHTML:{__html:n(e)}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-transparent to-purple-500/5 pointer-events-none"})]})},KC=({isVisible:e,title:t,description:n,icon:s,onClose:r})=>(m.useEffect(()=>{if(e){const a=setTimeout(r,4e3);return()=>clearTimeout(a)}},[e,r]),i.jsx(Dt,{children:e&&i.jsx(E.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},className:"fixed top-4 right-4 z-50",children:i.jsx(qt,{children:i.jsxs("div",{className:"p-4 min-w-[300px]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"text-3xl animate-bounce",children:s}),i.jsxs("div",{children:[i.jsx("div",{className:"text-yellow-400 font-bold text-lg",children:"Achievement Unlocked!"}),i.jsx("div",{className:"text-cyan-400 font-semibold",children:t})]})]}),i.jsx("div",{className:"text-gray-300 text-sm",children:n})]})})})})),qC=({challenge:e,userCode:t,attempts:n,onHintUsed:s})=>{const[r,a]=m.useState(!1),[o,l]=m.useState(null),[c,u]=m.useState(0),[d,h]=m.useState("mentor"),p={mentor:{name:"Professor Assembly",icon:"🎓",style:"wise and encouraging",prefix:"Let me guide you, young programmer..."},hacker:{name:"CyberGhost",icon:"👻",style:"mysterious and cool",prefix:"Listen up, code warrior..."},robot:{name:"ASMBOT-3000",icon:"🤖",style:"logical and precise",prefix:"ANALYZING... SUGGESTION COMPUTED..."},wizard:{name:"CodeWizard",icon:"🧙‍♂️",style:"magical and mystical",prefix:"The ancient assembly spirits whisper..."}},f=()=>{a(!0),setTimeout(()=>{const j=g(),C=j[Math.min(c,j.length-1)];l(C),u(R=>R+1),s(C),a(!1)},2e3)},g=()=>{const j=v(t);return[...e.hints||[],...x(j),...y(n)]},v=j=>({hasMovInstructions:/MOV/i.test(j),hasLoops:/JNZ|JZ|JMP/i.test(j),hasArithmetic:/ADD|SUB|MUL|DIV/i.test(j),hasMemoryOps:/STORE|LOAD/i.test(j),hasStackOps:/PUSH|POP/i.test(j),hasHalt:/HALT/i.test(j),lineCount:j.split(`
`).length,isEmpty:j.trim().length===0}),x=j=>{const C=[];return j.isEmpty&&C.push("🚀 Start by writing your first instruction! Every great program begins with a single line."),j.hasHalt||C.push("⚠️ Don't forget to end your program with HALT - it's like the period at the end of a sentence!"),e.category==="Arithmetic"&&!j.hasArithmetic&&C.push("🧮 This challenge needs arithmetic operations. Try ADD, SUB, MUL, or DIV instructions!"),e.category==="Memory Operations"&&!j.hasMemoryOps&&C.push("💾 You'll need to work with memory here. Use STORE to save data and LOAD to retrieve it!"),e.category==="Control Flow"&&!j.hasLoops&&C.push("🔄 This challenge requires control flow. Use JMP, JNZ, or conditional jumps to control execution!"),C},y=j=>{const C=[];return j>3&&C.push("🎯 You're getting close! Try breaking down the problem into smaller steps."),j>5&&C.push("💡 Sometimes stepping away and coming back with fresh eyes helps. You've got this!"),j>8&&C.push("🔥 Persistence is key in programming! Every expert was once a beginner who never gave up."),C},b=()=>{const j=Object.keys(p),R=(j.indexOf(d)+1)%j.length,P=j[R];P&&h(P)},w=p[d];return i.jsx(qt,{className:"mb-4",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(E.div,{animate:{rotate:r?360:0},transition:{duration:2,repeat:r?1/0:0},children:i.jsx(Nv,{className:"w-6 h-6 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-purple-300",children:"AI Hint System"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[i.jsx("span",{children:w.icon}),i.jsx(Qs,{text:w.name})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"px-3 py-1 bg-purple-600/20 border border-purple-500/30 rounded text-purple-300 text-sm hover:bg-purple-600/30 transition-colors",children:"Switch AI"}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:r,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:r?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(cr,{className:"w-4 h-4"}),"Get Smart Hint"]})})]})]}),i.jsx(Dt,{children:r&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4",children:i.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(j=>i.jsx(E.div,{className:"w-2 h-2 bg-purple-400 rounded-full",animate:{scale:[1,1.5,1]},transition:{duration:1,repeat:1/0,delay:j*.2}},j))}),i.jsx("span",{className:"text-purple-300 font-medium",children:"AI is analyzing your code..."})]}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"→ Parsing assembly syntax..."}),i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:"→ Analyzing instruction patterns..."}),i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},children:"→ Generating personalized hint..."})]})]})})}),i.jsx(Dt,{children:o&&!r&&i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"text-2xl",children:w.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-purple-300 font-medium mb-1",children:w.prefix}),i.jsx("div",{className:"text-gray-300 leading-relaxed",children:o})]})]}),i.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-gray-500",children:["Hint Level: ",c," | Attempts: ",n]}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(null),className:"text-xs text-purple-400 hover:text-purple-300 transition-colors",children:"Dismiss"})]})]})}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-cyan-900/20 border border-cyan-500/30 rounded p-2 text-center",children:[i.jsx(ht,{className:"w-4 h-4 text-cyan-400 mx-auto mb-1"}),i.jsx("div",{className:"text-xs text-cyan-300",children:"Challenge Focus"}),i.jsx("div",{className:"text-xs text-gray-400",children:e.category})]}),i.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded p-2 text-center",children:[i.jsx(ps,{className:"w-4 h-4 text-green-400 mx-auto mb-1"}),i.jsx("div",{className:"text-xs text-green-300",children:"Difficulty"}),i.jsx("div",{className:"text-xs text-gray-400",children:e.difficulty})]})]})]})})},YC=({type:e,data:t,isActive:n=!1})=>{const[s,r]=m.useState(0);m.useEffect(()=>{if(n){const o=setInterval(()=>{r(l=>(l+1)%10)},1e3);return()=>clearInterval(o)}},[n]);const a=()=>{switch(e){case"arithmetic_steps":return i.jsx(XC,{step:s,data:t});case"memory_operations":return i.jsx(QC,{step:s,data:t});case"loop_animation":return i.jsx(eE,{step:s,data:t});case"stack_animation":return i.jsx(tE,{step:s,data:t});case"array_traversal":return i.jsx(nE,{step:s,data:t});case"sorting_animation":case"bubble_sort_animation":return i.jsx(sE,{step:s,data:t});case"binary_search_animation":return i.jsx(rE,{step:s,data:t});case"recursion_tree":return i.jsx(iE,{step:s,data:t});case"matrix_multiplication":return i.jsx(aE,{step:s,data:t});case"mystery_box_algorithm":return i.jsx(oE,{step:s,data:t});default:return i.jsx(lE,{type:e})}};return n?i.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gradient-to-br from-purple-900/20 to-blue-900/20 rounded-xl border border-purple-500/30 p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded-full animate-pulse mr-2"}),i.jsx("span",{className:"text-purple-300 font-medium",children:"Algorithm Visualization"})]}),i.jsx("div",{className:"min-h-[200px] flex items-center justify-center",children:a()})]}):null},XC=({step:e})=>i.jsxs("div",{className:"flex items-center space-x-4 text-2xl",children:[i.jsx(E.div,{animate:{scale:e%3===0?1.2:1},className:"text-blue-400 font-bold",children:"15"}),i.jsx(E.div,{animate:{opacity:e>1?1:.3},className:"text-green-400",children:"+"}),i.jsx(E.div,{animate:{scale:e%3===1?1.2:1},className:"text-blue-400 font-bold",children:"27"}),i.jsx(E.div,{animate:{opacity:e>3?1:.3},className:"text-yellow-400",children:"= 42"}),i.jsx(E.div,{animate:{opacity:e>5?1:.3},className:"text-green-400",children:"× 2"}),i.jsx(E.div,{animate:{opacity:e>7?1:.3,scale:e>7?1.3:1},className:"text-purple-400 font-bold",children:"= 84"})]}),QC=({step:e})=>i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Register R0"}),i.jsx(E.div,{animate:{backgroundColor:e%4===0?"#3B82F6":"#1E293B",scale:e%4===0?1.1:1},className:"w-16 h-16 rounded-lg border-2 border-blue-500 flex items-center justify-center text-white font-bold",children:e>0?"42":"0"})]}),i.jsx(E.div,{animate:{opacity:e>1?1:.3},className:"flex items-center justify-center",children:i.jsx("div",{className:"text-green-400 text-2xl",children:"→"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Memory [1000]"}),i.jsx(E.div,{animate:{backgroundColor:e>2?"#10B981":"#1E293B",scale:e>2?1.1:1},className:"w-16 h-16 rounded-lg border-2 border-green-500 flex items-center justify-center text-white font-bold",children:e>2?"42":"0"})]})]}),eE=({step:e})=>{const t=Math.min(e,10);return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-slate-300 mb-4",children:"Countdown Timer"}),i.jsx(E.div,{animate:{scale:1+(10-t)*.1,color:t===0?"#EF4444":"#3B82F6"},className:"text-6xl font-bold mb-4",children:10-t}),i.jsx("div",{className:"flex justify-center space-x-1",children:Array.from({length:11},(n,s)=>i.jsx(E.div,{animate:{backgroundColor:s<=t?"#10B981":"#374151",scale:s===t?1.2:1},className:"w-3 h-3 rounded-full"},s))})]})},tE=({step:e})=>{const t=["7","14","21"],n=e%6;return i.jsxs("div",{className:"flex items-end justify-center space-x-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Stack"}),i.jsx("div",{className:"flex flex-col-reverse space-y-reverse space-y-1",children:t.map((s,r)=>i.jsx(E.div,{initial:{y:50,opacity:0},animate:{y:n>r?0:50,opacity:n>r?1:.3,backgroundColor:n===r+3?"#EF4444":"#3B82F6"},className:"w-16 h-12 rounded border-2 border-blue-500 flex items-center justify-center text-white font-bold",children:s},r))})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Registers"}),i.jsx("div",{className:"space-y-2",children:["R0","R1","R2"].map((s,r)=>i.jsx(E.div,{animate:{backgroundColor:n>r+3?"#10B981":"#374151",scale:n===r+4?1.1:1},className:"w-16 h-12 rounded border-2 border-green-500 flex items-center justify-center text-white font-bold",children:i.jsx("div",{className:"text-xs",children:s})},s))})]})]})},nE=({step:e})=>{const t=[3,7,11,15,19],n=e%t.length;return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-slate-300 mb-4",children:"Array Summation"}),i.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:t.map((s,r)=>i.jsx(E.div,{animate:{backgroundColor:r<=n?"#10B981":"#374151",scale:r===n?1.2:1,borderColor:r===n?"#F59E0B":"#6B7280"},className:"w-16 h-16 rounded-lg border-2 flex items-center justify-center text-white font-bold",children:s},r))}),i.jsxs(E.div,{animate:{scale:e>0?1:0},className:"text-2xl text-purple-400 font-bold",children:["Sum: ",t.slice(0,n+1).reduce((s,r)=>s+r,0)]})]})},sE=({step:e})=>{const t=[8,3,5,1,9,2],n=[1,2,3,5,8,9],s=Math.min(e/10,1);return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-slate-300 mb-4",children:"Bubble Sort Animation"}),i.jsx("div",{className:"flex justify-center space-x-2",children:t.map((r,a)=>{const o=n.indexOf(r),l=s>a/t.length;return i.jsx(E.div,{animate:{height:l?`${r*8}px`:`${r*8}px`,backgroundColor:l?"#10B981":"#3B82F6",y:l?(o-a)*20:0},transition:{duration:.8,ease:"easeInOut"},className:"w-12 rounded-t-lg flex items-end justify-center text-white text-sm font-bold pb-1",style:{minHeight:"20px"},children:r},`${r}-${a}`)})})]})},rE=({step:e})=>{const t=[2,5,8,13,17,21,25],n=13,s=3;let r=0,a=t.length-1,o=0;const l=e%4;if(l>=1){o=Math.floor((r+a)/2);const c=t[o];c!==void 0&&(c<n?r=o+1:c>n&&(a=o-1))}return i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-lg text-slate-300 mb-4",children:["Binary Search for ",n]}),i.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:t.map((c,u)=>{let d="#374151";return l>=1&&u>=r&&u<=a&&(d="#3B82F6"),l>=2&&u===o&&(d="#F59E0B"),l>=3&&u===s&&(d="#10B981"),i.jsx(E.div,{animate:{backgroundColor:d,scale:u===s&&l>=3?1.2:1},className:"w-12 h-12 rounded border-2 border-gray-500 flex items-center justify-center text-white font-bold",children:c},u)})}),i.jsxs("div",{className:"text-sm text-slate-400",children:[l===0&&"Starting search...",l===1&&`Searching range [${r}, ${a}]`,l===2&&`Checking middle element: ${t[o]??"?"}`,l===3&&"Target found! 🎯"]})]})},iE=({step:e})=>{const t=Math.min(e,5);return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-slate-300 mb-4",children:"Recursion Tree"}),i.jsx("div",{className:"flex flex-col items-center space-y-4",children:Array.from({length:t},(n,s)=>i.jsxs(E.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:s*.5},className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"w-16 h-8 bg-purple-600 rounded flex items-center justify-center text-white text-sm",children:["f(",5-s,")"]}),s<t-1&&i.jsx("div",{className:"text-slate-400",children:"→"})]},s))})]})},aE=({step:e})=>{const t=[[2,1],[1,3]],n=[[1,2],[3,1]],s=e%4;return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-slate-300 mb-4",children:"Matrix Multiplication"}),i.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Matrix A"}),i.jsx("div",{className:"grid grid-cols-2 gap-1",children:t.flat().map((r,a)=>i.jsx(E.div,{animate:{backgroundColor:s>=a?"#3B82F6":"#374151",scale:s===a?1.1:1},className:"w-8 h-8 rounded border flex items-center justify-center text-white text-sm",children:r},a))})]}),i.jsx("div",{className:"text-2xl text-green-400",children:"×"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Matrix B"}),i.jsx("div",{className:"grid grid-cols-2 gap-1",children:n.flat().map((r,a)=>i.jsx(E.div,{animate:{backgroundColor:s>=a?"#10B981":"#374151",scale:s===a?1.1:1},className:"w-8 h-8 rounded border flex items-center justify-center text-white text-sm",children:r},a))})]}),i.jsx("div",{className:"text-2xl text-purple-400",children:"="}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Result C"}),i.jsx("div",{className:"grid grid-cols-2 gap-1",children:[5,5,10,5].map((r,a)=>i.jsx(E.div,{animate:{backgroundColor:s>a+2?"#F59E0B":"#374151",scale:s===a+3?1.2:1},className:"w-8 h-8 rounded border flex items-center justify-center text-white text-sm",children:s>a+2?r:"?"},a))})]})]})]})},oE=({step:e})=>{const t=[1,1,2,3,5,8],n=[11,11,4,13,15,16],s=e%8;return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-purple-300 mb-4",children:"🎁 Mystery Box Algorithm"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-center space-x-2",children:[i.jsx("div",{className:"text-sm text-slate-400",children:"Fibonacci:"}),t.map((r,a)=>i.jsx(E.div,{animate:{backgroundColor:s>a?"#3B82F6":"#374151",scale:s===a+1?1.2:1},className:"w-8 h-8 rounded border flex items-center justify-center text-white text-xs",children:r},a))]}),i.jsx(E.div,{animate:{opacity:s>2?1:.3},className:"text-yellow-400",children:"↓ Transform (even×2, odd+10) ↓"}),i.jsxs("div",{className:"flex justify-center space-x-2",children:[i.jsx("div",{className:"text-sm text-slate-400",children:"Result:"}),n.map((r,a)=>i.jsx(E.div,{animate:{backgroundColor:s>a+3?"#10B981":"#374151",scale:s===a+4?1.2:1},className:"w-8 h-8 rounded border flex items-center justify-center text-white text-xs",children:s>a+3?r:"?"},a))]}),i.jsx(E.div,{animate:{opacity:s>6?1:0,scale:s>6?1.3:1},className:"text-2xl text-purple-400 font-bold",children:"Final Sum: 70 ✨"})]})]})},lE=({type:e})=>i.jsxs("div",{className:"text-center text-slate-400",children:[i.jsx("div",{className:"text-4xl mb-2",children:"🔮"}),i.jsxs("div",{children:["Visualization: ",e]}),i.jsx("div",{className:"text-sm mt-2",children:"Algorithm visualization in progress..."})]}),Zs=[{id:"speedster",name:"Speed Demon",description:"Solve 5 challenges in under 2 minutes each",icon:"⚡",maxProgress:5},{id:"perfectionist",name:"Perfectionist",description:"Get 100% score on 10 challenges",icon:"💎",maxProgress:10},{id:"streak",name:"Hot Streak",description:"Solve 5 challenges in a row without errors",icon:"🔥",maxProgress:5},{id:"optimizer",name:"Code Optimizer",description:"Beat efficiency benchmarks on 8 challenges",icon:"🚀",maxProgress:8},{id:"debugger",name:"Debug Master",description:"Use debugger features in 15 challenges",icon:"🔍",maxProgress:15},{id:"explorer",name:"Algorithm Explorer",description:"Complete all visualization challenges",icon:"🗺️",maxProgress:12},{id:"champion",name:"Assembly Champion",description:"Complete all 24 challenges with 90%+ average",icon:"👑",maxProgress:24}],cE=({earnedBadges:e,onBadgeClick:t})=>{const[n,s]=m.useState(null),[r,a]=m.useState([]);return m.useEffect(()=>{const o=e.filter(l=>!r.includes(l));if(o.length>0){const l=o[0];l&&(s(l),setTimeout(()=>s(null),3e3))}a(e)},[e,r]),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-200 flex items-center",children:[i.jsx(bn,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Achievement Badges"]}),i.jsxs("div",{className:"text-sm text-slate-400",children:[e.length," / ",Zs.length," earned"]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Zs.map(o=>{const l=e.includes(o.id),c=l?o.maxProgress:Math.floor(Math.random()*(o.maxProgress||1));return i.jsxs(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t?.(o),className:`
                relative p-3 rounded-xl border cursor-pointer transition-all duration-200
                ${l?"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border-yellow-500/50 shadow-lg shadow-yellow-500/20":"bg-slate-800/50 border-slate-600/50 hover:border-slate-500/50"}
              `,children:[i.jsxs("div",{className:"text-center",children:[i.jsx(E.div,{animate:{scale:l?[1,1.2,1]:1,rotate:l?[0,10,-10,0]:0},transition:{duration:2,repeat:l?1/0:0,repeatDelay:3},className:`text-3xl mb-2 ${l?"":"grayscale opacity-50"}`,children:o.icon}),i.jsx("div",{className:`font-medium text-sm mb-1 ${l?"text-yellow-300":"text-slate-400"}`,children:o.name}),i.jsx("div",{className:"text-xs text-slate-500 mb-2 line-clamp-2",children:o.description}),o.maxProgress&&i.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5 mb-1",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${(c??0)/o.maxProgress*100}%`},transition:{duration:1,ease:"easeOut"},className:`h-1.5 rounded-full ${l?"bg-gradient-to-r from-yellow-400 to-orange-400":"bg-slate-600"}`})}),i.jsxs("div",{className:"text-xs text-slate-500",children:[c," / ",o.maxProgress||1]})]}),l&&i.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(bn,{className:"w-3 h-3 text-white"})})]},o.id)})}),i.jsx(Dt,{children:n&&i.jsx(E.div,{initial:{opacity:0,scale:.5,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:-50},className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:i.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/90 to-orange-500/90 rounded-2xl p-8 text-center shadow-2xl shadow-yellow-500/50",children:[i.jsx(E.div,{animate:{scale:[1,1.3,1],rotate:[0,360,0]},transition:{duration:2,ease:"easeInOut"},className:"text-6xl mb-4",children:Zs.find(o=>o.id===n)?.icon}),i.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Badge Earned!"}),i.jsx("div",{className:"text-lg text-yellow-100",children:Zs.find(o=>o.id===n)?.name}),i.jsx(E.div,{animate:{opacity:[0,1,0]},transition:{duration:1,repeat:1/0},className:"mt-4 text-sm text-yellow-200",children:"✨ Achievement Unlocked ✨"})]})})})]})},uE=({score:e,isVisible:t,onAnimationComplete:n})=>{const[s,r]=m.useState(0),[a,o]=m.useState(!1);m.useEffect(()=>{if(t&&e){const u=setTimeout(()=>{r(1),setTimeout(()=>r(2),500),setTimeout(()=>r(3),1e3),setTimeout(()=>{r(4),e.total>=90&&(o(!0),setTimeout(()=>o(!1),3e3)),n?.()},1500)},300);return()=>clearTimeout(u)}},[t,e,n]);const l=u=>{switch(u){case"A+":return"from-purple-400 to-pink-400";case"A":return"from-blue-400 to-purple-400";case"B+":case"B":return"from-green-400 to-blue-400";case"C+":case"C":return"from-yellow-400 to-green-400";case"D":return"from-orange-400 to-yellow-400";default:return"from-red-400 to-orange-400"}},c=u=>{switch(u){case"A+":return"🏆";case"A":return"🌟";case"B+":case"B":return"⭐";case"C+":case"C":return"👍";case"D":return"📈";default:return"💪"}};return!t||!e?null:i.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50},animate:{y:0},className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl border border-slate-600 p-8 max-w-md w-full shadow-2xl",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx(E.div,{initial:{scale:0},animate:{scale:s>=1?1:0},transition:{type:"spring",bounce:.5},className:"text-6xl mb-2",children:c(e.grade)}),i.jsx(E.h2,{initial:{opacity:0},animate:{opacity:s>=1?1:0},className:"text-2xl font-bold text-slate-200 mb-2",children:"Challenge Complete!"}),i.jsx(E.div,{initial:{opacity:0,scale:.5},animate:{opacity:s>=4?1:0,scale:s>=4?1:.5},transition:{type:"spring",bounce:.6},className:`inline-block px-6 py-2 rounded-full text-3xl font-bold bg-gradient-to-r ${l(e.grade)} text-white shadow-lg`,children:e.grade})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsx(Hs,{icon:i.jsx(ht,{className:"w-5 h-5"}),label:"Correctness",score:e.correctness,maxScore:60,color:"text-green-400",delay:.2,isVisible:s>=2}),i.jsx(Hs,{icon:i.jsx(Vt,{className:"w-5 h-5"}),label:"Efficiency",score:e.efficiency,maxScore:20,color:"text-blue-400",delay:.4,isVisible:s>=2}),i.jsx(Hs,{icon:i.jsx(ps,{className:"w-5 h-5"}),label:"Code Style",score:e.codeStyle,maxScore:20,color:"text-purple-400",delay:.6,isVisible:s>=2}),i.jsx("div",{className:"border-t border-slate-600 pt-4",children:i.jsx(Hs,{icon:i.jsx(Ry,{className:"w-5 h-5"}),label:"Total Score",score:e.total,maxScore:100,color:"text-yellow-400",delay:.8,isVisible:s>=3,isTotal:!0})})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:s>=4?1:0,y:s>=4?0:20},className:"text-center",children:[i.jsx("div",{className:`text-lg font-medium mb-2 bg-gradient-to-r ${l(e.grade)} bg-clip-text text-transparent`,children:dE(e.grade)}),i.jsx("div",{className:"text-sm text-slate-400",children:hE(e)})]}),i.jsx(Dt,{children:a&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 pointer-events-none",children:Array.from({length:8},(u,d)=>i.jsx(E.div,{initial:{scale:0,x:"50%",y:"50%"},animate:{scale:[0,1,0],x:`${50+(Math.random()-.5)*100}%`,y:`${50+(Math.random()-.5)*100}%`},transition:{duration:2,delay:d*.2,ease:"easeOut"},className:"absolute text-2xl",children:"✨"},d))})})]})})},Hs=({icon:e,label:t,score:n,maxScore:s,color:r,delay:a,isVisible:o,isTotal:l=!1})=>{const[c,u]=m.useState(0);m.useEffect(()=>{if(o){const h=setTimeout(()=>{const g=n/60;let v=0;const x=setInterval(()=>{v+=g,v>=n?(u(n),clearInterval(x)):u(Math.floor(v))},1e3/60)},a*1e3);return()=>clearTimeout(h)}},[o,n,a]);const d=n/s*100;return i.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:o?1:0,x:o?0:-20},transition:{delay:a},className:`flex items-center justify-between ${l?"bg-slate-800/50 rounded-lg p-3":""}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:r,children:e}),i.jsx("span",{className:`font-medium ${l?"text-lg":""} text-slate-200`,children:t})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-24 bg-slate-700 rounded-full h-2",children:i.jsx(E.div,{initial:{width:0},animate:{width:o?`${d}%`:0},transition:{duration:1,delay:a,ease:"easeOut"},className:`h-2 rounded-full ${d>=90?"bg-gradient-to-r from-green-400 to-emerald-400":d>=80?"bg-gradient-to-r from-blue-400 to-cyan-400":d>=70?"bg-gradient-to-r from-yellow-400 to-orange-400":"bg-gradient-to-r from-red-400 to-pink-400"}`})}),i.jsxs(E.span,{initial:{scale:1.2},animate:{scale:1},className:`font-bold ${l?"text-xl":""} ${r} min-w-[3rem] text-right`,children:[c,"/",s]},c)]})]})},dE=e=>{switch(e){case"A+":return"LEGENDARY PERFORMANCE! 🏆";case"A":return"OUTSTANDING WORK! 🌟";case"B+":return"EXCELLENT JOB! ⭐";case"B":return"GREAT WORK! 👏";case"C+":return"GOOD EFFORT! 👍";case"C":return"NICE TRY! 📈";case"D":return"KEEP PRACTICING! 💪";default:return"TRY AGAIN! 🔄"}},hE=e=>e.correctness<40?"Focus on getting the correct output first, then optimize!":e.efficiency<15?"Try to optimize your algorithm for better efficiency!":e.codeStyle<15?"Add more comments and improve code structure!":e.total>=90?"Perfect! You've mastered this challenge! 🎉":"Great job! Keep pushing for that perfect score!",fE=({code:e,isActive:t=!0,onStatsUpdate:n})=>{const[s,r]=m.useState({linesOfCode:0,instructions:0,comments:0,registers:new Set,complexity:0,estimatedCycles:0,codeQuality:0}),[a,o]=m.useState(0),[l,c]=m.useState(0),[u]=m.useState(Date.now());return m.useEffect(()=>{if(!t)return;const d=()=>{const g=e.split(`
`).filter(J=>J.trim()),v=g.filter(J=>!J.trim().startsWith(";")),x=g.filter(J=>J.trim().startsWith(";")),y=v.filter(J=>{const X=J.trim();return X&&!X.includes(":")&&!X.startsWith(".")}),b=/\b(R[0-7]|SP|BP|IP)\b/g,w=new Set,j=e.match(b);j&&j.forEach(J=>w.add(J));const C=(e.match(/\b(JMP|JE|JNE|JZ|JNZ|JG|JL|JGE|JLE|CALL)\b/gi)||[]).length,R=(e.match(/\b(JNZ|JZ)\b/gi)||[]).length,P=C+R*2,M=y.length*2+C*3+R*10,D=x.length>0,L=e.includes("HALT"),G=y.length>0&&y.length<100,q=(D?30:0)+(L?40:0)+(G?30:0),U={linesOfCode:g.length,instructions:y.length,comments:x.length,registers:w,complexity:P,estimatedCycles:M,codeQuality:q};r(U),n?.(U)},h=e.length,p=(Date.now()-u)/1e3/60,f=h-l;p>0&&f>0&&o(Math.round(f/p)),c(h),d()},[e,t,n,l,u]),t?i.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-600/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(qa,{className:"w-5 h-5 text-green-400"}),i.jsx("h3",{className:"text-lg font-bold text-green-300",children:"Live Coding Analytics"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs(E.div,{initial:{scale:.9},animate:{scale:1},className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 text-center",children:[i.jsx(ps,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),i.jsx(E.div,{initial:{scale:1.2},animate:{scale:1},className:"text-2xl font-bold text-blue-300",children:s.linesOfCode},s.linesOfCode),i.jsx("div",{className:"text-xs text-blue-400",children:"Lines"})]}),i.jsxs(E.div,{initial:{scale:.9},animate:{scale:1},className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-3 text-center",children:[i.jsx(zt,{className:"w-6 h-6 text-purple-400 mx-auto mb-2"}),i.jsx(E.div,{initial:{scale:1.2},animate:{scale:1},className:"text-2xl font-bold text-purple-300",children:s.instructions},s.instructions),i.jsx("div",{className:"text-xs text-purple-400",children:"Instructions"})]}),i.jsxs(E.div,{initial:{scale:.9},animate:{scale:1},className:"bg-orange-900/20 border border-orange-500/30 rounded-lg p-3 text-center",children:[i.jsx(Ev,{className:"w-6 h-6 text-orange-400 mx-auto mb-2"}),i.jsx(E.div,{initial:{scale:1.2},animate:{scale:1},className:"text-2xl font-bold text-orange-300",children:s.complexity},s.complexity),i.jsx("div",{className:"text-xs text-orange-400",children:"Complexity"})]}),i.jsxs(E.div,{initial:{scale:.9},animate:{scale:1},className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3 text-center",children:[i.jsx(ht,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),i.jsxs(E.div,{initial:{scale:1.2},animate:{scale:1},className:"text-2xl font-bold text-green-300",children:[s.codeQuality,"%"]},s.codeQuality),i.jsx("div",{className:"text-xs text-green-400",children:"Quality"})]})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"bg-slate-800/50 rounded p-2",children:[i.jsx("div",{className:"text-slate-400",children:"Registers Used"}),i.jsx("div",{className:"text-cyan-300 font-mono",children:Array.from(s.registers).join(", ")||"None"})]}),i.jsxs("div",{className:"bg-slate-800/50 rounded p-2",children:[i.jsx("div",{className:"text-slate-400",children:"Est. Cycles"}),i.jsx("div",{className:"text-yellow-300 font-mono",children:s.estimatedCycles.toLocaleString()})]}),i.jsxs("div",{className:"bg-slate-800/50 rounded p-2",children:[i.jsx("div",{className:"text-slate-400",children:"Comments"}),i.jsxs("div",{className:"text-green-300 font-mono",children:[s.comments," lines"]})]})]}),a>0&&i.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vt,{className:"w-4 h-4 text-yellow-400"}),i.jsxs("span",{className:"text-yellow-300 font-medium",children:["Typing Speed: ",a," chars/min"]}),i.jsx("div",{className:"flex-1 bg-slate-700 rounded-full h-2 ml-2",children:i.jsx(E.div,{initial:{width:0},animate:{width:`${Math.min(a/5,100)}%`},className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-2 rounded-full"})})]})})]}):null},mE=({onOpenInDebugger:e})=>{const{setPendingLoad:t}=Zh(),[n,s]=m.useState([]),[r,a]=m.useState({}),[o,l]=m.useState(!0),[c,u]=m.useState({}),[d,h]=m.useState("lessons"),[p,f]=m.useState(null),[g,v]=m.useState(null),[x,y]=m.useState(""),[b,w]=m.useState(!1),[j,C]=m.useState(null),[R,P]=m.useState({}),[M,D]=m.useState(null),[L,G]=m.useState(!1),[q,U]=m.useState(!1),[J,X]=m.useState("magic"),[he,se]=m.useState(!1),[re,fe]=m.useState(null),[ge,we]=m.useState([]),[Le,T]=m.useState(null),[V,H]=m.useState(0),[F,N]=m.useState(!0),[S,$]=m.useState(!1),[I,O]=m.useState(!1),[ne,Z]=m.useState(0);m.useEffect(()=>{const k=A=>{const{lessonId:Y,challengeId:ae}=A.detail||{};if(Y||ae){if(D({lessonId:Y,challengeId:ae}),Y&&n&&n.length>0){const ce=n.find(Te=>Te.id===Y);ce&&(h("lessons"),f(ce),D(null),setTimeout(()=>{const Te=document.querySelector(`[data-lesson-id="${Y}"]`);Te&&Te.scrollIntoView({behavior:"smooth",block:"center"})},300),window.history.pushState({},"",`#lesson-${Y}`))}else if(ae&&r&&Object.keys(r).length>0){const Te=Object.values(r).flat().find(Nt=>Nt.id===ae);Te&&(h("challenges"),v(Te),y(Te.starter),D(null),window.history.pushState({},"",`#challenge-${ae}`))}}};return window.addEventListener("navigate-to-learn",k),()=>{window.removeEventListener("navigate-to-learn",k)}},[n,r]),m.useEffect(()=>{if(M&&(n&&n.length>0||r&&Object.keys(r).length>0)){const{lessonId:k,challengeId:A}=M;if(k&&n&&n.length>0){const Y=n.find(ae=>ae.id===k);Y&&(h("lessons"),f(Y),D(null),setTimeout(()=>{const ae=document.querySelector(`[data-lesson-id="${k}"]`);ae&&ae.scrollIntoView({behavior:"smooth",block:"center"})},300))}else if(A&&r&&Object.keys(r).length>0){const ae=Object.values(r).flat().find(ce=>ce.id===A);ae&&(h("challenges"),v(ae),y(ae.starter),D(null))}}},[n,r,M]),m.useEffect(()=>{ie(),u(Mf());try{const A=localStorage.getItem("asmplay_quiz_answers");A&&P(JSON.parse(A))}catch(A){console.error("Failed to load quiz answers:",A)}const k=window.location.hash;if(k.startsWith("#lesson-")){const A=k.replace("#lesson-","");D({lessonId:A})}else if(k.startsWith("#challenge-")){const A=k.replace("#challenge-","");D({challengeId:A})}},[]);const ie=async()=>{try{console.log("Loading lessons and challenges...");const[k,A]=await Promise.all([BC(),FC()]);console.log("Lessons loaded:",k),console.log("Challenges loaded:",A),console.log("Challenge counts:",{beginner:A?.beginner?.length||0,intermediate:A?.intermediate?.length||0,advanced:A?.advanced?.length||0,expert:A?.expert?.length||0}),s(k||[]),a(A||{})}catch(k){console.error("Error loading content:",k),s([]),a({})}finally{l(!1)}},He=k=>{v(k),y(k.starter),C(null),t({source:k.starter,watches:k.watches||[],breakpoints:k.breakpoints||[0],asserts:k.asserts||[],cursorLine:0,challengeId:k.id,challengeTitle:k.title}),e(k.starter)},rt=async()=>{if(g){w(!0),C(null),H(k=>k+1),G(!0);try{const k=await VC(x,g);C(k);const A={correctness:k.passed?60:k.results.filter(Y=>Y.ok).length/k.results.length*60,efficiency:Math.max(0,20-(k.steps||0)/50),codeStyle:x.includes(";")?20:15,total:0,grade:"F"};A.total=A.correctness+A.efficiency+A.codeStyle,A.total>=90?A.grade="A+":A.total>=85?A.grade="A":A.total>=80?A.grade="B+":A.total>=75?A.grade="B":A.total>=70?A.grade="C+":A.total>=65?A.grade="C":A.total>=60&&(A.grade="D"),fe(A),k.passed?(Wc(g.id),u(ae=>({...ae,[g.id]:!0})),X("success"),U(!0),ZC(),setTimeout(()=>{G(!1),G(!0)},500),jt().length>0&&T({title:"Code Master!",description:"Challenge completed successfully!",icon:"🏆"}),g.id==="mystery_box_ultimate"&&setTimeout(()=>{T({title:"LEGENDARY STATUS ACHIEVED!",description:"You have conquered the Mystery Box!",icon:"👑"})},2e3),setTimeout(()=>{se(!0)},1e3)):(X("error"),U(!0),setTimeout(()=>U(!1),3e3))}catch(k){C({passed:!1,results:[],error:k instanceof Error?k.message:"Grading failed"}),X("error"),U(!0)}finally{w(!1),setTimeout(()=>G(!1),2e3)}}},jt=()=>{const k=Object.keys(c).length,A=[];return k>=5&&!ge.includes("speedster")&&A.push("speedster"),k>=10&&!ge.includes("perfectionist")&&A.push("perfectionist"),k>=24&&!ge.includes("champion")&&A.push("champion"),we(Y=>[...Y,...A]),A},je=k=>{const A=k.quiz.length>0?k.quiz.filter((ce,Te)=>{const Nt=`${k.id}_${Te}`,dt=R[Nt];return dt!==void 0&&dt===k.quiz[Te]?.answer}).length/k.quiz.length:1,Y=c[`lesson_${k.id}_examples`]?1:0,ae=k.quiz.length>0?A*.7+Y*.3:Y;return Math.round(ae*100)},Rs=k=>{f(k),$(!0),X("magic"),U(!0),setTimeout(()=>U(!1),2e3),setTimeout(()=>{const A=document.querySelector(`[data-lesson-id="${k.id}"]`);A&&A.scrollIntoView({behavior:"smooth",block:"center"})},100),window.history.pushState({},"",`#lesson-${k.id}`)},Kr=(k,A,Y)=>{const ae=`${k}_${A}`;P(ce=>({...ce,[ae]:Y}));try{const ce=JSON.parse(localStorage.getItem("asmplay_quiz_answers")||"{}");ce[ae]=Y,localStorage.setItem("asmplay_quiz_answers",JSON.stringify(ce))}catch(ce){console.error("Failed to save quiz answer:",ce)}if(p){const ce=je(p);ce===100&&!I&&(Z(ce),O(!0))}},Zt=k=>{Wc(`lesson_${k}_examples`),u(A=>({...A,[`lesson_${k}_examples`]:!0})),X("success"),U(!0),setTimeout(()=>U(!1),1500),p&&setTimeout(()=>{const A=je(p);A===100&&!I&&(Z(A),O(!0))},100)},un=k=>{const A=k.quiz.every((ae,ce)=>{const Te=`${k.id}_${ce}`,Nt=R[Te];return Nt!==void 0&&Nt===k.quiz[ce]?.answer}),Y=c[`lesson_${k.id}_examples`]||!1;return A&&Y},qr=[{id:"lessons",label:`Lessons (${n?n.length:0})`,icon:i.jsx(Tt,{className:"w-4 h-4"})},{id:"challenges",label:`Challenges (${r?Object.values(r).flat().length:0})`,icon:i.jsx(ht,{className:"w-4 h-4"})}];return o?i.jsxs("div",{className:"h-full flex items-center justify-center relative overflow-hidden",children:[i.jsx(Us,{isActive:!0,type:"magic",intensity:.5}),i.jsxs("div",{className:"text-center space-y-6 z-10",children:[i.jsxs(E.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"w-16 h-16 mx-auto relative",children:[i.jsx("div",{className:"absolute inset-0 border-4 border-accent/30 rounded-full"}),i.jsx("div",{className:"absolute inset-0 border-4 border-accent border-t-transparent rounded-full animate-spin"}),i.jsx("div",{className:"absolute inset-2 border-2 border-accent2/50 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsx(Qs,{text:"Loading Assembly Universe...",className:"text-xl font-bold bg-gradient-to-r from-accent to-accent2 bg-clip-text text-transparent",glitchIntensity:.1}),i.jsx(E.p,{className:"text-slate-400 mt-2",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"Initializing lessons and challenges..."})]})]})]}):i.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-edge/50",children:i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-accent to-accent2 bg-clip-text text-transparent mb-2",children:"Learn Assembly"}),i.jsx("p",{className:"text-slate-400",children:"Master assembly programming with interactive lessons and challenges"})]}),i.jsx(Er,{tabs:qr,activeTab:d,onTabChange:h})]})}),i.jsx("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden",children:i.jsxs(Dt,{mode:"wait",children:[d==="lessons"&&i.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"h-full flex min-h-0",children:[i.jsxs("div",{className:"w-80 border-r border-edge/50 flex flex-col min-h-0 relative",children:[i.jsx(qt,{children:i.jsx("div",{})}),i.jsxs(tt,{className:"flex-1 p-4","data-testid":"lesson-list",children:[i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6",children:[i.jsxs("h3",{className:"font-semibold text-slate-200 mb-2 flex items-center",children:[i.jsx(Tt,{className:"w-4 h-4 mr-2 text-accent"}),"Interactive Lessons"]}),i.jsxs("div",{className:"text-xs text-slate-400 mb-3",children:["Progress: ",n?Math.round(Object.keys(c).filter(k=>n.some(A=>A.id===k)||k.includes("lesson_")&&k.includes("_examples")).length/(n.length*2)*100):0,"%"]}),i.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mb-4 overflow-hidden relative",children:i.jsxs(E.div,{initial:{width:0},animate:{width:n?`${Math.round(Object.keys(c).filter(k=>n.some(A=>A.id===k)||k.includes("lesson_")&&k.includes("_examples")).length/(n.length*2)*100)}%`:"0%"},transition:{duration:1.5,ease:"easeOut"},className:"bg-gradient-to-r from-accent via-accent2 to-accent h-2 rounded-full relative",children:[i.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse rounded-full"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer rounded-full"})]})})]}),i.jsx("div",{className:"space-y-3",children:n&&n.map((k,A)=>{const Y=je(k),ae=un(k),ce=p?.id===k.id;return i.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:A*.1},className:"relative",children:i.jsxs(E.button,{onClick:()=>Rs(k),"data-testid":"lesson-card","data-lesson-id":k.id,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl border transition-all duration-300 relative overflow-hidden ${ce?"bg-gradient-to-br from-accent/20 to-accent2/20 border-accent/50 text-accent shadow-neon-md":"bg-gradient-to-br from-panel/50 to-panel/30 border-edge/50 text-slate-300 hover:from-panel hover:to-panel/70 hover:border-accent/30 hover:shadow-neon-sm"}`,children:[ce&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-gradient-to-r from-accent/10 via-transparent to-accent2/10"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsxs("span",{className:"text-xs font-mono bg-accent/20 text-accent px-2 py-0.5 rounded",children:["L",A+1]}),ae&&i.jsxs(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",bounce:.6,delay:.2},className:"relative",children:[i.jsx(hn,{className:"w-4 h-4 text-ok drop-shadow-lg"}),i.jsx(E.div,{animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-ok/30"})]})]}),i.jsx("div",{className:"font-medium text-sm leading-tight",children:k.title})]}),i.jsxs("div",{className:"text-right ml-2",children:[i.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:[Y,"%"]}),i.jsx("div",{className:"w-12 bg-slate-700 rounded-full h-1.5 overflow-hidden",children:i.jsxs(E.div,{initial:{width:0},animate:{width:`${Y}%`},transition:{duration:.8,delay:A*.1},className:`h-1.5 rounded-full relative ${Y===100?"bg-gradient-to-r from-ok to-emerald-400":Y>=70?"bg-gradient-to-r from-accent to-accent2":Y>=40?"bg-gradient-to-r from-warn to-orange-400":"bg-gradient-to-r from-slate-500 to-slate-400"}`,children:[Y===100&&i.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse rounded-full"}),Y>0&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer rounded-full"})]})})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("span",{className:"text-slate-400",children:[k.goals.length," goals • ",k.quiz.length," questions"]}),i.jsxs("span",{className:"text-slate-500",children:[k.snippets.length," examples"]})]})]})]})},k.id)})})]})]}),i.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:i.jsx(tt,{className:"flex-1",children:p?i.jsxs("div",{className:"p-6 max-w-4xl space-y-6 relative",children:[S&&i.jsx(Us,{type:"magic",intensity:.3,className:"absolute inset-0 pointer-events-none"}),i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10",children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx(Qs,{text:p.title,className:"text-3xl font-bold bg-gradient-to-r from-accent via-accent2 to-accent bg-clip-text text-transparent",glitchIntensity:.1}),i.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[i.jsxs("div",{className:"text-sm text-slate-400",children:["Progress: ",je(p),"%"]}),i.jsx("div",{className:"w-32 bg-slate-700 rounded-full h-2 overflow-hidden relative",children:i.jsxs(E.div,{initial:{width:0},animate:{width:`${je(p)}%`},transition:{duration:1.5,ease:"easeOut"},className:"bg-gradient-to-r from-accent via-accent2 to-accent h-2 rounded-full relative",children:[i.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse rounded-full"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer rounded-full"}),je(p)===100&&i.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},className:"absolute inset-0 bg-ok/30 rounded-full"})]})})]})]}),un(p)&&i.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",bounce:.6,delay:.3},children:i.jsxs($e,{variant:"success",className:"shadow-neon-sm",children:[i.jsx(hn,{className:"w-3 h-3 mr-1"}),"Mastered!"]})})]})}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"Learning Goals",icon:i.jsx(ht,{className:"w-4 h-4"})}),i.jsx("div",{className:"p-4",children:i.jsx("ul",{className:"space-y-2",children:p.goals.map((k,A)=>i.jsxs(E.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:A*.1},className:"flex items-start space-x-2 text-slate-300",children:[i.jsx("div",{className:"w-2 h-2 bg-accent rounded-full mt-2 flex-shrink-0"}),i.jsx("span",{children:k})]},A))})})]}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"Theory",icon:i.jsx(Tt,{className:"w-4 h-4"})}),i.jsx("div",{className:"p-4",children:i.jsx("p",{className:"text-slate-300 leading-relaxed",children:p.theory})})]}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"Interactive Examples",subtitle:`${p.snippets.length} examples`,icon:i.jsx(An,{className:"w-4 h-4"})}),i.jsx("div",{className:"p-4 space-y-4",children:p.snippets.map((k,A)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},"data-testid":"lesson-snippet",className:"bg-edge/30 rounded-xl border border-edge/50 overflow-hidden",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-edge/50 flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-slate-200",children:k.label}),i.jsxs(oe,{size:"sm","data-testid":"snippet-debug-btn",onClick:()=>{Zt(p.id),t({source:k.source,watches:k.watches||[],breakpoints:[0],cursorLine:0,lessonId:p.id,lessonTitle:p.title}),e(k.source)},children:[i.jsx(An,{className:"w-3 h-3 mr-1"}),"Debug"]})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("pre",{className:"text-sm font-mono text-accent bg-bg/50 p-3 rounded-lg overflow-x-auto border border-edge/30",children:k.source}),k.watches.length>0&&i.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[i.jsx($e,{variant:"accent",size:"sm",children:"Watch"}),i.jsx("span",{className:"text-sm text-slate-400",children:k.watches.join(", ")})]})]})]},A))})]}),p.quiz.length>0&&i.jsxs(_e,{children:[i.jsx(Ie,{title:"Knowledge Check",subtitle:`${p.quiz.length} questions`,icon:i.jsx(Zn,{className:"w-4 h-4"})}),i.jsxs("div",{className:"p-4 space-y-6",children:[p.quiz.map((k,A)=>{const Y=`${p.id}_${A}`,ae=R[Y],ce=ae===k.answer,Te=ae!==void 0;return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:"bg-edge/30 rounded-xl border border-edge/50 p-4",children:[i.jsxs("h4",{className:"font-medium text-slate-200 mb-4",children:[A+1,". ",k.q]}),i.jsx("div",{className:"space-y-2",children:k.options.map((Nt,dt)=>i.jsxs("button",{onClick:()=>Kr(p.id,A,dt),className:`w-full text-left p-3 rounded-lg border transition-all duration-200 ${Te?dt===k.answer?"bg-ok/20 border-ok/50 text-ok":ae===dt&&!ce?"bg-danger/20 border-danger/50 text-danger":"bg-slate-700/30 border-slate-600/50 text-slate-500":ae===dt?"bg-accent/20 border-accent/50 text-accent":"bg-panel/50 border-edge/50 text-slate-300 hover:bg-panel hover:border-accent/30"}`,disabled:Te,children:[i.jsxs("span",{className:"font-mono text-sm mr-2",children:[String.fromCharCode(65+dt),"."]}),Nt]},dt))}),Te&&i.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`mt-3 flex items-center space-x-2 ${ce?"text-ok":"text-danger"}`,children:[ce?i.jsx(hn,{className:"w-4 h-4"}):i.jsx(Zn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:ce?"Correct!":"Incorrect. Try again!"})]})]},A)}),un(p)&&i.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-4 bg-ok/20 border border-ok/50 rounded-xl",children:i.jsxs("div",{className:"flex items-center text-ok",children:[i.jsx(bn,{className:"w-5 h-5 mr-2"}),i.jsx("span",{className:"font-medium",children:"Lesson completed! Great job!"})]})})]})]})]}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-accent/20 rounded-2xl flex items-center justify-center mx-auto",children:i.jsx(Tt,{className:"w-8 h-8 text-accent"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-2",children:"Choose a Lesson"}),i.jsx("p",{className:"text-slate-400",children:"Select a lesson from the sidebar to start learning"})]})]})})})})]},"lessons"),d==="challenges"&&i.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"h-full flex min-h-0",children:[i.jsx("div",{className:"w-80 border-r border-edge/50 flex flex-col min-h-0",children:i.jsx(tt,{className:"flex-1 p-4","data-testid":"challenge-list",children:r&&Object.entries(r).map(([k,A])=>i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"font-semibold text-slate-200 mb-3 capitalize flex items-center",children:[i.jsx(ht,{className:"w-4 h-4 mr-2 text-accent2"}),k," (",A?A.length:0,")"]}),i.jsx("div",{className:"space-y-2",children:A&&A.map((Y,ae)=>i.jsx(E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ae*.1},onClick:()=>{v(Y),window.history.pushState({},"",`#challenge-${Y.id}`)},"data-testid":"challenge-card",className:`w-full text-left p-3 rounded-xl border transition-all duration-200 ${g?.id===Y.id?"bg-accent2/20 border-accent2/50 text-accent2 shadow-neon-sm":"bg-panel/50 border-edge/50 text-slate-300 hover:bg-panel hover:border-accent2/30"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:Y.title}),i.jsxs("div",{className:"text-sm opacity-70",children:[Y.asserts.length," tests"]})]}),c[Y.id]&&i.jsx(bn,{className:"w-5 h-5 text-warn"})]})},Y.id))})]},k))})}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[i.jsx(GC,{isActive:L}),i.jsx(Us,{isActive:q,type:J}),i.jsx(tt,{className:"flex-1",children:g?i.jsxs("div",{className:"p-6 max-w-6xl space-y-6",children:[i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold mb-2",children:i.jsx(Qs,{text:g.title})}),i.jsxs("div",{className:"flex items-center gap-3",children:[c[g.id]&&i.jsxs($e,{variant:"warning",children:[i.jsx(bn,{className:"w-3 h-3 mr-1"}),"Completed"]}),i.jsx($e,{variant:"accent",children:g.difficulty}),i.jsx($e,{variant:"secondary",children:g.category})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N(!F),className:"px-3 py-1 bg-purple-600/20 border border-purple-500/30 rounded text-purple-300 text-sm hover:bg-purple-600/30 transition-colors",children:F?"📟 Terminal Mode":"📝 Simple Mode"})})]}),i.jsx(qt,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(ht,{className:"w-5 h-5 text-cyan-400"}),i.jsx("h3",{className:"text-xl font-bold text-cyan-300",children:"Mission Briefing"})]}),i.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:g.prompt}),g.realWorldContext&&i.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3",children:[i.jsx("div",{className:"text-blue-300 font-medium mb-1",children:"🌍 Real-World Application"}),i.jsx("div",{className:"text-slate-400 text-sm",children:g.realWorldContext})]})]})}),i.jsx(qC,{challenge:g,userCode:x,attempts:V,onHintUsed:k=>console.log("Hint used:",k)}),g.visualization&&i.jsx(YC,{type:g.visualization,isActive:b}),i.jsx(qt,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(zt,{className:"w-5 h-5 text-green-400"}),i.jsx("h3",{className:"text-xl font-bold text-green-300",children:"Code Terminal"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>He(g),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 rounded font-semibold text-white flex items-center gap-2",children:[i.jsx(Vt,{className:"w-4 h-4"}),"Debug Mode"]}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:rt,disabled:b,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 rounded font-semibold text-white disabled:opacity-50 flex items-center gap-2",children:b?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ht,{className:"w-4 h-4"}),"Grade Solution"]})})]})]}),F?i.jsx(HC,{value:x,onChange:y,onRun:rt,isRunning:b,title:`CHALLENGE: ${g.id.toUpperCase()}`}):i.jsxs("div",{className:"bg-slate-900 rounded-lg border border-slate-600 overflow-hidden",children:[i.jsx("div",{className:"bg-slate-800 px-4 py-2 border-b border-slate-600",children:i.jsx("span",{className:"text-slate-300 font-mono text-sm",children:"assembly_solution.asm"})}),i.jsx("textarea",{value:x,onChange:k=>y(k.target.value),className:"w-full h-64 p-4 font-mono text-sm bg-transparent border-none text-slate-200 placeholder-slate-400 focus:outline-none resize-none",placeholder:"Write your solution here..."})]})]})}),g.starter&&i.jsx(qt,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(cr,{className:"w-5 h-5 text-yellow-400"}),i.jsx("h3",{className:"text-xl font-bold text-yellow-300",children:"Starter Template"})]}),i.jsx(Gc,{code:g.starter}),i.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(g.starter),className:"mt-3 px-4 py-2 bg-yellow-600/20 border border-yellow-500/30 rounded text-yellow-300 hover:bg-yellow-600/30 transition-colors",children:"Load Starter Code"})]})}),j&&i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:i.jsx(_e,{className:j.passed?"border-ok/50":"border-danger/50",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[j.passed?i.jsx(hn,{className:"w-6 h-6 text-ok mr-3"}):i.jsx(Zn,{className:"w-6 h-6 text-danger mr-3"}),i.jsx("span",{className:`font-medium text-lg ${j.passed?"text-ok":"text-danger"}`,children:j.passed?"Challenge Passed!":"Challenge Failed"})]}),j.error&&i.jsx("div",{className:"mb-4 p-3 bg-danger/20 border border-danger/50 rounded-lg",children:i.jsxs("div",{className:"text-danger text-sm",children:[i.jsx("strong",{children:"Error:"})," ",j.error]})}),j.results&&j.results.length>0&&i.jsx("div",{className:"space-y-2 mb-4",children:j.results.map((k,A)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[k.ok?i.jsx(hn,{className:"w-4 h-4 text-ok"}):i.jsx(Zn,{className:"w-4 h-4 text-danger"}),i.jsx("span",{className:`text-sm ${k.ok?"text-ok":"text-danger"}`,children:k.detail||`Test ${A+1}`})]},A))}),j.steps&&i.jsxs($e,{variant:"accent",size:"sm",children:["Executed in ",j.steps," steps"]})]})})}),g.hints.length>0&&i.jsxs(_e,{children:[i.jsx(Ie,{title:"Hints",subtitle:`${g.hints.length} hints available`,icon:i.jsx(cr,{className:"w-4 h-4"})}),i.jsx("div",{className:"p-4",children:i.jsx("ul",{className:"space-y-3",children:g.hints.map((k,A)=>i.jsxs(E.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:A*.1},className:"flex items-start space-x-3 text-slate-300",children:[i.jsx("div",{className:"w-6 h-6 bg-warn/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-warn text-xs font-bold",children:A+1})}),i.jsx("span",{children:k})]},A))})})]}),i.jsx(fE,{code:x,isActive:!!g,onStatsUpdate:k=>console.log("Stats updated:",k)}),i.jsx(cE,{earnedBadges:ge,onBadgeClick:k=>console.log("Badge clicked:",k)}),c[g.id]&&g.goldStandardSolution&&i.jsx(qt,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(bn,{className:"w-5 h-5 text-yellow-400"}),i.jsx("h3",{className:"text-xl font-bold text-yellow-300",children:"🏆 Gold Standard Solution"})]}),i.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"text-yellow-200 text-sm",children:"Congratulations! Here's how a master would solve this challenge:"})}),i.jsx(Gc,{code:g.goldStandardSolution})]})})]}):i.jsxs("div",{className:"flex items-center justify-center h-full relative",children:[i.jsx(Us,{isActive:!0,type:"magic"}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-6 z-10",children:[i.jsx(E.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0},className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto shadow-2xl shadow-purple-500/50",children:i.jsx(ht,{className:"w-12 h-12 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-transparent bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text mb-3",children:"Choose Your Challenge"}),i.jsx("p",{className:"text-slate-400 text-lg",children:"Select a challenge from the sidebar to begin your assembly journey"}),i.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 max-w-md mx-auto",children:[i.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-3 text-center",children:[i.jsx("div",{className:"text-blue-400 font-bold text-lg",children:r.beginner?.length||0}),i.jsx("div",{className:"text-blue-300 text-sm",children:"Beginner"})]}),i.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3 text-center",children:[i.jsx("div",{className:"text-green-400 font-bold text-lg",children:r.intermediate?.length||0}),i.jsx("div",{className:"text-green-300 text-sm",children:"Intermediate"})]}),i.jsxs("div",{className:"bg-orange-900/20 border border-orange-500/30 rounded-lg p-3 text-center",children:[i.jsx("div",{className:"text-orange-400 font-bold text-lg",children:r.advanced?.length||0}),i.jsx("div",{className:"text-orange-300 text-sm",children:"Advanced"})]}),i.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-3 text-center",children:[i.jsx("div",{className:"text-purple-400 font-bold text-lg",children:r.expert?.length||0}),i.jsx("div",{className:"text-purple-300 text-sm",children:"Expert"})]})]})]})]})]})}),i.jsx(uE,{score:re,isVisible:he,onAnimationComplete:()=>se(!1)}),i.jsx(JC,{isVisible:I,progress:ne,title:p?.title||"Lesson Complete!",onComplete:()=>O(!1)}),i.jsx(KC,{isVisible:!!Le,title:Le?.title||"",description:Le?.description||"",icon:Le?.icon||"🏆",onClose:()=>T(null)})]})]},"challenges")]})})]})},pE={data:"success",memory:"success",arithmetic:"accent",logic:"accent2",control:"warning",stack:"danger",system:"info"},gE=()=>{const[e,t]=m.useState(""),[n,s]=m.useState("all"),[r,a]=m.useState("opcodes"),[o,l]=m.useState(null),[c,u]=m.useState(!0);if(m.useEffect(()=>{(async()=>{try{const y=await fetch("/asm_docs.json");if(y.ok){const b=await y.json();l(b)}}catch(y){console.error("Failed to load documentation:",y)}finally{u(!1)}})()},[]),c||!o)return i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx("div",{className:"text-slate-400",children:"Loading documentation..."})});const d=o.opcodes.filter(x=>{const y=x.name.toLowerCase().includes(e.toLowerCase())||x.description.toLowerCase().includes(e.toLowerCase())||x.notes.toLowerCase().includes(e.toLowerCase()),b=n==="all"||x.category===n;return y&&b}),h=o.addressing.filter(x=>x.name.toLowerCase().includes(e.toLowerCase())||x.description.toLowerCase().includes(e.toLowerCase())),p=o.directives.filter(x=>x.name.toLowerCase().includes(e.toLowerCase())||x.description.toLowerCase().includes(e.toLowerCase())),f=["all","data","memory","arithmetic","logic","control","stack","system"],g=[{id:"opcodes",name:"Instructions",icon:zt},{id:"addressing",name:"Addressing",icon:ea},{id:"directives",name:"Directives",icon:Kl},{id:"registers",name:"Registers",icon:is},{id:"flags",name:"Flags",icon:hi}],v=x=>{navigator.clipboard.writeText(x)};return i.jsx("div",{className:"h-full min-h-0",children:i.jsx(tt,{children:i.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-accent to-accent2 bg-clip-text text-transparent",children:"Assembly Reference"}),i.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto",children:"Complete reference for assembly language instructions, addressing modes, and directives."})]}),i.jsx(_e,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search documentation...",value:e,onChange:x=>t(x.target.value),className:"w-full pl-10 pr-4 py-3 bg-edge/50 border border-edge rounded-xl text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:g.map(x=>{const y=x.icon;return i.jsxs(oe,{variant:r===x.id?"primary":"ghost",size:"sm",onClick:()=>a(x.id),children:[i.jsx(y,{className:"w-4 h-4 mr-2"}),x.name]},x.id)})}),r==="opcodes"&&i.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(x=>i.jsx(oe,{variant:n===x?"primary":"ghost",size:"sm",onClick:()=>s(x),children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]})}),r==="opcodes"&&i.jsxs(_e,{children:[i.jsx(Ie,{title:"Instructions",subtitle:`${d.length} instructions`,icon:i.jsx(zt,{className:"w-5 h-5"})}),i.jsx(tt,{className:"p-6 space-y-4 max-h-[600px]",children:d.map((x,y)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"p-4 bg-edge/30 rounded-xl border border-edge/50 hover:border-accent/30 transition-colors",id:`opcode-${x.id}`,children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h3",{className:"text-lg font-mono font-semibold text-accent",children:x.name}),i.jsx($e,{variant:pE[x.category],size:"sm",children:x.category}),x.flags!=="None"&&i.jsxs($e,{variant:"info",size:"sm",children:["Flags: ",x.flags]})]})}),i.jsx("p",{className:"text-slate-300 mb-3",children:x.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Syntax"}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx("code",{className:"flex-1 p-2 bg-bg/50 rounded text-accent font-mono text-sm",children:x.syntax}),i.jsx("button",{onClick:()=>v(x.syntax),className:"p-2 text-slate-400 hover:text-accent transition-colors",title:"Copy syntax",children:i.jsx(fn,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Examples"}),i.jsx("div",{className:"mt-1 space-y-2",children:x.examples.map((b,w)=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("code",{className:"flex-1 p-2 bg-bg/50 rounded text-ok font-mono text-sm",children:b.code}),i.jsx("button",{onClick:()=>v(b.code),className:"p-2 text-slate-400 hover:text-ok transition-colors",title:"Copy example",children:i.jsx(fn,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-xs text-slate-400 ml-2",children:b.description})]},w))})]}),x.notes&&i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Notes"}),i.jsx("p",{className:"mt-1 text-sm text-slate-300 bg-edge/20 p-2 rounded",children:x.notes})]})]})]},x.id))})]}),r==="addressing"&&i.jsxs(_e,{children:[i.jsx(Ie,{title:"Addressing Modes",subtitle:`${h.length} modes`,icon:i.jsx(ea,{className:"w-5 h-5"})}),i.jsx(tt,{className:"p-6 space-y-4 max-h-[600px]",children:h.map((x,y)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"p-4 bg-edge/30 rounded-xl border border-edge/50",id:`addressing-${x.id}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(yv,{className:"w-5 h-5 text-accent"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:x.name}),i.jsx("code",{className:"px-2 py-1 bg-accent/20 text-accent rounded text-sm font-mono",children:x.syntax})]}),i.jsx("p",{className:"text-slate-300 mb-3",children:x.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Examples"}),i.jsx("div",{className:"mt-1 space-y-2",children:x.examples.map((b,w)=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("code",{className:"flex-1 p-2 bg-bg/50 rounded text-accent2 font-mono text-sm",children:b.code}),i.jsx("button",{onClick:()=>v(b.code),className:"p-2 text-slate-400 hover:text-accent2 transition-colors",title:"Copy example",children:i.jsx(fn,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-xs text-slate-400 ml-2",children:b.description})]},w))})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Flow Diagram"}),i.jsx("p",{className:"mt-1 text-sm text-slate-300 bg-edge/20 p-2 rounded font-mono",children:x.diagram})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Notes"}),i.jsx("p",{className:"mt-1 text-sm text-slate-300 bg-edge/20 p-2 rounded",children:x.notes})]})]})]},x.id))})]}),r==="directives"&&i.jsxs(_e,{children:[i.jsx(Ie,{title:"Assembler Directives",subtitle:`${p.length} directives`,icon:i.jsx(Kl,{className:"w-5 h-5"})}),i.jsx(tt,{className:"p-6 space-y-4 max-h-[600px]",children:p.map((x,y)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"p-4 bg-edge/30 rounded-xl border border-edge/50",id:`directive-${x.id}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(Tn,{className:"w-5 h-5 text-warn"}),i.jsx("h3",{className:"text-lg font-mono font-semibold text-slate-200",children:x.name})]}),i.jsx("p",{className:"text-slate-300 mb-3",children:x.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Syntax"}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx("code",{className:"flex-1 p-2 bg-bg/50 rounded text-warn font-mono text-sm",children:x.syntax}),i.jsx("button",{onClick:()=>v(x.syntax),className:"p-2 text-slate-400 hover:text-warn transition-colors",title:"Copy syntax",children:i.jsx(fn,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Examples"}),i.jsx("div",{className:"mt-1 space-y-2",children:x.examples.map((b,w)=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("code",{className:"flex-1 p-2 bg-bg/50 rounded text-warn font-mono text-sm whitespace-pre",children:b.code}),i.jsx("button",{onClick:()=>v(b.code),className:"p-2 text-slate-400 hover:text-warn transition-colors",title:"Copy example",children:i.jsx(fn,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-xs text-slate-400 ml-2",children:b.description})]},w))})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Notes"}),i.jsx("p",{className:"mt-1 text-sm text-slate-300 bg-edge/20 p-2 rounded",children:x.notes})]})]})]},x.id))})]}),r==="registers"&&i.jsxs(_e,{children:[i.jsx(Ie,{title:"CPU Registers",subtitle:`${o.registers.length} registers`,icon:i.jsx(is,{className:"w-5 h-5"})}),i.jsx(tt,{className:"p-6 space-y-4 max-h-[600px]",children:o.registers.map((x,y)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"p-4 bg-edge/30 rounded-xl border border-edge/50",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(is,{className:"w-5 h-5 text-info"}),i.jsx("h3",{className:"text-lg font-mono font-semibold text-slate-200",children:x.name})]}),i.jsx("p",{className:"text-slate-300 mb-3",children:x.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Usage"}),i.jsx("p",{className:"mt-1 text-sm text-slate-300 bg-edge/20 p-2 rounded",children:x.usage})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Notes"}),i.jsx("p",{className:"mt-1 text-sm text-slate-300 bg-edge/20 p-2 rounded",children:x.notes})]})]})]},x.name))})]}),r==="flags"&&i.jsxs(_e,{children:[i.jsx(Ie,{title:"CPU Flags",subtitle:`${o.flags.length} flags`,icon:i.jsx(hi,{className:"w-5 h-5"})}),i.jsx(tt,{className:"p-6 space-y-4 max-h-[600px]",children:o.flags.map((x,y)=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"p-4 bg-edge/30 rounded-xl border border-edge/50",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(hi,{className:"w-5 h-5 text-accent2"}),i.jsx("h3",{className:"text-lg font-mono font-semibold text-slate-200",children:x.name})]}),i.jsx("p",{className:"text-slate-300 mb-3",children:x.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Usage"}),i.jsx("p",{className:"mt-1 text-sm text-slate-300 bg-edge/20 p-2 rounded",children:x.usage})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Examples"}),i.jsx("div",{className:"mt-1 space-y-1",children:x.examples.map((b,w)=>i.jsx("p",{className:"text-sm text-slate-300 bg-edge/20 p-2 rounded",children:b},w))})]})]})]},x.name))})]})]})})})},Bn={"showcase.asm":`; MicroZ Complete Instruction Set Showcase
; Demonstrates all available instructions without .DATA section

.TEXT
main:
    ; Set breakpoint here (F9) to start debugging
    MOV R0, #42
    MOV R1, R0

    ; Basic arithmetic operations
    ADD R0, #10
    SUB R1, #2
    MUL R2, #3
    DIV R0, #2
    INC R1
    DEC R2

    ; Stack operations
    PUSH R0
    PUSH R1
    POP R3
    POP R4

    ; System calls - print numbers
    MOV R0, #123
    SYS #1

    ; Loop with conditional jumps
    MOV R5, #0

loop_start:
    MOV R0, R5
    SYS #1
    INC R5
    CMP R5, #5
    JL loop_start
    JNE skip_equal
    JE equal_branch

skip_equal:
    ; More jump instructions
    CMP R5, #10
    JG greater_branch
    JGE greater_equal_branch
    JLE less_equal_branch

greater_branch:
    JMP continue_program

greater_equal_branch:
    JMP continue_program

less_equal_branch:
    JMP continue_program

equal_branch:
    JMP continue_program

continue_program:
    ; Function call demonstration
    CALL math_function

    ; Bitwise operations
    MOV R9, #0xFF
    AND R9, #0x0F
    OR R9, #0xF0
    XOR R9, #0xAA
    NOT R9

    ; Shift operations
    MOV R10, #8
    SHL R10, #2
    SHR R10, #1

    ; Memory operations using immediate addresses
    MOV R11, #1000
    STORE [1000], R11
    LOAD R12, [1000]

    ; Indirect memory access
    MOV R13, #1002
    STORE [R13], #999
    LOAD R14, [R13]

    ; More conditional jumps
    CMP R14, #999
    JC carry_set
    JNC no_carry
    JN negative_flag
    JNN not_negative

carry_set:
    JMP test_complete

no_carry:
    JMP test_complete

negative_flag:
    JMP test_complete

not_negative:
    JMP test_complete

test_complete:
    ; Test comparison instruction
    TEST R0, #0xFF
    
    ; Final system calls
    MOV R0, #0
    SYS #3
    HLT

; Function demonstrating all instruction types
math_function:
    PUSH BP
    MOV BP, SP

    ; Local calculations
    MOV R0, #10
    MOV R1, #5
    ADD R0, R1
    SUB R0, #3
    MUL R0, #2
    DIV R0, #4

    ; Test all arithmetic with different operands
    MOV R2, #100
    ADD R2, R0
    SUB R2, R1
    MUL R2, #2
    DIV R2, R0

    ; Bitwise operations on results
    AND R2, #0xFF
    OR R2, #0x100
    XOR R2, R0
    NOT R2

    ; Shift the result
    SHL R2, #1
    SHR R2, #2

    ; Increment and decrement tests
    INC R0
    DEC R1
    INC R2
    DEC R0

    ; Memory operations within function
    STORE [2000], R2
    LOAD R3, [2000]

    ; Compare and conditional execution
    CMP R3, R2
    JE values_equal
    JNE values_different

values_equal:
    MOV R0, #1
    JMP function_end

values_different:
    MOV R0, #0

function_end:
    POP BP
    RET

; Additional test functions for complete coverage
utility_functions:
    ; Test NOP instruction
    NOP
    NOP
    NOP

    ; Test all register operations
    MOV R0, #1
    MOV R1, #2
    MOV R2, #3
    MOV R3, #4
    MOV R4, #5
    MOV R5, #6
    MOV R6, #7
    MOV R7, #8
    MOV R8, #9
    MOV R9, #10
    MOV R10, #11
    MOV R11, #12
    MOV R12, #13
    MOV R13, #14
    MOV R14, #15
    MOV R15, #16

    ; Test stack with all registers
    PUSH R0
    PUSH R1
    PUSH R2
    PUSH R3
    POP R15
    POP R14
    POP R13
    POP R12

    ; Test memory with register indirect
    MOV R0, #3000
    STORE [R0], #777
    LOAD R1, [R0]

    ; Test all comparison scenarios
    CMP R1, #777
    CMP R1, #778
    CMP R1, #776

    RET`,"controlflow.asm":`; Control Flow Example - Factorial without .DATA
.TEXT
start:
    ; Calculate 5! using registers only
    MOV R0, #5
    MOV R1, #1
    
factorial_loop:
    CMP R0, #1
    JLE done
    MUL R1, R0
    DEC R0
    JNE factorial_loop
    
done:
    ; Print result
    MOV R0, R1
    SYS #1
    
    ; Exit
    MOV R0, #0
    SYS #3
    HALT`,"aliases.asm":`; Instruction Aliases Test - No .DATA section
.TEXT
start:
    ; Test instruction aliases with factorial
    MOV R0, #5          ; Calculate 5! (max 7! for 16-bit)
    MOV R1, #1
    
loop:
    MUL R1, R0          ; result *= N
    DEC R0              ; N--
    CMP R0, #0
    JNE loop            ; JNE alias for JNZ
    
    ; Test other aliases
    CMP R1, #120
    JE success          ; Jump if equal (same as JZ)
    
    MOV R0, #1          ; Error code
    JMP exit
    
success:
    MOV R0, #0          ; Success code
    
exit:
    SYS #1              ; Print result
    HALT                ; HALT alias for HLT`},Jc=({initialFile:e,initialBreakpoints:t=[],readonly:n=!1,theme:s="dark",lessonId:r,challengeId:a})=>{const[o,l]=m.useState("debugger"),[c,u]=m.useState("showcase.asm"),[d,h]=m.useState(()=>e&&Bn[e]?Bn[e]:Bn["showcase.asm"]),p=[{id:"debugger",label:"Debugger",icon:i.jsx(lr,{className:"w-4 h-4"})},{id:"instructions",label:"Instructions",icon:i.jsx(Tt,{className:"w-4 h-4"})}],f=v=>{u(v),h(Bn[v])},g=()=>i.jsx("div",{className:"h-full",children:i.jsx(tt,{children:i.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-accent to-accent2 bg-clip-text text-transparent mb-4",children:"MicroZ Standalone Debugger"}),i.jsx("p",{className:"text-slate-400 text-lg",children:"Use the MicroZ Lab debugger outside the learning environment"})]}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"Quickstart Outside the Lab",icon:i.jsx(An,{className:"w-4 h-4"})}),i.jsx("div",{className:"p-6 space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-accent/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-accent text-xs font-bold",children:"1"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200",children:"Load or write MicroZ assembly code"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Use the examples below or write your own MicroZ assembly code"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-accent/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-accent text-xs font-bold",children:"2"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200",children:"Set breakpoints on executable lines"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Click in the gutter or press F9. Breakpoints snap to nearest executable line automatically."})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-accent/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-accent text-xs font-bold",children:"3"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200",children:"Run or step through code"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Use Run button or F10/F11 to step through execution with proper line mapping"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-accent/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-accent text-xs font-bold",children:"4"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200",children:"Monitor state in resizable panels"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Watch registers, memory, and console output. Dock right, bottom, or fullscreen."})]})]})]})})]}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"Example Programs",icon:i.jsx(ps,{className:"w-4 h-4"})}),i.jsx("div",{className:"p-6 space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Bn).map(([v,x])=>i.jsxs("div",{className:`p-4 border rounded-xl cursor-pointer transition-all ${c===v?"border-accent/50 bg-accent/10":"border-edge/50 bg-edge/20 hover:border-accent/30"}`,onClick:()=>f(v),children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-2",children:v}),i.jsx("p",{className:"text-sm text-slate-400 mb-3",children:v==="showcase.asm"?"Complete instruction set demonstration - all MicroZ features":v==="hello.asm"?"Basic program with string output":v==="controlflow.asm"?"Factorial calculation with loops and aliases":"Test of instruction aliases and factorial calculation"}),i.jsxs("pre",{className:"text-xs font-mono text-slate-300 bg-bg/50 p-2 rounded overflow-x-auto",children:[x.split(`
`).slice(0,4).join(`
`),x.split(`
`).length>4&&`
...`]})]},v))})})]}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"MicroZ Instruction Set",icon:i.jsx(zt,{className:"w-4 h-4"})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:"Data Movement"}),i.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"MOV"})," ",i.jsx("span",{className:"text-slate-400",children:"dst, src"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"LOAD"})," ",i.jsx("span",{className:"text-slate-400",children:"Rd, [addr]"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"STORE"})," ",i.jsx("span",{className:"text-slate-400",children:"[addr], Rs"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:"Arithmetic"}),i.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"ADD"})," ",i.jsx("span",{className:"text-slate-400",children:"Rd, src"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"SUB"})," ",i.jsx("span",{className:"text-slate-400",children:"Rd, src"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"MUL"})," ",i.jsx("span",{className:"text-slate-400",children:"Rd, src"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"DIV"})," ",i.jsx("span",{className:"text-slate-400",children:"Rd, src"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:"Control Flow"}),i.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"JMP"})," ",i.jsx("span",{className:"text-slate-400",children:"label"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"JE/JNE"})," ",i.jsx("span",{className:"text-slate-400",children:"label"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"JG/JL"})," ",i.jsx("span",{className:"text-slate-400",children:"label"})]}),i.jsx("div",{children:i.jsx("span",{className:"text-accent",children:"CALL/RET"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:"System"}),i.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"SYS"})," ",i.jsx("span",{className:"text-slate-400",children:"#1"})," ",i.jsx("span",{className:"text-slate-500",children:"; print R0"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"SYS"})," ",i.jsx("span",{className:"text-slate-400",children:"#2"})," ",i.jsx("span",{className:"text-slate-500",children:"; print string"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent",children:"HLT"})," ",i.jsx("span",{className:"text-slate-500",children:"; halt"})]})]})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-accent/10 border border-accent/30 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-accent mb-2",children:"Aliases Supported"}),i.jsxs("div",{className:"text-sm text-slate-300 space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"HALT"})," → ",i.jsx("span",{className:"text-accent",children:"HLT"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"JNE"})," → ",i.jsx("span",{className:"text-accent",children:"JNZ"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"JEQ"})," → ",i.jsx("span",{className:"text-accent",children:"JE"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"JZ"})," → ",i.jsx("span",{className:"text-accent",children:"JE"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"SYSCALL"})," → ",i.jsx("span",{className:"text-accent",children:"SYS"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"LOADB"})," → ",i.jsx("span",{className:"text-accent",children:"LOAD"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"STOREB"})," → ",i.jsx("span",{className:"text-accent",children:"STORE"})]})]})]})]})]}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"Embedding the Debugger",icon:i.jsx(ps,{className:"w-4 h-4"})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-slate-300",children:"You can embed the MicroZ debugger in your own applications:"}),i.jsx("div",{className:"bg-bg/50 border border-edge/50 rounded-lg p-4",children:i.jsx("pre",{className:"text-sm font-mono text-accent overflow-x-auto",children:`import { DebuggerStandalone } from '@microz/debugger';

<DebuggerStandalone 
  initialFile="examples/hello.asm"
  theme="system"
  readonly={false}
  initialBreakpoints={[{ path: 'main.asm', line: 5 }]}
/>`})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-edge/50",children:[i.jsx("th",{className:"text-left p-2 text-slate-300 font-medium",children:"Prop"}),i.jsx("th",{className:"text-left p-2 text-slate-300 font-medium",children:"Type"}),i.jsx("th",{className:"text-left p-2 text-slate-300 font-medium",children:"Default"}),i.jsx("th",{className:"text-left p-2 text-slate-300 font-medium",children:"Description"})]})}),i.jsxs("tbody",{className:"text-slate-400",children:[i.jsxs("tr",{className:"border-b border-edge/30",children:[i.jsx("td",{className:"p-2 font-mono text-accent",children:"initialFile"}),i.jsx("td",{className:"p-2",children:"string"}),i.jsx("td",{className:"p-2",children:"-"}),i.jsx("td",{className:"p-2",children:"Load example file on mount"})]}),i.jsxs("tr",{className:"border-b border-edge/30",children:[i.jsx("td",{className:"p-2 font-mono text-accent",children:"readonly"}),i.jsx("td",{className:"p-2",children:"boolean"}),i.jsx("td",{className:"p-2",children:"false"}),i.jsx("td",{className:"p-2",children:"Disable code editing"})]}),i.jsxs("tr",{className:"border-b border-edge/30",children:[i.jsx("td",{className:"p-2 font-mono text-accent",children:"theme"}),i.jsx("td",{className:"p-2",children:"'light'|'dark'|'system'"}),i.jsx("td",{className:"p-2",children:"'dark'"}),i.jsx("td",{className:"p-2",children:"Editor theme"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"p-2 font-mono text-accent",children:"initialBreakpoints"}),i.jsxs("td",{className:"p-2",children:["Array<","{path:string; line:number}",">"]}),i.jsx("td",{className:"p-2",children:"[]"}),i.jsx("td",{className:"p-2",children:"Set breakpoints on load"})]})]})]})})]})]}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"Technical Features",icon:i.jsx(Vt,{className:"w-4 h-4"})}),i.jsxs("div",{className:"p-6 space-y-4 text-sm text-slate-300",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-slate-200 mb-2 flex items-center",children:[i.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Line Awareness"]}),i.jsx("p",{className:"text-slate-400",children:"Breakpoints automatically snap to the nearest executable line. Comments and blank lines are skipped. Source mapping ensures accurate line correspondence between editor and runtime."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-2",children:"Keyboard Shortcuts"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs bg-edge/20 p-3 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("kbd",{className:"bg-accent/20 px-1 rounded",children:"F9"})," Toggle breakpoint"]}),i.jsxs("div",{children:[i.jsx("kbd",{className:"bg-accent/20 px-1 rounded",children:"F10"})," Step over"]}),i.jsxs("div",{children:[i.jsx("kbd",{className:"bg-accent/20 px-1 rounded",children:"F11"})," Step into"]}),i.jsxs("div",{children:[i.jsx("kbd",{className:"bg-accent/20 px-1 rounded",children:"Shift+F11"})," Step out"]}),i.jsxs("div",{children:[i.jsx("kbd",{className:"bg-accent/20 px-1 rounded",children:"Ctrl+B"})," Focus registers"]}),i.jsxs("div",{children:[i.jsx("kbd",{className:"bg-accent/20 px-1 rounded",children:"Ctrl+Enter"})," Run program"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-2",children:"Resizable Layout Options"}),i.jsx("p",{className:"text-slate-400",children:"Use the layout controls to dock the debugger right (40% width), bottom (30% height), or fullscreen. Layout preferences are saved automatically. Panels are resizable with 30%-70% constraints."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-2",children:"Error Recovery"}),i.jsx("p",{className:"text-slate-400",children:"Robust error boundaries capture runtime errors without crashing the app. Actionable error messages point to line/column with suggestions for common typos."})]})]})]}),i.jsxs(_e,{children:[i.jsx(Ie,{title:"MicroZ Assembly Syntax",icon:i.jsx(Tn,{className:"w-4 h-4"})}),i.jsx("div",{className:"p-6 space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:"Sections & Directives"}),i.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".DATA"})," ",i.jsx("span",{className:"text-slate-400",children:"; data section"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".TEXT"})," ",i.jsx("span",{className:"text-slate-400",children:"; code section"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".ORG"})," ",i.jsx("span",{className:"text-slate-400",children:"0x1000"})," ",i.jsx("span",{className:"text-slate-500",children:"; set origin"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".WORD"})," ",i.jsx("span",{className:"text-slate-400",children:"123, 0x7B"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".BYTE"})," ",i.jsx("span",{className:"text-slate-400",children:"65, 'A'"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".ASCII"})," ",i.jsx("span",{className:"text-slate-400",children:'"Hello"'})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".ASCIZ"})," ",i.jsx("span",{className:"text-slate-400",children:'"Hello"'})," ",i.jsx("span",{className:"text-slate-500",children:"; null-terminated"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".STRING"})," ",i.jsx("span",{className:"text-slate-400",children:'"Hello"'})," ",i.jsx("span",{className:"text-slate-500",children:"; no null terminator"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".SPACE"})," ",i.jsx("span",{className:"text-slate-400",children:"10"})," ",i.jsx("span",{className:"text-slate-500",children:"; reserve bytes"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-warn",children:".ALIGN"})," ",i.jsx("span",{className:"text-slate-400",children:"4"})," ",i.jsx("span",{className:"text-slate-500",children:"; align to boundary"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:"Addressing Modes"}),i.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"#42"})," ",i.jsx("span",{className:"text-slate-400",children:"; immediate"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"R0"})," ",i.jsx("span",{className:"text-slate-400",children:"; register"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"[1000]"})," ",i.jsx("span",{className:"text-slate-400",children:"; direct memory"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"[R0]"})," ",i.jsx("span",{className:"text-slate-400",children:"; indirect"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"[R0+4]"})," ",i.jsx("span",{className:"text-slate-400",children:"; indexed"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"[label]"})," ",i.jsx("span",{className:"text-slate-400",children:"; label reference"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:"Number Formats"}),i.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"123"})," ",i.jsx("span",{className:"text-slate-400",children:"; decimal"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"0x7B"})," ",i.jsx("span",{className:"text-slate-400",children:"; hexadecimal"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"0b1111011"})," ",i.jsx("span",{className:"text-slate-400",children:"; binary"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"'A'"})," ",i.jsx("span",{className:"text-slate-400",children:"; character (65)"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:"Registers"}),i.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"R0-R15"})," ",i.jsx("span",{className:"text-slate-400",children:"; general purpose"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"SP"})," ",i.jsx("span",{className:"text-slate-400",children:"; stack pointer"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"BP"})," ",i.jsx("span",{className:"text-slate-400",children:"; base pointer"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-accent2",children:"IP"})," ",i.jsx("span",{className:"text-slate-400",children:"; instruction pointer"})]})]})]})]})})]})]})})});return i.jsxs("div",{className:"h-full",children:[i.jsx("div",{className:"p-4 border-b border-edge/50",children:i.jsx(Er,{tabs:p,activeTab:o,onTabChange:l})}),i.jsx("div",{className:"flex-1 min-h-0",children:o==="debugger"?i.jsx(Uh,{children:i.jsx(Af,{initialCode:d,readonly:n,theme:s})}):g()})]})};function xE(){if(window.location.pathname==="/debugger")return i.jsx(Ws,{children:i.jsx("div",{className:"h-full bg-bg text-slate-200",children:i.jsx(Jc,{})})});const[t,n]=m.useState("learn"),[s,r]=m.useState([]);m.useEffect(()=>{UC()},[]),m.useEffect(()=>{const u=()=>{n("learn")},d=h=>{const{tab:p}=h.detail||{};p&&["learn","debug","docs"].includes(p)&&n(p)};return window.addEventListener("navigate-to-learn",u),window.addEventListener("navigate-to-tab",d),()=>{window.removeEventListener("navigate-to-learn",u),window.removeEventListener("navigate-to-tab",d)}},[]);const a=u=>{n("debug")},o=u=>{switch(u){case"docs":n("docs");break;case"run":case"step":case"continue":case"breakpoint":case"goto":case"follow-sp":break;default:console.log("Unknown command:",u)}},l=u=>{r(d=>d.filter(h=>h.id!==u))},c=()=>{switch(t){case"learn":return i.jsx(mE,{onOpenInDebugger:a});case"debug":return i.jsx(Ws,{fallback:i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-6xl",children:"⚠️"}),i.jsx("h3",{className:"text-lg font-medium text-slate-200",children:"Debugger Error"}),i.jsx("p",{className:"text-slate-400",children:"The debugger encountered an error. Try refreshing the page."})]})}),children:i.jsx(Af,{})});case"docs":return i.jsx(gE,{});default:return null}};return i.jsx(Ws,{children:i.jsx(Uh,{children:i.jsx(Tm,{children:i.jsxs(_m,{children:[i.jsx(Ti,{path:"/debugger",element:i.jsx(Jc,{})}),i.jsx(Ti,{path:"*",element:i.jsxs(i.Fragment,{children:[i.jsx(W1,{activeTab:t,onTabChange:n,onCommandAction:o,children:c()}),i.jsx(q1,{toasts:s,onClose:l})]})})]})})})})}Pi.createRoot(document.getElementById("root")).render(i.jsx(xE,{}));
